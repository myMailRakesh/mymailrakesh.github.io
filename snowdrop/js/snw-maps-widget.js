!function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('snwMapsWidget',[],t):'object'==typeof exports?exports.snwMapsWidget=t():e.snwMapsWidget=t();}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;let a=n[i]={ i:i,l:!1,exports:{} };return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports;}var n={};return t.m=e,t.c=n,t.i=function(e){return e;},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{ configurable:!1,enumerable:!0,get:i });},t.n=function(e){let n=e&&e.__esModule?function(){return e.default;}:function(){return e;};return t.d(n,'a',n),n;},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},t.p='',t(t.s=86);}([function(e,t,n){let i,a;(function(){function n(e){function t(t,n,i,a,s,r){for(;s>=0&&s<r;s+=e){let o=a?a[s]:s;i=n(i,t[o],o,t);}return i;}return function(n,i,a,s){i=S(i,s,4);let r=!D(n)&&C.keys(n),o=(r||n).length,l=e>0?0:o-1;return arguments.length<3&&(a=n[r?r[l]:l],l+=e),t(n,i,a,r,l,o);};}function s(e){return function(t,n,i){n=k(n,i);for(let a=L(t),s=e>0?0:a-1;s>=0&&s<a;s+=e)if(n(t[s],s,t))return s;return-1;};}function r(e,t,n){return function(i,a,s){let r=0,o=L(i);if('number'==typeof s)e>0?r=s>=0?s:Math.max(s+o,r):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(i,a),i[s]===a?s:-1;if(a!==a)return s=t(f.call(i,r,o),C.isNaN),s>=0?s+r:-1;for(s=e>0?r:o-1;s>=0&&s<o;s+=e)if(i[s]===a)return s;return-1;};}function o(e,t){let n=A.length,i=e.constructor,a=C.isFunction(i)&&i.prototype||d,s='constructor';for(C.has(e,s)&&!C.contains(t,s)&&t.push(s);n--;)(s=A[n])in e&&e[s]!==a[s]&&!C.contains(t,s)&&t.push(s);}var l=this,c=l._,u=Array.prototype,d=Object.prototype,p=Function.prototype,h=u.push,f=u.slice,m=d.toString,y=d.hasOwnProperty,g=Array.isArray,v=Object.keys,w=p.bind,_=Object.create,b=function(){},C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e);};void 0!==e&&e.exports&&(t=e.exports=C),t._=C,C.VERSION='1.8.3';var S=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n);};case 2:return function(n,i){return e.call(t,n,i);};case 3:return function(n,i,a){return e.call(t,n,i,a);};case 4:return function(n,i,a,s){return e.call(t,n,i,a,s);};}return function(){return e.apply(t,arguments);};},k=function(e,t,n){return null==e?C.identity:C.isFunction(e)?S(e,t,n):C.isObject(e)?C.matcher(e):C.property(e);};C.iteratee=function(e,t){return k(e,t,1/0);};var T=function(e,t){return function(n){let i=arguments.length;if(i<2||null==n)return n;for(let a=1;a<i;a++)for(let s=arguments[a],r=e(s),o=r.length,l=0;l<o;l++){let c=r[l];t&&void 0!==n[c]||(n[c]=s[c]);}return n;};},M=function(e){if(!C.isObject(e))return{};if(_)return _(e);b.prototype=e;let t=new b;return b.prototype=null,t;},x=function(e){return function(t){return null==t?void 0:t[e];};},E=Math.pow(2,53)-1,L=x('length'),D=function(e){let t=L(e);return'number'==typeof t&&t>=0&&t<=E;};C.each=C.forEach=function(e,t,n){t=S(t,n);let i,a;if(D(e))for(i=0,a=e.length;i<a;i++)t(e[i],i,e);else{let s=C.keys(e);for(i=0,a=s.length;i<a;i++)t(e[s[i]],s[i],e);}return e;},C.map=C.collect=function(e,t,n){t=k(t,n);for(var i=!D(e)&&C.keys(e),a=(i||e).length,s=Array(a),r=0;r<a;r++){let o=i?i[r]:r;s[r]=t(e[o],o,e);}return s;},C.reduce=C.foldl=C.inject=n(1),C.reduceRight=C.foldr=n(-1),C.find=C.detect=function(e,t,n){let i;if(void 0!==(i=D(e)?C.findIndex(e,t,n):C.findKey(e,t,n))&&-1!==i)return e[i];},C.filter=C.select=function(e,t,n){let i=[];return t=k(t,n),C.each(e,function(e,n,a){t(e,n,a)&&i.push(e);}),i;},C.reject=function(e,t,n){return C.filter(e,C.negate(k(t)),n);},C.every=C.all=function(e,t,n){t=k(t,n);for(let i=!D(e)&&C.keys(e),a=(i||e).length,s=0;s<a;s++){let r=i?i[s]:s;if(!t(e[r],r,e))return!1;}return!0;},C.some=C.any=function(e,t,n){t=k(t,n);for(let i=!D(e)&&C.keys(e),a=(i||e).length,s=0;s<a;s++){let r=i?i[s]:s;if(t(e[r],r,e))return!0;}return!1;},C.contains=C.includes=C.include=function(e,t,n,i){return D(e)||(e=C.values(e)),('number'!=typeof n||i)&&(n=0),C.indexOf(e,t,n)>=0;},C.invoke=function(e,t){let n=f.call(arguments,2),i=C.isFunction(t);return C.map(e,function(e){let a=i?t:e[t];return null==a?a:a.apply(e,n);});},C.pluck=function(e,t){return C.map(e,C.property(t));},C.where=function(e,t){return C.filter(e,C.matcher(t));},C.findWhere=function(e,t){return C.find(e,C.matcher(t));},C.max=function(e,t,n){let i,a,s=-1/0,r=-1/0;if(null==t&&null!=e){e=D(e)?e:C.values(e);for(let o=0,l=e.length;o<l;o++)(i=e[o])>s&&(s=i);}else t=k(t,n),C.each(e,function(e,n,i){((a=t(e,n,i))>r||a===-1/0&&s===-1/0)&&(s=e,r=a);});return s;},C.min=function(e,t,n){let i,a,s=1/0,r=1/0;if(null==t&&null!=e){e=D(e)?e:C.values(e);for(let o=0,l=e.length;o<l;o++)(i=e[o])<s&&(s=i);}else t=k(t,n),C.each(e,function(e,n,i){((a=t(e,n,i))<r||a===1/0&&s===1/0)&&(s=e,r=a);});return s;},C.shuffle=function(e){for(var t,n=D(e)?e:C.values(e),i=n.length,a=Array(i),s=0;s<i;s++)t=C.random(0,s),t!==s&&(a[s]=a[t]),a[t]=n[s];return a;},C.sample=function(e,t,n){return null==t||n?(D(e)||(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,Math.max(0,t));},C.sortBy=function(e,t,n){return t=k(t,n),C.pluck(C.map(e,function(e,n,i){return{ value:e,index:n,criteria:t(e,n,i) };}).sort(function(e,t){let n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1;}return e.index-t.index;}),'value');};let P=function(e){return function(t,n,i){let a={};return n=k(n,i),C.each(t,function(i,s){let r=n(i,s,t);e(a,i,r);}),a;};};C.groupBy=P(function(e,t,n){C.has(e,n)?e[n].push(t):e[n]=[t];}),C.indexBy=P(function(e,t,n){e[n]=t;}),C.countBy=P(function(e,t,n){C.has(e,n)?e[n]++:e[n]=1;}),C.toArray=function(e){return e?C.isArray(e)?f.call(e):D(e)?C.map(e,C.identity):C.values(e):[];},C.size=function(e){return null==e?0:D(e)?e.length:C.keys(e).length;},C.partition=function(e,t,n){t=k(t,n);let i=[],a=[];return C.each(e,function(e,n,s){(t(e,n,s)?i:a).push(e);}),[i,a];},C.first=C.head=C.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:C.initial(e,e.length-t);},C.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)));},C.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:C.rest(e,Math.max(0,e.length-t));},C.rest=C.tail=C.drop=function(e,t,n){return f.call(e,null==t||n?1:t);},C.compact=function(e){return C.filter(e,C.identity);};var O=function(e,t,n,i){for(var a=[],s=0,r=i||0,o=L(e);r<o;r++){let l=e[r];if(D(l)&&(C.isArray(l)||C.isArguments(l))){t||(l=O(l,t,n));let c=0,u=l.length;for(a.length+=u;c<u;)a[s++]=l[c++];}else n||(a[s++]=l);}return a;};C.flatten=function(e,t){return O(e,t,!1);},C.without=function(e){return C.difference(e,f.call(arguments,1));},C.uniq=C.unique=function(e,t,n,i){C.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=k(n,i));for(var a=[],s=[],r=0,o=L(e);r<o;r++){let l=e[r],c=n?n(l,r,e):l;t?(r&&s===c||a.push(l),s=c):n?C.contains(s,c)||(s.push(c),a.push(l)):C.contains(a,l)||a.push(l);}return a;},C.union=function(){return C.uniq(O(arguments,!0,!0));},C.intersection=function(e){for(var t=[],n=arguments.length,i=0,a=L(e);i<a;i++){let s=e[i];if(!C.contains(t,s)){for(var r=1;r<n&&C.contains(arguments[r],s);r++);r===n&&t.push(s);}}return t;},C.difference=function(e){let t=O(arguments,!0,!0,1);return C.filter(e,function(e){return!C.contains(t,e);});},C.zip=function(){return C.unzip(arguments);},C.unzip=function(e){for(var t=e&&C.max(e,L).length||0,n=Array(t),i=0;i<t;i++)n[i]=C.pluck(e,i);return n;},C.object=function(e,t){for(var n={},i=0,a=L(e);i<a;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n;},C.findIndex=s(1),C.findLastIndex=s(-1),C.sortedIndex=function(e,t,n,i){n=k(n,i,1);for(var a=n(t),s=0,r=L(e);s<r;){let o=Math.floor((s+r)/2);n(e[o])<a?s=o+1:r=o;}return s;},C.indexOf=r(1,C.findIndex,C.sortedIndex),C.lastIndexOf=r(-1,C.findLastIndex),C.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=Array(i),s=0;s<i;s++,e+=n)a[s]=e;return a;};let R=function(e,t,n,i,a){if(!(i instanceof t))return e.apply(n,a);let s=M(e.prototype),r=e.apply(s,a);return C.isObject(r)?r:s;};C.bind=function(e,t){if(w&&e.bind===w)return w.apply(e,f.call(arguments,1));if(!C.isFunction(e))throw new TypeError('Bind must be called on a function');var n=f.call(arguments,2),i=function(){return R(e,i,t,this,n.concat(f.call(arguments)));};return i;},C.partial=function(e){var t=f.call(arguments,1),n=function(){for(var i=0,a=t.length,s=Array(a),r=0;r<a;r++)s[r]=t[r]===C?arguments[i++]:t[r];for(;i<arguments.length;)s.push(arguments[i++]);return R(e,n,this,this,s);};return n;},C.bindAll=function(e){let t,n,i=arguments.length;if(i<=1)throw new Error('bindAll must be passed function names');for(t=1;t<i;t++)n=arguments[t],e[n]=C.bind(e[n],e);return e;},C.memoize=function(e,t){var n=function(i){let a=n.cache,s=''+(t?t.apply(this,arguments):i);return C.has(a,s)||(a[s]=e.apply(this,arguments)),a[s];};return n.cache={},n;},C.delay=function(e,t){let n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n);},t);},C.defer=C.partial(C.delay,C,1),C.throttle=function(e,t,n){let i,a,s,r=null,o=0;n||(n={});let l=function(){o=!1===n.leading?0:C.now(),r=null,s=e.apply(i,a),r||(i=a=null);};return function(){let c=C.now();o||!1!==n.leading||(o=c);let u=t-(c-o);return i=this,a=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),o=c,s=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(l,u)),s;};},C.debounce=function(e,t,n){var i,a,s,r,o,l=function(){let c=C.now()-r;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(o=e.apply(s,a),i||(s=a=null)));};return function(){s=this,a=arguments,r=C.now();let c=n&&!i;return i||(i=setTimeout(l,t)),c&&(o=e.apply(s,a),s=a=null),o;};},C.wrap=function(e,t){return C.partial(t,e);},C.negate=function(e){return function(){return!e.apply(this,arguments);};},C.compose=function(){let e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i;};},C.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments);};},C.before=function(e,t){let n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n;};},C.once=C.partial(C.before,2);var I=!{ toString:null }.propertyIsEnumerable('toString'),A=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];C.keys=function(e){if(!C.isObject(e))return[];if(v)return v(e);let t=[];for(let n in e)C.has(e,n)&&t.push(n);return I&&o(e,t),t;},C.allKeys=function(e){if(!C.isObject(e))return[];let t=[];for(let n in e)t.push(n);return I&&o(e,t),t;},C.values=function(e){for(var t=C.keys(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=e[t[a]];return i;},C.mapObject=function(e,t,n){t=k(t,n);for(var i,a=C.keys(e),s=a.length,r={},o=0;o<s;o++)i=a[o],r[i]=t(e[i],i,e);return r;},C.pairs=function(e){for(var t=C.keys(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=[t[a],e[t[a]]];return i;},C.invert=function(e){for(var t={},n=C.keys(e),i=0,a=n.length;i<a;i++)t[e[n[i]]]=n[i];return t;},C.functions=C.methods=function(e){let t=[];for(let n in e)C.isFunction(e[n])&&t.push(n);return t.sort();},C.extend=T(C.allKeys),C.extendOwn=C.assign=T(C.keys),C.findKey=function(e,t,n){t=k(t,n);for(var i,a=C.keys(e),s=0,r=a.length;s<r;s++)if(i=a[s],t(e[i],i,e))return i;},C.pick=function(e,t,n){let i,a,s={},r=e;if(null==r)return s;C.isFunction(t)?(a=C.allKeys(r),i=S(t,n)):(a=O(arguments,!1,!1,1),i=function(e,t,n){return t in n;},r=Object(r));for(let o=0,l=a.length;o<l;o++){let c=a[o],u=r[c];i(u,c,r)&&(s[c]=u);}return s;},C.omit=function(e,t,n){if(C.isFunction(t))t=C.negate(t);else{let i=C.map(O(arguments,!1,!1,1),String);t=function(e,t){return!C.contains(i,t);};}return C.pick(e,t,n);},C.defaults=T(C.allKeys,!0),C.create=function(e,t){let n=M(e);return t&&C.extendOwn(n,t),n;},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e;},C.tap=function(e,t){return t(e),e;},C.isMatch=function(e,t){let n=C.keys(t),i=n.length;if(null==e)return!i;for(let a=Object(e),s=0;s<i;s++){let r=n[s];if(t[r]!==a[r]||!(r in a))return!1;}return!0;};var B=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);let a=m.call(e);if(a!==m.call(t))return!1;switch(a){case'[object RegExp]':case'[object String]':return''+e==''+t;case'[object Number]':return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case'[object Date]':case'[object Boolean]':return+e==+t;}let s='[object Array]'===a;if(!s){if('object'!=typeof e||'object'!=typeof t)return!1;let r=e.constructor,o=t.constructor;if(r!==o&&!(C.isFunction(r)&&r instanceof r&&C.isFunction(o)&&o instanceof o)&&'constructor'in e&&'constructor'in t)return!1;}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!B(e[l],t[l],n,i))return!1;}else{let c,u=C.keys(e);if(l=u.length,C.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!C.has(t,c)||!B(e[c],t[c],n,i))return!1;}return n.pop(),i.pop(),!0;};C.isEqual=function(e,t){return B(e,t);},C.isEmpty=function(e){return null==e||(D(e)&&(C.isArray(e)||C.isString(e)||C.isArguments(e))?0===e.length:0===C.keys(e).length);},C.isElement=function(e){return!(!e||1!==e.nodeType);},C.isArray=g||function(e){return'[object Array]'===m.call(e);},C.isObject=function(e){let t=typeof e;return'function'===t||'object'===t&&!!e;},C.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(e){C['is'+e]=function(t){return m.call(t)==='[object '+e+']';};}),C.isArguments(arguments)||(C.isArguments=function(e){return C.has(e,'callee');}),'function'!=typeof/./&&'object'!=typeof Int8Array&&(C.isFunction=function(e){return'function'==typeof e||!1;}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e));},C.isNaN=function(e){return C.isNumber(e)&&e!==+e;},C.isBoolean=function(e){return!0===e||!1===e||'[object Boolean]'===m.call(e);},C.isNull=function(e){return null===e;},C.isUndefined=function(e){return void 0===e;},C.has=function(e,t){return null!=e&&y.call(e,t);},C.noConflict=function(){return l._=c,this;},C.identity=function(e){return e;},C.constant=function(e){return function(){return e;};},C.noop=function(){},C.property=x,C.propertyOf=function(e){return null==e?function(){}:function(t){return e[t];};},C.matcher=C.matches=function(e){return e=C.extendOwn({},e),function(t){return C.isMatch(t,e);};},C.times=function(e,t,n){let i=Array(Math.max(0,e));t=S(t,n,1);for(let a=0;a<e;a++)i[a]=t(a);return i;},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1));},C.now=Date.now||function(){return(new Date).getTime();};let N={ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','`':'&#x60;' },H=C.invert(N),W=function(e){let t=function(t){return e[t];},n='(?:'+C.keys(e).join('|')+')',i=RegExp(n),a=RegExp(n,'g');return function(e){return e=null==e?'':''+e,i.test(e)?e.replace(a,t):e;};};C.escape=W(N),C.unescape=W(H),C.result=function(e,t,n){let i=null==e?void 0:e[t];return void 0===i&&(i=n),C.isFunction(i)?i.call(e):i;};let F=0;C.uniqueId=function(e){let t=++F+'';return e?e+t:t;},C.templateSettings={ evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g };let j=/(.)^/,G={ '\'':'\'','\\':'\\','\r':'r','\n':'n','\u2028':'u2028','\u2029':'u2029' },U=/\\|'|\r|\n|\u2028|\u2029/g,K=function(e){return'\\'+G[e];};C.template=function(e,t,n){!t&&n&&(t=n),t=C.defaults({},t,C.templateSettings);let i=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join('|')+'|$','g'),a=0,s='__p+=\'';e.replace(i,function(t,n,i,r,o){return s+=e.slice(a,o).replace(U,K),a=o+t.length,n?s+='\'+\n((__t=('+n+'))==null?\'\':_.escape(__t))+\n\'':i?s+='\'+\n((__t=('+i+'))==null?\'\':__t)+\n\'':r&&(s+='\';\n'+r+'\n__p+=\''),t;}),s+='\';\n',t.variable||(s='with(obj||{}){\n'+s+'}\n'),s='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+s+'return __p;\n';try{var r=new Function(t.variable||'obj','_',s);}catch(e){throw e.source=s,e;}let o=function(e){return r.call(this,e,C);};return o.source='function('+(t.variable||'obj')+'){\n'+s+'}',o;},C.chain=function(e){let t=C(e);return t._chain=!0,t;};let V=function(e,t){return e._chain?C(t).chain():t;};C.mixin=function(e){C.each(C.functions(e),function(t){let n=C[t]=e[t];C.prototype[t]=function(){let e=[this._wrapped];return h.apply(e,arguments),V(this,n.apply(C,e));};});},C.mixin(C),C.each(['pop','push','reverse','shift','sort','splice','unshift'],function(e){let t=u[e];C.prototype[e]=function(){let n=this._wrapped;return t.apply(n,arguments),'shift'!==e&&'splice'!==e||0!==n.length||delete n[0],V(this,n);};}),C.each(['concat','join','slice'],function(e){let t=u[e];C.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments));};}),C.prototype.value=function(){return this._wrapped;},C.prototype.valueOf=C.prototype.toJSON=C.prototype.value,C.prototype.toString=function(){return''+this._wrapped;},i=[],void 0!==(a=function(){return C;}.apply(t,i))&&(e.exports=a);}).call(this);},function(e,t,n){let i,a;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(t,n){'object'==typeof e&&'object'==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error('jQuery requires a window with a document');return n(e);}:n(t);}('undefined'!=typeof window?window:this,function(n,s){function r(e){let t=!!e&&'length'in e&&e.length,n=le.type(e);return'function'!==n&&!le.isWindow(e)&&('array'===n||0===t||'number'==typeof t&&t>0&&t-1 in e);}function o(e,t,n){if(le.isFunction(t))return le.grep(e,function(e,i){return!!t.call(e,i,e)!==n;});if(t.nodeType)return le.grep(e,function(e){return e===t!==n;});if('string'==typeof t){if(ve.test(t))return le.filter(t,e,n);t=le.filter(t,e);}return le.grep(e,function(e){return ie.call(t,e)>-1!==n;});}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e;}function c(e){let t={};return le.each(e.match(Se)||[],function(e,n){t[n]=!0;}),t;}function u(){Q.removeEventListener('DOMContentLoaded',u),n.removeEventListener('load',u),le.ready();}function d(){this.expando=le.expando+d.uid++;}function p(e,t,n){let i;if(void 0===n&&1===e.nodeType)if(i='data-'+t.replace(De,'-$&').toLowerCase(),'string'==typeof(n=e.getAttribute(i))){try{n='true'===n||'false'!==n&&('null'===n?null:+n+''===n?+n:Le.test(n)?le.parseJSON(n):n);}catch(e){}Ee.set(e,t,n);}else n=void 0;return n;}function h(e,t,n,i){let a,s=1,r=20,o=i?function(){return i.cur();}:function(){return le.css(e,t,'');},l=o(),c=n&&n[3]||(le.cssNumber[t]?'':'px'),u=(le.cssNumber[t]||'px'!==c&&+l)&&Oe.exec(le.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{s=s||'.5',u/=s,le.style(e,t,u+c);}while(s!==(s=o()/l)&&1!==s&&--r);}return n&&(u=+u||+l||0,a=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=a)),a;}function f(e,t){let n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||'*'):void 0!==e.querySelectorAll?e.querySelectorAll(t||'*'):[];return void 0===t||t&&le.nodeName(e,t)?le.merge([e],n):n;}function m(e,t){for(let n=0,i=e.length;n<i;n++)xe.set(e[n],'globalEval',!t||xe.get(t[n],'globalEval'));}function y(e,t,n,i,a){for(var s,r,o,l,c,u,d=t.createDocumentFragment(),p=[],h=0,y=e.length;h<y;h++)if((s=e[h])||0===s)if('object'===le.type(s))le.merge(p,s.nodeType?[s]:s);else if(We.test(s)){for(r=r||d.appendChild(t.createElement('div')),o=(Be.exec(s)||['',''])[1].toLowerCase(),l=He[o]||He._default,r.innerHTML=l[1]+le.htmlPrefilter(s)+l[2],u=l[0];u--;)r=r.lastChild;le.merge(p,r.childNodes),r=d.firstChild,r.textContent='';}else p.push(t.createTextNode(s));for(d.textContent='',h=0;s=p[h++];)if(i&&le.inArray(s,i)>-1)a&&a.push(s);else if(c=le.contains(s.ownerDocument,s),r=f(d.appendChild(s),'script'),c&&m(r),n)for(u=0;s=r[u++];)Ne.test(s.type||'')&&n.push(s);return d;}function g(){return!0;}function v(){return!1;}function w(){try{return Q.activeElement;}catch(e){}}function _(e,t,n,i,a,s){let r,o;if('object'==typeof t){'string'!=typeof n&&(i=i||n,n=void 0);for(o in t)_(e,o,n,i,t[o],s);return e;}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&('string'==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),!1===a)a=v;else if(!a)return e;return 1===s&&(r=a,a=function(e){return le().off(e),r.apply(this,arguments);},a.guid=r.guid||(r.guid=le.guid++)),e.each(function(){le.event.add(this,t,a,i,n);});}function b(e,t){return le.nodeName(e,'table')&&le.nodeName(11!==t.nodeType?t:t.firstChild,'tr')?e.getElementsByTagName('tbody')[0]||e.appendChild(e.ownerDocument.createElement('tbody')):e;}function C(e){return e.type=(null!==e.getAttribute('type'))+'/'+e.type,e;}function S(e){let t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute('type'),e;}function k(e,t){let n,i,a,s,r,o,l,c;if(1===t.nodeType){if(xe.hasData(e)&&(s=xe.access(e),r=xe.set(t,s),c=s.events)){delete r.handle,r.events={};for(a in c)for(n=0,i=c[a].length;n<i;n++)le.event.add(t,a,c[a][n]);}Ee.hasData(e)&&(o=Ee.access(e),l=le.extend({},o),Ee.set(t,l));}}function T(e,t){let n=t.nodeName.toLowerCase();'input'===n&&Ae.test(e.type)?t.checked=e.checked:'input'!==n&&'textarea'!==n||(t.defaultValue=e.defaultValue);}function M(e,t,n,i){t=te.apply([],t);let a,s,r,o,l,c,u=0,d=e.length,p=d-1,h=t[0],m=le.isFunction(h);if(m||d>1&&'string'==typeof h&&!oe.checkClone&&Ve.test(h))return e.each(function(a){let s=e.eq(a);m&&(t[0]=h.call(this,a,s.html())),M(s,t,n,i);});if(d&&(a=y(t,e[0].ownerDocument,!1,e,i),s=a.firstChild,1===a.childNodes.length&&(a=s),s||i)){for(r=le.map(f(a,'script'),C),o=r.length;u<d;u++)l=a,u!==p&&(l=le.clone(l,!0,!0),o&&le.merge(r,f(l,'script'))),n.call(e[u],l,u);if(o)for(c=r[r.length-1].ownerDocument,le.map(r,S),u=0;u<o;u++)l=r[u],Ne.test(l.type||'')&&!xe.access(l,'globalEval')&&le.contains(c,l)&&(l.src?le._evalUrl&&le._evalUrl(l.src):le.globalEval(l.textContent.replace(Ye,'')));}return e;}function x(e,t,n){for(var i,a=t?le.filter(t,e):e,s=0;null!=(i=a[s]);s++)n||1!==i.nodeType||le.cleanData(f(i)),i.parentNode&&(n&&le.contains(i.ownerDocument,i)&&m(f(i,'script')),i.parentNode.removeChild(i));return e;}function E(e,t){let n=le(t.createElement(e)).appendTo(t.body),i=le.css(n[0],'display');return n.detach(),i;}function L(e){let t=Q,n=qe[e];return n||(n=E(e,t),'none'!==n&&n||($e=($e||le('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(t.documentElement),t=$e[0].contentDocument,t.write(),t.close(),n=E(e,t),$e.detach()),qe[e]=n),n;}function D(e,t,n){let i,a,s,r,o=e.style;return n=n||Xe(e),r=n?n.getPropertyValue(t)||n[t]:void 0,''!==r&&void 0!==r||le.contains(e.ownerDocument,e)||(r=le.style(e,t)),n&&!oe.pixelMarginRight()&&Je.test(r)&&Ze.test(t)&&(i=o.width,a=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=a,o.maxWidth=s),void 0!==r?r+'':r;}function P(e,t){return{ get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments);} };}function O(e){if(e in st)return e;for(let t=e[0].toUpperCase()+e.slice(1),n=at.length;n--;)if((e=at[n]+t)in st)return e;}function R(e,t,n){let i=Oe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||'px'):t;}function I(e,t,n,i,a){for(var s=n===(i?'border':'content')?4:'width'===t?1:0,r=0;s<4;s+=2)'margin'===n&&(r+=le.css(e,n+Re[s],!0,a)),i?('content'===n&&(r-=le.css(e,'padding'+Re[s],!0,a)),'margin'!==n&&(r-=le.css(e,'border'+Re[s]+'Width',!0,a))):(r+=le.css(e,'padding'+Re[s],!0,a),'padding'!==n&&(r+=le.css(e,'border'+Re[s]+'Width',!0,a)));return r;}function A(e,t,n){let i=!0,a='width'===t?e.offsetWidth:e.offsetHeight,s=Xe(e),r='border-box'===le.css(e,'boxSizing',!1,s);if(a<=0||null==a){if(a=D(e,t,s),(a<0||null==a)&&(a=e.style[t]),Je.test(a))return a;i=r&&(oe.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0;}return a+I(e,t,n||(r?'border':'content'),i,s)+'px';}function B(e,t){for(var n,i,a,s=[],r=0,o=e.length;r<o;r++)i=e[r],i.style&&(s[r]=xe.get(i,'olddisplay'),n=i.style.display,t?(s[r]||'none'!==n||(i.style.display=''),''===i.style.display&&Ie(i)&&(s[r]=xe.access(i,'olddisplay',L(i.nodeName)))):(a=Ie(i),'none'===n&&a||xe.set(i,'olddisplay',a?n:le.css(i,'display'))));for(r=0;r<o;r++)i=e[r],i.style&&(t&&'none'!==i.style.display&&''!==i.style.display||(i.style.display=t?s[r]||'':'none'));return e;}function N(e,t,n,i,a){return new N.prototype.init(e,t,n,i,a);}function H(){return n.setTimeout(function(){rt=void 0;}),rt=le.now();}function W(e,t){let n,i=0,a={ height:e };for(t=t?1:0;i<4;i+=2-t)n=Re[i],a['margin'+n]=a['padding'+n]=e;return t&&(a.opacity=a.width=e),a;}function F(e,t,n){for(var i,a=(U.tweeners[t]||[]).concat(U.tweeners['*']),s=0,r=a.length;s<r;s++)if(i=a[s].call(n,t,e))return i;}function j(e,t,n){let i,a,s,r,o,l,c,u=this,d={},p=e.style,h=e.nodeType&&Ie(e),f=xe.get(e,'fxshow');n.queue||(o=le._queueHooks(e,'fx'),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l();}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,le.queue(e,'fx').length||o.empty.fire();});})),1===e.nodeType&&('height'in t||'width'in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=le.css(e,'display'),'inline'===('none'===c?xe.get(e,'olddisplay')||L(e.nodeName):c)&&'none'===le.css(e,'float')&&(p.display='inline-block')),n.overflow&&(p.overflow='hidden',u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2];}));for(i in t)if(a=t[i],lt.exec(a)){if(delete t[i],s=s||'toggle'===a,a===(h?'hide':'show')){if('show'!==a||!f||void 0===f[i])continue;h=!0;}d[i]=f&&f[i]||le.style(e,i);}else c=void 0;if(le.isEmptyObject(d))'inline'===('none'===c?L(e.nodeName):c)&&(p.display=c);else{f?'hidden'in f&&(h=f.hidden):f=xe.access(e,'fxshow',{}),s&&(f.hidden=!h),h?le(e).show():u.done(function(){le(e).hide();}),u.done(function(){let t;xe.remove(e,'fxshow');for(t in d)le.style(e,t,d[t]);});for(i in d)r=F(h?f[i]:0,i,u),i in f||(f[i]=r.start,h&&(r.end=r.start,r.start='width'===i||'height'===i?1:0));}}function G(e,t){let n,i,a,s,r;for(n in e)if(i=le.camelCase(n),a=t[i],s=e[n],le.isArray(s)&&(a=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(r=le.cssHooks[i])&&'expand'in r){s=r.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=a);}else t[i]=a;}function U(e,t,n){var i,a,s=0,r=U.prefilters.length,o=le.Deferred().always(function(){delete l.elem;}),l=function(){if(a)return!1;for(var t=rt||H(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,r=0,l=c.tweens.length;r<l;r++)c.tweens[r].run(s);return o.notifyWith(e,[c,s,n]),s<1&&l?n:(o.resolveWith(e,[c]),!1);},c=o.promise({ elem:e,props:le.extend({},t),opts:le.extend(!0,{ specialEasing:{},easing:le.easing._default },n),originalProperties:t,originalOptions:n,startTime:rt||H(),duration:n.duration,tweens:[],createTween:function(t,n){let i=le.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i;},stop:function(t){let n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this;} }),u=c.props;for(G(u,c.opts.specialEasing);s<r;s++)if(i=U.prefilters[s].call(c,e,u,c.opts))return le.isFunction(i.stop)&&(le._queueHooks(c.elem,c.opts.queue).stop=le.proxy(i.stop,i)),i;return le.map(u,F,c),le.isFunction(c.opts.start)&&c.opts.start.call(e,c),le.fx.timer(le.extend(l,{ elem:e,anim:c,queue:c.opts.queue })),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always);}function K(e){return e.getAttribute&&e.getAttribute('class')||'';}function V(e){return function(t,n){'string'!=typeof t&&(n=t,t='*');let i,a=0,s=t.toLowerCase().match(Se)||[];if(le.isFunction(n))for(;i=s[a++];)'+'===i[0]?(i=i.slice(1)||'*',(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n);};}function z(e,t,n,i){function a(o){let l;return s[o]=!0,le.each(e[o]||[],function(e,o){let c=o(t,n,i);return'string'!=typeof c||r||s[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1);}),l;}var s={},r=e===Et;return a(t.dataTypes[0])||!s['*']&&a('*');}function Y(e,t){let n,i,a=le.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&le.extend(!0,e,i),e;}function $(e,t,n){for(var i,a,s,r,o=e.contents,l=e.dataTypes;'*'===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader('Content-Type'));if(i)for(a in o)if(o[a]&&o[a].test(i)){l.unshift(a);break;}if(l[0]in n)s=l[0];else{for(a in n){if(!l[0]||e.converters[a+' '+l[0]]){s=a;break;}r||(r=a);}s=s||r;}if(s)return s!==l[0]&&l.unshift(s),n[s];}function q(e,t,n,i){let a,s,r,o,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if('*'===s)s=l;else if('*'!==l&&l!==s){if(!(r=c[l+' '+s]||c['* '+s]))for(a in c)if(o=a.split(' '),o[1]===s&&(r=c[l+' '+o[0]]||c['* '+o[0]])){!0===r?r=c[a]:!0!==c[a]&&(s=o[0],u.unshift(o[1]));break;}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t);}catch(e){return{ state:'parsererror',error:r?e:'No conversion from '+l+' to '+s };}}return{ state:'success',data:t };}function Z(e,t,n,i){let a;if(le.isArray(t))le.each(t,function(t,a){n||Ot.test(e)?i(e,a):Z(e+'['+('object'==typeof a&&null!=a?t:'')+']',a,n,i);});else if(n||'object'!==le.type(t))i(e,t);else for(a in t)Z(e+'['+a+']',t[a],n,i);}function J(e){return le.isWindow(e)?e:9===e.nodeType&&e.defaultView;}var X=[],Q=n.document,ee=X.slice,te=X.concat,ne=X.push,ie=X.indexOf,ae={},se=ae.toString,re=ae.hasOwnProperty,oe={},le=function(e,t){return new le.fn.init(e,t);},ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^-ms-/,de=/-([\da-z])/gi,pe=function(e,t){return t.toUpperCase();};le.fn=le.prototype={ jquery:'2.2.4',constructor:le,selector:'',length:0,toArray:function(){return ee.call(this);},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ee.call(this);},pushStack:function(e){let t=le.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t;},each:function(e){return le.each(this,e);},map:function(e){return this.pushStack(le.map(this,function(t,n){return e.call(t,n,t);}));},slice:function(){return this.pushStack(ee.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(e){let t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[]);},end:function(){return this.prevObject||this.constructor();},push:ne,sort:X.sort,splice:X.splice },le.extend=le.fn.extend=function(){let e,t,n,i,a,s,r=arguments[0]||{},o=1,l=arguments.length,c=!1;for('boolean'==typeof r&&(c=r,r=arguments[o]||{},o++),'object'==typeof r||le.isFunction(r)||(r={}),o===l&&(r=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)n=r[t],i=e[t],r!==i&&(c&&i&&(le.isPlainObject(i)||(a=le.isArray(i)))?(a?(a=!1,s=n&&le.isArray(n)?n:[]):s=n&&le.isPlainObject(n)?n:{},r[t]=le.extend(c,s,i)):void 0!==i&&(r[t]=i));return r;},le.extend({ expando:'jQuery'+('2.2.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(e){throw new Error(e);},noop:function(){},isFunction:function(e){return'function'===le.type(e);},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window;},isNumeric:function(e){let t=e&&e.toString();return!le.isArray(e)&&t-parseFloat(t)+1>=0;},isPlainObject:function(e){let t;if('object'!==le.type(e)||e.nodeType||le.isWindow(e))return!1;if(e.constructor&&!re.call(e,'constructor')&&!re.call(e.constructor.prototype||{},'isPrototypeOf'))return!1;for(t in e);return void 0===t||re.call(e,t);},isEmptyObject:function(e){let t;for(t in e)return!1;return!0;},type:function(e){return null==e?e+'':'object'==typeof e||'function'==typeof e?ae[se.call(e)]||'object':typeof e;},globalEval:function(e){let t,n=eval;(e=le.trim(e))&&(1===e.indexOf('use strict')?(t=Q.createElement('script'),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e));},camelCase:function(e){return e.replace(ue,'ms-').replace(de,pe);},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase();},each:function(e,t){let n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e;},trim:function(e){return null==e?'':(e+'').replace(ce,'');},makeArray:function(e,t){let n=t||[];return null!=e&&(r(Object(e))?le.merge(n,'string'==typeof e?[e]:e):ne.call(n,e)),n;},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n);},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e;},grep:function(e,t,n){for(var i=[],a=0,s=e.length,r=!n;a<s;a++)!t(e[a],a)!==r&&i.push(e[a]);return i;},map:function(e,t,n){let i,a,s=0,o=[];if(r(e))for(i=e.length;s<i;s++)null!=(a=t(e[s],s,n))&&o.push(a);else for(s in e)null!=(a=t(e[s],s,n))&&o.push(a);return te.apply([],o);},guid:1,proxy:function(e,t){let n,i,a;if('string'==typeof t&&(n=e[t],t=e,e=n),le.isFunction(e))return i=ee.call(arguments,2),a=function(){return e.apply(t||this,i.concat(ee.call(arguments)));},a.guid=e.guid=e.guid||le.guid++,a;},now:Date.now,support:oe }),'function'==typeof Symbol&&(le.fn[Symbol.iterator]=X[Symbol.iterator]),le.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(e,t){ae['[object '+t+']']=t.toLowerCase();});let he=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,i){let a,s,r,o,c,d,p,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],'string'!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:H)!==D&&L(t),t=t||D,O)){if(11!==m&&(d=me.exec(e)))if(a=d[1]){if(9===m){if(!(r=t.getElementById(a)))return n;if(r.id===a)return n.push(r),n;}else if(f&&(r=f.getElementById(a))&&B(t,r)&&r.id===a)return n.push(r),n;}else{if(d[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=d[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n;}if(w.qsa&&!U[e+' ']&&(!R||!R.test(e))){if(1!==m)f=t,h=e;else if('object'!==t.nodeName.toLowerCase()){for((o=t.getAttribute('id'))?o=o.replace(ge,'\\$&'):t.setAttribute('id',o=N),p=S(e),s=p.length,c=ue.test(o)?'#'+o:'[id=\''+o+'\']';s--;)p[s]=c+' '+u(p[s]);h=p.join(','),f=ye.test(e)&&l(t.parentNode)||t;}if(h)try{return Z.apply(n,f.querySelectorAll(h)),n;}catch(e){}finally{o===N&&t.removeAttribute('id');}}}return T(e.replace(se,'$1'),t,n,i);}function n(){function e(n,i){return t.push(n+' ')>_.cacheLength&&delete e[t.shift()],e[n+' ']=i;}var t=[];return e;}function i(e){return e[N]=!0,e;}function a(e){let t=D.createElement('div');try{return!!e(t);}catch(e){return!1;}finally{t.parentNode&&t.parentNode.removeChild(t),t=null;}}function s(e,t){for(let n=e.split('|'),i=n.length;i--;)_.attrHandle[n[i]]=t;}function r(e,t){let n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1;}function o(e){return i(function(t){return t=+t,i(function(n,i){for(var a,s=e([],n.length,t),r=s.length;r--;)n[a=s[r]]&&(n[a]=!(i[a]=n[a]));});});}function l(e){return e&&void 0!==e.getElementsByTagName&&e;}function c(){}function u(e){for(var t=0,n=e.length,i='';t<n;t++)i+=e[t].value;return i;}function d(e,t,n){let i=t.dir,a=n&&'parentNode'===i,s=F++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,s);}:function(t,n,r){let o,l,c,u=[W,s];if(r){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,r))return!0;}else for(;t=t[i];)if(1===t.nodeType||a){if(c=t[N]||(t[N]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(o=l[i])&&o[0]===W&&o[1]===s)return u[2]=o[2];if(l[i]=u,u[2]=e(t,n,r))return!0;}};}function p(e){return e.length>1?function(t,n,i){for(let a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0;}:e[0];}function h(e,n,i){for(let a=0,s=n.length;a<s;a++)t(e,n[a],i);return i;}function f(e,t,n,i,a){for(var s,r=[],o=0,l=e.length,c=null!=t;o<l;o++)(s=e[o])&&(n&&!n(s,i,a)||(r.push(s),c&&t.push(o)));return r;}function m(e,t,n,a,s,r){return a&&!a[N]&&(a=m(a)),s&&!s[N]&&(s=m(s,r)),i(function(i,r,o,l){let c,u,d,p=[],m=[],y=r.length,g=i||h(t||'*',o.nodeType?[o]:o,[]),v=!e||!i&&t?g:f(g,p,e,o,l),w=n?s||(i?e:y||a)?[]:r:v;if(n&&n(v,w,o,l),a)for(c=f(w,m),a(c,[],o,l),u=c.length;u--;)(d=c[u])&&(w[m[u]]=!(v[m[u]]=d));if(i){if(s||e){if(s){for(c=[],u=w.length;u--;)(d=w[u])&&c.push(v[u]=d);s(null,w=[],c,l);}for(u=w.length;u--;)(d=w[u])&&(c=s?X(i,d):p[u])>-1&&(i[c]=!(r[c]=d));}}else w=f(w===r?w.splice(y,w.length):w),s?s(null,r,w,l):Z.apply(r,w);});}function y(e){for(var t,n,i,a=e.length,s=_.relative[e[0].type],r=s||_.relative[' '],o=s?1:0,l=d(function(e){return e===t;},r,!0),c=d(function(e){return X(t,e)>-1;},r,!0),h=[function(e,n,i){let a=!s&&(i||n!==M)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,a;}];o<a;o++)if(n=_.relative[e[o].type])h=[d(p(h),n)];else{if(n=_.filter[e[o].type].apply(null,e[o].matches),n[N]){for(i=++o;i<a&&!_.relative[e[i].type];i++);return m(o>1&&p(h),o>1&&u(e.slice(0,o-1).concat({ value:' '===e[o-2].type?'*':'' })).replace(se,'$1'),n,o<i&&y(e.slice(o,i)),i<a&&y(e=e.slice(i)),i<a&&u(e));}h.push(n);}return p(h);}function g(e,n){let a=n.length>0,s=e.length>0,r=function(i,r,o,l,c){let u,d,p,h=0,m='0',y=i&&[],g=[],v=M,w=i||s&&_.find.TAG('*',c),b=W+=null==v?1:Math.random()||.1,C=w.length;for(c&&(M=r===D||r||c);m!==C&&null!=(u=w[m]);m++){if(s&&u){for(d=0,r||u.ownerDocument===D||(L(u),o=!O);p=e[d++];)if(p(u,r||D,o)){l.push(u);break;}c&&(W=b);}a&&((u=!p&&u)&&h--,i&&y.push(u));}if(h+=m,a&&m!==h){for(d=0;p=n[d++];)p(y,g,r,o);if(i){if(h>0)for(;m--;)y[m]||g[m]||(g[m]=$.call(l));g=f(g);}Z.apply(l,g),c&&!i&&g.length>0&&h+n.length>1&&t.uniqueSort(l);}return c&&(W=b,M=v),y;};return a?i(r):r;}var v,w,_,b,C,S,k,T,M,x,E,L,D,P,O,R,I,A,B,N='sizzle'+1*new Date,H=e.document,W=0,F=0,j=n(),G=n(),U=n(),K=function(e,t){return e===t&&(E=!0),0;},V=1<<31,z={}.hasOwnProperty,Y=[],$=Y.pop,q=Y.push,Z=Y.push,J=Y.slice,X=function(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1;},Q='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',ee='[\\x20\\t\\r\\n\\f]',te='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',ne='\\['+ee+'*('+te+')(?:'+ee+'*([*^$|!~]?=)'+ee+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+te+'))|)'+ee+'*\\]',ie=':('+te+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+ne+')*)|.*)\\)|)',ae=new RegExp(ee+'+','g'),se=new RegExp('^'+ee+'+|((?:^|[^\\\\])(?:\\\\.)*)'+ee+'+$','g'),re=new RegExp('^'+ee+'*,'+ee+'*'),oe=new RegExp('^'+ee+'*([>+~]|'+ee+')'+ee+'*'),le=new RegExp('='+ee+'*([^\\]\'"]*?)'+ee+'*\\]','g'),ce=new RegExp(ie),ue=new RegExp('^'+te+'$'),de={ ID:new RegExp('^#('+te+')'),CLASS:new RegExp('^\\.('+te+')'),TAG:new RegExp('^('+te+'|[*])'),ATTR:new RegExp('^'+ne),PSEUDO:new RegExp('^'+ie),CHILD:new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\('+ee+'*(even|odd|(([+-]|)(\\d*)n|)'+ee+'*(?:([+-]|)'+ee+'*(\\d+)|))'+ee+'*\\)|)','i'),bool:new RegExp('^(?:'+Q+')$','i'),needsContext:new RegExp('^'+ee+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\('+ee+'*((?:-\\d)?\\d*)'+ee+'*\\)|)(?=[^-]|$)','i') },pe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,ge=/'|\\/g,ve=new RegExp('\\\\([\\da-f]{1,6}'+ee+'?|('+ee+')|.)','ig'),we=function(e,t,n){let i='0x'+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320);},_e=function(){L();};try{Z.apply(Y=J.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType;}catch(e){Z={ apply:Y.length?function(e,t){q.apply(e,J.call(t));}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1;} };}w=t.support={},C=t.isXML=function(e){let t=e&&(e.ownerDocument||e).documentElement;return!!t&&'HTML'!==t.nodeName;},L=t.setDocument=function(e){let t,n,i=e?e.ownerDocument||e:H;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,P=D.documentElement,O=!C(D),(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener('unload',_e,!1):n.attachEvent&&n.attachEvent('onunload',_e)),w.attributes=a(function(e){return e.className='i',!e.getAttribute('className');}),w.getElementsByTagName=a(function(e){return e.appendChild(D.createComment('')),!e.getElementsByTagName('*').length;}),w.getElementsByClassName=fe.test(D.getElementsByClassName),w.getById=a(function(e){return P.appendChild(e).id=N,!D.getElementsByName||!D.getElementsByName(N).length;}),w.getById?(_.find.ID=function(e,t){if(void 0!==t.getElementById&&O){let n=t.getElementById(e);return n?[n]:[];}},_.filter.ID=function(e){let t=e.replace(ve,we);return function(e){return e.getAttribute('id')===t;};}):(delete _.find.ID,_.filter.ID=function(e){let t=e.replace(ve,we);return function(e){let n=void 0!==e.getAttributeNode&&e.getAttributeNode('id');return n&&n.value===t;};}),_.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0;}:function(e,t){let n,i=[],a=0,s=t.getElementsByTagName(e);if('*'===e){for(;n=s[a++];)1===n.nodeType&&i.push(n);return i;}return s;},_.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e);},I=[],R=[],(w.qsa=fe.test(D.querySelectorAll))&&(a(function(e){P.appendChild(e).innerHTML='<a id=\''+N+'\'></a><select id=\''+N+'-\r\\\' msallowcapture=\'\'><option selected=\'\'></option></select>',e.querySelectorAll('[msallowcapture^=\'\']').length&&R.push('[*^$]='+ee+'*(?:\'\'|"")'),e.querySelectorAll('[selected]').length||R.push('\\['+ee+'*(?:value|'+Q+')'),e.querySelectorAll('[id~='+N+'-]').length||R.push('~='),e.querySelectorAll(':checked').length||R.push(':checked'),e.querySelectorAll('a#'+N+'+*').length||R.push('.#.+[+~]');}),a(function(e){let t=D.createElement('input');t.setAttribute('type','hidden'),e.appendChild(t).setAttribute('name','D'),e.querySelectorAll('[name=d]').length&&R.push('name'+ee+'*[*^$|!~]?='),e.querySelectorAll(':enabled').length||R.push(':enabled',':disabled'),e.querySelectorAll('*,:x'),R.push(',.*:');})),(w.matchesSelector=fe.test(A=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&a(function(e){w.disconnectedMatch=A.call(e,'div'),A.call(e,'[s!=\'\']:x'),I.push('!=',ie);}),R=R.length&&new RegExp(R.join('|')),I=I.length&&new RegExp(I.join('|')),t=fe.test(P.compareDocumentPosition),B=t||fe.test(P.contains)?function(e,t){let n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)));}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1;},K=t?function(e,t){if(e===t)return E=!0,0;let n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===H&&B(H,e)?-1:t===D||t.ownerDocument===H&&B(H,t)?1:x?X(x,e)-X(x,t):0:4&n?-1:1);}:function(e,t){if(e===t)return E=!0,0;let n,i=0,a=e.parentNode,s=t.parentNode,o=[e],l=[t];if(!a||!s)return e===D?-1:t===D?1:a?-1:s?1:x?X(x,e)-X(x,t):0;if(a===s)return r(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;o[i]===l[i];)i++;return i?r(o[i],l[i]):o[i]===H?-1:l[i]===H?1:0;},D):D;},t.matches=function(e,n){return t(e,null,null,n);},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&L(e),n=n.replace(le,'=\'$1\']'),w.matchesSelector&&O&&!U[n+' ']&&(!I||!I.test(n))&&(!R||!R.test(n)))try{let i=A.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i;}catch(e){}return t(n,D,null,[e]).length>0;},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&L(e),B(e,t);},t.attr=function(e,t){(e.ownerDocument||e)!==D&&L(e);let n=_.attrHandle[t.toLowerCase()],i=n&&z.call(_.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:w.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null;},t.error=function(e){throw new Error('Syntax error, unrecognized expression: '+e);},t.uniqueSort=function(e){let t,n=[],i=0,a=0;if(E=!w.detectDuplicates,x=!w.sortStable&&e.slice(0),e.sort(K),E){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1);}return x=null,e;},b=t.getText=function(e){let t,n='',i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if('string'==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e);}else if(3===a||4===a)return e.nodeValue;}else for(;t=e[i++];)n+=b(t);return n;},_=t.selectors={ cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{ '>':{ dir:'parentNode',first:!0 },' ':{ dir:'parentNode' },'+':{ dir:'previousSibling',first:!0 },'~':{ dir:'previousSibling' } },preFilter:{ ATTR:function(e){return e[1]=e[1].replace(ve,we),e[3]=(e[3]||e[4]||e[5]||'').replace(ve,we),'~='===e[2]&&(e[3]=' '+e[3]+' '),e.slice(0,4);},CHILD:function(e){return e[1]=e[1].toLowerCase(),'nth'===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*('even'===e[3]||'odd'===e[3])),e[5]=+(e[7]+e[8]||'odd'===e[3])):e[3]&&t.error(e[0]),e;},PSEUDO:function(e){let t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||'':n&&ce.test(n)&&(t=S(n,!0))&&(t=n.indexOf(')',n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3));} },filter:{ TAG:function(e){let t=e.replace(ve,we).toLowerCase();return'*'===e?function(){return!0;}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t;};},CLASS:function(e){let t=j[e+' '];return t||(t=new RegExp('(^|'+ee+')'+e+'('+ee+'|$)'))&&j(e,function(e){return t.test('string'==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute('class')||'');});},ATTR:function(e,n,i){return function(a){let s=t.attr(a,e);return null==s?'!='===n:!n||(s+='','='===n?s===i:'!='===n?s!==i:'^='===n?i&&0===s.indexOf(i):'*='===n?i&&s.indexOf(i)>-1:'$='===n?i&&s.slice(-i.length)===i:'~='===n?(' '+s.replace(ae,' ')+' ').indexOf(i)>-1:'|='===n&&(s===i||s.slice(0,i.length+1)===i+'-'));};},CHILD:function(e,t,n,i,a){let s='nth'!==e.slice(0,3),r='last'!==e.slice(-4),o='of-type'===t;return 1===i&&0===a?function(e){return!!e.parentNode;}:function(t,n,l){let c,u,d,p,h,f,m=s!==r?'nextSibling':'previousSibling',y=t.parentNode,g=o&&t.nodeName.toLowerCase(),v=!l&&!o,w=!1;if(y){if(s){for(;m;){for(p=t;p=p[m];)if(o?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=m='only'===e&&!f&&'nextSibling';}return!0;}if(f=[r?y.firstChild:y.lastChild],r&&v){for(p=y,d=p[N]||(p[N]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===W&&c[1],w=h&&c[2],p=h&&y.childNodes[h];p=++h&&p&&p[m]||(w=h=0)||f.pop();)if(1===p.nodeType&&++w&&p===t){u[e]=[W,h,w];break;}}else if(v&&(p=t,d=p[N]||(p[N]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===W&&c[1],w=h),!1===w)for(;(p=++h&&p&&p[m]||(w=h=0)||f.pop())&&((o?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++w||(v&&(d=p[N]||(p[N]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[W,w]),p!==t)););return(w-=a)===i||w%i==0&&w/i>=0;}};},PSEUDO:function(e,n){let a,s=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error('unsupported pseudo: '+e);return s[N]?s(n):s.length>1?(a=[e,e,'',n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=s(e,n),r=a.length;r--;)i=X(e,a[r]),e[i]=!(t[i]=a[r]);}):function(e){return s(e,0,a);}):s;} },pseudos:{ not:i(function(e){let t=[],n=[],a=k(e.replace(se,'$1'));return a[N]?i(function(e,t,n,i){for(var s,r=a(e,null,i,[]),o=e.length;o--;)(s=r[o])&&(e[o]=!(t[o]=s));}):function(e,i,s){return t[0]=e,a(t,null,s,n),t[0]=null,!n.pop();};}),has:i(function(e){return function(n){return t(e,n).length>0;};}),contains:i(function(e){return e=e.replace(ve,we),function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1;};}),lang:i(function(e){return ue.test(e||'')||t.error('unsupported lang: '+e),e=e.replace(ve,we).toLowerCase(),function(t){let n;do{if(n=O?t.lang:t.getAttribute('xml:lang')||t.getAttribute('lang'))return(n=n.toLowerCase())===e||0===n.indexOf(e+'-');}while((t=t.parentNode)&&1===t.nodeType);return!1;};}),target:function(t){let n=e.location&&e.location.hash;return n&&n.slice(1)===t.id;},root:function(e){return e===P;},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex);},enabled:function(e){return!1===e.disabled;},disabled:function(e){return!0===e.disabled;},checked:function(e){let t=e.nodeName.toLowerCase();return'input'===t&&!!e.checked||'option'===t&&!!e.selected;},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected;},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0;},parent:function(e){return!_.pseudos.empty(e);},header:function(e){return he.test(e.nodeName);},input:function(e){return pe.test(e.nodeName);},button:function(e){let t=e.nodeName.toLowerCase();return'input'===t&&'button'===e.type||'button'===t;},text:function(e){let t;return'input'===e.nodeName.toLowerCase()&&'text'===e.type&&(null==(t=e.getAttribute('type'))||'text'===t.toLowerCase());},first:o(function(){return[0];}),last:o(function(e,t){return[t-1];}),eq:o(function(e,t,n){return[n<0?n+t:n];}),even:o(function(e,t){for(let n=0;n<t;n+=2)e.push(n);return e;}),odd:o(function(e,t){for(let n=1;n<t;n+=2)e.push(n);return e;}),lt:o(function(e,t,n){for(let i=n<0?n+t:n;--i>=0;)e.push(i);return e;}),gt:o(function(e,t,n){for(let i=n<0?n+t:n;++i<t;)e.push(i);return e;}) } },_.pseudos.nth=_.pseudos.eq;for(v in{ radio:!0,checkbox:!0,file:!0,password:!0,image:!0 })_.pseudos[v]=function(e){return function(t){return'input'===t.nodeName.toLowerCase()&&t.type===e;};}(v);for(v in{ submit:!0,reset:!0 })_.pseudos[v]=function(e){return function(t){let n=t.nodeName.toLowerCase();return('input'===n||'button'===n)&&t.type===e;};}(v);return c.prototype=_.filters=_.pseudos,_.setFilters=new c,S=t.tokenize=function(e,n){let i,a,s,r,o,l,c,u=G[e+' '];if(u)return n?0:u.slice(0);for(o=e,l=[],c=_.preFilter;o;){i&&!(a=re.exec(o))||(a&&(o=o.slice(a[0].length)||o),l.push(s=[])),i=!1,(a=oe.exec(o))&&(i=a.shift(),s.push({ value:i,type:a[0].replace(se,' ') }),o=o.slice(i.length));for(r in _.filter)!(a=de[r].exec(o))||c[r]&&!(a=c[r](a))||(i=a.shift(),s.push({ value:i,type:r,matches:a }),o=o.slice(i.length));if(!i)break;}return n?o.length:o?t.error(e):G(e,l).slice(0);},k=t.compile=function(e,t){let n,i=[],a=[],s=U[e+' '];if(!s){for(t||(t=S(e)),n=t.length;n--;)s=y(t[n]),s[N]?i.push(s):a.push(s);s=U(e,g(a,i)),s.selector=e;}return s;},T=t.select=function(e,t,n,i){let a,s,r,o,c,d='function'==typeof e&&e,p=!i&&S(e=d.selector||e);if(n=n||[],1===p.length){if(s=p[0]=p[0].slice(0),s.length>2&&'ID'===(r=s[0]).type&&w.getById&&9===t.nodeType&&O&&_.relative[s[1].type]){if(!(t=(_.find.ID(r.matches[0].replace(ve,we),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(s.shift().value.length);}for(a=de.needsContext.test(e)?0:s.length;a--&&(r=s[a],!_.relative[o=r.type]);)if((c=_.find[o])&&(i=c(r.matches[0].replace(ve,we),ye.test(s[0].type)&&l(t.parentNode)||t))){if(s.splice(a,1),!(e=i.length&&u(s)))return Z.apply(n,i),n;break;}}return(d||k(e,p))(i,t,!O,n,!t||ye.test(e)&&l(t.parentNode)||t),n;},w.sortStable=N.split('').sort(K).join('')===N,w.detectDuplicates=!!E,L(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(D.createElement('div'));}),a(function(e){return e.innerHTML='<a href=\'#\'></a>','#'===e.firstChild.getAttribute('href');})||s('type|href|height|width',function(e,t,n){if(!n)return e.getAttribute(t,'type'===t.toLowerCase()?1:2);}),w.attributes&&a(function(e){return e.innerHTML='<input/>',e.firstChild.setAttribute('value',''),''===e.firstChild.getAttribute('value');})||s('value',function(e,t,n){if(!n&&'input'===e.nodeName.toLowerCase())return e.defaultValue;}),a(function(e){return null==e.getAttribute('disabled');})||s(Q,function(e,t,n){let i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null;}),t;}(n);le.find=he,le.expr=he.selectors,le.expr[':']=le.expr.pseudos,le.uniqueSort=le.unique=he.uniqueSort,le.text=he.getText,le.isXMLDoc=he.isXML,le.contains=he.contains;var fe=function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&le(e).is(n))break;i.push(e);}return i;},me=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n;},ye=le.expr.match.needsContext,ge=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ve=/^.[^:#\[\.,]*$/;le.filter=function(e,t,n){let i=t[0];return n&&(e=':not('+e+')'),1===t.length&&1===i.nodeType?le.find.matchesSelector(i,e)?[i]:[]:le.find.matches(e,le.grep(t,function(e){return 1===e.nodeType;}));},le.fn.extend({ find:function(e){let t,n=this.length,i=[],a=this;if('string'!=typeof e)return this.pushStack(le(e).filter(function(){for(t=0;t<n;t++)if(le.contains(a[t],this))return!0;}));for(t=0;t<n;t++)le.find(e,a[t],i);return i=this.pushStack(n>1?le.unique(i):i),i.selector=this.selector?this.selector+' '+e:e,i;},filter:function(e){return this.pushStack(o(this,e||[],!1));},not:function(e){return this.pushStack(o(this,e||[],!0));},is:function(e){return!!o(this,'string'==typeof e&&ye.test(e)?le(e):e||[],!1).length;} });let we,_e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(le.fn.init=function(e,t,n){let i,a;if(!e)return this;if(n=n||we,'string'==typeof e){if(!(i='<'===e[0]&&'>'===e[e.length-1]&&e.length>=3?[null,e,null]:_e.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof le?t[0]:t,le.merge(this,le.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ge.test(i[1])&&le.isPlainObject(t))for(i in t)le.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this;}return a=Q.getElementById(i[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=Q,this.selector=e,this;}return e.nodeType?(this.context=this[0]=e,this.length=1,this):le.isFunction(e)?void 0!==n.ready?n.ready(e):e(le):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),le.makeArray(e,this));}).prototype=le.fn,we=le(Q);let be=/^(?:parents|prev(?:Until|All))/,Ce={ children:!0,contents:!0,next:!0,prev:!0 };le.fn.extend({ has:function(e){let t=le(e,this),n=t.length;return this.filter(function(){for(let e=0;e<n;e++)if(le.contains(this,t[e]))return!0;});},closest:function(e,t){for(var n,i=0,a=this.length,s=[],r=ye.test(e)||'string'!=typeof e?le(e,t||this.context):0;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&le.find.matchesSelector(n,e))){s.push(n);break;}return this.pushStack(s.length>1?le.uniqueSort(s):s);},index:function(e){return e?'string'==typeof e?ie.call(le(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;},add:function(e,t){return this.pushStack(le.uniqueSort(le.merge(this.get(),le(e,t))));},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));} }),le.each({ parent:function(e){let t=e.parentNode;return t&&11!==t.nodeType?t:null;},parents:function(e){return fe(e,'parentNode');},parentsUntil:function(e,t,n){return fe(e,'parentNode',n);},next:function(e){return l(e,'nextSibling');},prev:function(e){return l(e,'previousSibling');},nextAll:function(e){return fe(e,'nextSibling');},prevAll:function(e){return fe(e,'previousSibling');},nextUntil:function(e,t,n){return fe(e,'nextSibling',n);},prevUntil:function(e,t,n){return fe(e,'previousSibling',n);},siblings:function(e){return me((e.parentNode||{}).firstChild,e);},children:function(e){return me(e.firstChild);},contents:function(e){return e.contentDocument||le.merge([],e.childNodes);} },function(e,t){le.fn[e]=function(n,i){let a=le.map(this,t,n);return'Until'!==e.slice(-5)&&(i=n),i&&'string'==typeof i&&(a=le.filter(i,a)),this.length>1&&(Ce[e]||le.uniqueSort(a),be.test(e)&&a.reverse()),this.pushStack(a);};});var Se=/\S+/g;le.Callbacks=function(e){e='string'==typeof e?c(e):le.extend({},e);var t,n,i,a,s=[],r=[],o=-1,l=function(){for(a=e.once,i=t=!0;r.length;o=-1)for(n=r.shift();++o<s.length;)!1===s[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=s.length,n=!1);e.memory||(n=!1),t=!1,a&&(s=n?[]:'');},u={ add:function(){return s&&(n&&!t&&(o=s.length-1,r.push(n)),function t(n){le.each(n,function(n,i){le.isFunction(i)?e.unique&&u.has(i)||s.push(i):i&&i.length&&'string'!==le.type(i)&&t(i);});}(arguments),n&&!t&&l()),this;},remove:function(){return le.each(arguments,function(e,t){for(var n;(n=le.inArray(t,s,n))>-1;)s.splice(n,1),n<=o&&o--;}),this;},has:function(e){return e?le.inArray(e,s)>-1:s.length>0;},empty:function(){return s&&(s=[]),this;},disable:function(){return a=r=[],s=n='',this;},disabled:function(){return!s;},lock:function(){return a=r=[],n||(s=n=''),this;},locked:function(){return!!a;},fireWith:function(e,n){return a||(n=n||[],n=[e,n.slice?n.slice():n],r.push(n),t||l()),this;},fire:function(){return u.fireWith(this,arguments),this;},fired:function(){return!!i;} };return u;},le.extend({ Deferred:function(e){var t=[['resolve','done',le.Callbacks('once memory'),'resolved'],['reject','fail',le.Callbacks('once memory'),'rejected'],['notify','progress',le.Callbacks('memory')]],n='pending',i={ state:function(){return n;},always:function(){return a.done(arguments).fail(arguments),this;},then:function(){let e=arguments;return le.Deferred(function(n){le.each(t,function(t,s){let r=le.isFunction(e[t])&&e[t];a[s[1]](function(){let e=r&&r.apply(this,arguments);e&&le.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+'With'](this===i?n.promise():this,r?[e]:arguments);});}),e=null;}).promise();},promise:function(e){return null!=e?le.extend(e,i):i;} },a={};return i.pipe=i.then,le.each(t,function(e,s){let r=s[2],o=s[3];i[s[1]]=r.add,o&&r.add(function(){n=o;},t[1^e][2].disable,t[2][2].lock),a[s[0]]=function(){return a[s[0]+'With'](this===a?i:this,arguments),this;},a[s[0]+'With']=r.fireWith;}),i.promise(a),e&&e.call(a,a),a;},when:function(e){let t,n,i,a=0,s=ee.call(arguments),r=s.length,o=1!==r||e&&le.isFunction(e.promise)?r:0,l=1===o?e:le.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?ee.call(arguments):a,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i);};};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);a<r;a++)s[a]&&le.isFunction(s[a].promise)?s[a].promise().progress(c(a,n,t)).done(c(a,i,s)).fail(l.reject):--o;return o||l.resolveWith(i,s),l.promise();} });let ke;le.fn.ready=function(e){return le.ready.promise().done(e),this;},le.extend({ isReady:!1,readyWait:1,holdReady:function(e){e?le.readyWait++:le.ready(!0);},ready:function(e){(!0===e?--le.readyWait:le.isReady)||(le.isReady=!0,!0!==e&&--le.readyWait>0||(ke.resolveWith(Q,[le]),le.fn.triggerHandler&&(le(Q).triggerHandler('ready'),le(Q).off('ready'))));} }),le.ready.promise=function(e){return ke||(ke=le.Deferred(),'complete'===Q.readyState||'loading'!==Q.readyState&&!Q.documentElement.doScroll?n.setTimeout(le.ready):(Q.addEventListener('DOMContentLoaded',u),n.addEventListener('load',u))),ke.promise(e);},le.ready.promise();var Te=function(e,t,n,i,a,s,r){let o=0,l=e.length,c=null==n;if('object'===le.type(n)){a=!0;for(o in n)Te(e,t,o,n[o],!0,s,r);}else if(void 0!==i&&(a=!0,le.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(le(e),n);})),t))for(;o<l;o++)t(e[o],n,r?i:i.call(e[o],o,t(e[o],n)));return a?e:c?t.call(e):l?t(e[0],n):s;},Me=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType;};d.uid=1,d.prototype={ register:function(e,t){let n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{ value:n,writable:!0,configurable:!0 }),e[this.expando];},cache:function(e){if(!Me(e))return{};let t=e[this.expando];return t||(t={},Me(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{ value:t,configurable:!0 }))),t;},set:function(e,t,n){let i,a=this.cache(e);if('string'==typeof t)a[t]=n;else for(i in t)a[i]=t[i];return a;},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t];},access:function(e,t,n){let i;return void 0===t||t&&'string'==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,le.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t);},remove:function(e,t){let n,i,a,s=e[this.expando];if(void 0!==s){if(void 0===t)this.register(e);else{le.isArray(t)?i=t.concat(t.map(le.camelCase)):(a=le.camelCase(t),t in s?i=[t,a]:(i=a,i=i in s?[i]:i.match(Se)||[])),n=i.length;for(;n--;)delete s[i[n]];}(void 0===t||le.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando]);}},hasData:function(e){let t=e[this.expando];return void 0!==t&&!le.isEmptyObject(t);} };var xe=new d,Ee=new d,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/[A-Z]/g;le.extend({ hasData:function(e){return Ee.hasData(e)||xe.hasData(e);},data:function(e,t,n){return Ee.access(e,t,n);},removeData:function(e,t){Ee.remove(e,t);},_data:function(e,t,n){return xe.access(e,t,n);},_removeData:function(e,t){xe.remove(e,t);} }),le.fn.extend({ data:function(e,t){let n,i,a,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(a=Ee.get(s),1===s.nodeType&&!xe.get(s,'hasDataAttrs'))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf('data-')&&(i=le.camelCase(i.slice(5)),p(s,i,a[i])));xe.set(s,'hasDataAttrs',!0);}return a;}return'object'==typeof e?this.each(function(){Ee.set(this,e);}):Te(this,function(t){let n,i;if(s&&void 0===t){if(void 0!==(n=Ee.get(s,e)||Ee.get(s,e.replace(De,'-$&').toLowerCase())))return n;if(i=le.camelCase(e),void 0!==(n=Ee.get(s,i)))return n;if(void 0!==(n=p(s,i,void 0)))return n;}else i=le.camelCase(e),this.each(function(){let n=Ee.get(this,i);Ee.set(this,i,t),e.indexOf('-')>-1&&void 0!==n&&Ee.set(this,e,t);});},null,t,arguments.length>1,null,!0);},removeData:function(e){return this.each(function(){Ee.remove(this,e);});} }),le.extend({ queue:function(e,t,n){let i;if(e)return t=(t||'fx')+'queue',i=xe.get(e,t),n&&(!i||le.isArray(n)?i=xe.access(e,t,le.makeArray(n)):i.push(n)),i||[];},dequeue:function(e,t){t=t||'fx';let n=le.queue(e,t),i=n.length,a=n.shift(),s=le._queueHooks(e,t),r=function(){le.dequeue(e,t);};'inprogress'===a&&(a=n.shift(),i--),a&&('fx'===t&&n.unshift('inprogress'),delete s.stop,a.call(e,r,s)),!i&&s&&s.empty.fire();},_queueHooks:function(e,t){let n=t+'queueHooks';return xe.get(e,n)||xe.access(e,n,{ empty:le.Callbacks('once memory').add(function(){xe.remove(e,[t+'queue',n]);}) });} }),le.fn.extend({ queue:function(e,t){let n=2;return'string'!=typeof e&&(t=e,e='fx',n--),arguments.length<n?le.queue(this[0],e):void 0===t?this:this.each(function(){let n=le.queue(this,e,t);le._queueHooks(this,e),'fx'===e&&'inprogress'!==n[0]&&le.dequeue(this,e);});},dequeue:function(e){return this.each(function(){le.dequeue(this,e);});},clearQueue:function(e){return this.queue(e||'fx',[]);},promise:function(e,t){let n,i=1,a=le.Deferred(),s=this,r=this.length,o=function(){--i||a.resolveWith(s,[s]);};for('string'!=typeof e&&(t=e,e=void 0),e=e||'fx';r--;)(n=xe.get(s[r],e+'queueHooks'))&&n.empty&&(i++,n.empty.add(o));return o(),a.promise(t);} });var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp('^(?:([+-])=|)('+Pe+')([a-z%]*)$','i'),Re=['Top','Right','Bottom','Left'],Ie=function(e,t){return e=t||e,'none'===le.css(e,'display')||!le.contains(e.ownerDocument,e);},Ae=/^(?:checkbox|radio)$/i,Be=/<([\w:-]+)/,Ne=/^$|\/(?:java|ecma)script/i,He={ option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'',''] };He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td;var We=/<|&#?\w+;/;!function(){let e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement('div')),n=Q.createElement('input');n.setAttribute('type','radio'),n.setAttribute('checked','checked'),n.setAttribute('name','t'),t.appendChild(n),oe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML='<textarea>x</textarea>',oe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;}();let Fe=/^key/,je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ge=/^([^.]*)(?:\.(.+)|)/;le.event={ global:{},add:function(e,t,n,i,a){let s,r,o,l,c,u,d,p,h,f,m,y=xe.get(e);if(y)for(n.handler&&(s=n,n=s.handler,a=s.selector),n.guid||(n.guid=le.guid++),(l=y.events)||(l=y.events={}),(r=y.handle)||(r=y.handle=function(t){return void 0!==le&&le.event.triggered!==t.type?le.event.dispatch.apply(e,arguments):void 0;}),t=(t||'').match(Se)||[''],c=t.length;c--;)o=Ge.exec(t[c])||[],h=m=o[1],f=(o[2]||'').split('.').sort(),h&&(d=le.event.special[h]||{},h=(a?d.delegateType:d.bindType)||h,d=le.event.special[h]||{},u=le.extend({ type:h,origType:m,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&le.expr.match.needsContext.test(a),namespace:f.join('.') },s),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(h,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,u):p.push(u),le.event.global[h]=!0);},remove:function(e,t,n,i,a){let s,r,o,l,c,u,d,p,h,f,m,y=xe.hasData(e)&&xe.get(e);if(y&&(l=y.events)){for(t=(t||'').match(Se)||[''],c=t.length;c--;)if(o=Ge.exec(t[c])||[],h=m=o[1],f=(o[2]||'').split('.').sort(),h){for(d=le.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=l[h]||[],o=o[2]&&new RegExp('(^|\\.)'+f.join('\\.(?:.*\\.|)')+'(\\.|$)'),r=s=p.length;s--;)u=p[s],!a&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&('**'!==i||!u.selector)||(p.splice(s,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));r&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,y.handle)||le.removeEvent(e,h,y.handle),delete l[h]);}else for(h in l)le.event.remove(e,h+t[c],n,i,!0);le.isEmptyObject(l)&&xe.remove(e,'handle events');}},dispatch:function(e){e=le.event.fix(e);let t,n,i,a,s,r=[],o=ee.call(arguments),l=(xe.get(this,'events')||{})[e.type]||[],c=le.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(r=le.event.handlers.call(this,e,l),t=0;(a=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(s=a.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(i=((le.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,o))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result;}},handlers:function(e,t){let n,i,a,s,r=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&('click'!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||'click'!==e.type)){for(i=[],n=0;n<o;n++)s=t[n],a=s.selector+' ',void 0===i[a]&&(i[a]=s.needsContext?le(a,this).index(l)>-1:le.find(a,this,null,[l]).length),i[a]&&i.push(s);i.length&&r.push({ elem:l,handlers:i });}return o<t.length&&r.push({ elem:this,handlers:t.slice(o) }),r;},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),fixHooks:{},keyHooks:{ props:'char charCode key keyCode'.split(' '),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e;} },mouseHooks:{ props:'button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(e,t){let n,i,a,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,i=n.documentElement,a=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e;} },fix:function(e){if(e[le.expando])return e;let t,n,i,a=e.type,s=e,r=this.fixHooks[a];for(r||(this.fixHooks[a]=r=je.test(a)?this.mouseHooks:Fe.test(a)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new le.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,s):e;},special:{ load:{ noBubble:!0 },focus:{ trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1;},delegateType:'focusin' },blur:{ trigger:function(){if(this===w()&&this.blur)return this.blur(),!1;},delegateType:'focusout' },click:{ trigger:function(){if('checkbox'===this.type&&this.click&&le.nodeName(this,'input'))return this.click(),!1;},_default:function(e){return le.nodeName(e.target,'a');} },beforeunload:{ postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result);} } } },le.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n);},le.Event=function(e,t){if(!(this instanceof le.Event))return new le.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?g:v):this.type=e,t&&le.extend(this,t),this.timeStamp=e&&e.timeStamp||le.now(),this[le.expando]=!0;},le.Event.prototype={ constructor:le.Event,isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,isSimulated:!1,preventDefault:function(){let e=this.originalEvent;this.isDefaultPrevented=g,e&&!this.isSimulated&&e.preventDefault();},stopPropagation:function(){let e=this.originalEvent;this.isPropagationStopped=g,e&&!this.isSimulated&&e.stopPropagation();},stopImmediatePropagation:function(){let e=this.originalEvent;this.isImmediatePropagationStopped=g,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation();} },le.each({ mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout' },function(e,t){le.event.special[e]={ delegateType:t,bindType:t,handle:function(e){let n,i=this,a=e.relatedTarget,s=e.handleObj;return a&&(a===i||le.contains(i,a))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n;} };}),le.fn.extend({ on:function(e,t,n,i){return _(this,e,t,n,i);},one:function(e,t,n,i){return _(this,e,t,n,i,1);},off:function(e,t,n){let i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,le(e.delegateTarget).off(i.namespace?i.origType+'.'+i.namespace:i.origType,i.selector,i.handler),this;if('object'==typeof e){for(a in e)this.off(a,t,e[a]);return this;}return!1!==t&&'function'!=typeof t||(n=t,t=void 0),!1===n&&(n=v),this.each(function(){le.event.remove(this,e,n,t);});} });var Ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ke=/<script|<style|<link/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;le.extend({ htmlPrefilter:function(e){return e.replace(Ue,'<$1></$2>');},clone:function(e,t,n){let i,a,s,r,o=e.cloneNode(!0),l=le.contains(e.ownerDocument,e);if(!(oe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||le.isXMLDoc(e)))for(r=f(o),s=f(e),i=0,a=s.length;i<a;i++)T(s[i],r[i]);if(t)if(n)for(s=s||f(e),r=r||f(o),i=0,a=s.length;i<a;i++)k(s[i],r[i]);else k(e,o);return r=f(o,'script'),r.length>0&&m(r,!l&&f(e,'script')),o;},cleanData:function(e){for(var t,n,i,a=le.event.special,s=0;void 0!==(n=e[s]);s++)if(Me(n)){if(t=n[xe.expando]){if(t.events)for(i in t.events)a[i]?le.event.remove(n,i):le.removeEvent(n,i,t.handle);n[xe.expando]=void 0;}n[Ee.expando]&&(n[Ee.expando]=void 0);}} }),le.fn.extend({ domManip:M,detach:function(e){return x(this,e,!0);},remove:function(e){return x(this,e);},text:function(e){return Te(this,function(e){return void 0===e?le.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e);});},null,e,arguments.length);},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){b(this,e).appendChild(e);}});},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){let t=b(this,e);t.insertBefore(e,t.firstChild);}});},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this);});},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling);});},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(le.cleanData(f(e,!1)),e.textContent='');return this;},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return le.clone(this,e,t);});},html:function(e){return Te(this,function(e){let t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if('string'==typeof e&&!Ke.test(e)&&!He[(Be.exec(e)||['',''])[1].toLowerCase()]){e=le.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(le.cleanData(f(t,!1)),t.innerHTML=e);t=0;}catch(e){}}t&&this.empty().append(e);},null,e,arguments.length);},replaceWith:function(){let e=[];return M(this,arguments,function(t){let n=this.parentNode;le.inArray(this,e)<0&&(le.cleanData(f(this)),n&&n.replaceChild(t,this));},e);} }),le.each({ appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith' },function(e,t){le.fn[e]=function(e){for(var n,i=[],a=le(e),s=a.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),le(a[r])[t](n),ne.apply(i,n.get());return this.pushStack(i);};});var $e,qe={ HTML:'block',BODY:'block' },Ze=/^margin/,Je=new RegExp('^('+Pe+')(?!px)[a-z%]+$','i'),Xe=function(e){let t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e);},Qe=function(e,t,n,i){let a,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];a=n.apply(e,i||[]);for(s in t)e.style[s]=r[s];return a;},et=Q.documentElement;!function(){function e(){o.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%',o.innerHTML='',et.appendChild(r);let e=n.getComputedStyle(o);t='1%'!==e.top,s='2px'===e.marginLeft,i='4px'===e.width,o.style.marginRight='50%',a='4px'===e.marginRight,et.removeChild(r);}var t,i,a,s,r=Q.createElement('div'),o=Q.createElement('div');o.style&&(o.style.backgroundClip='content-box',o.cloneNode(!0).style.backgroundClip='',oe.clearCloneStyle='content-box'===o.style.backgroundClip,r.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute',r.appendChild(o),le.extend(oe,{ pixelPosition:function(){return e(),t;},boxSizingReliable:function(){return null==i&&e(),i;},pixelMarginRight:function(){return null==i&&e(),a;},reliableMarginLeft:function(){return null==i&&e(),s;},reliableMarginRight:function(){let e,t=o.appendChild(Q.createElement('div'));return t.style.cssText=o.style.cssText='-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',t.style.marginRight=t.style.width='0',o.style.width='1px',et.appendChild(r),e=!parseFloat(n.getComputedStyle(t).marginRight),et.removeChild(r),o.removeChild(t),e;} }));}();var tt=/^(none|table(?!-c[ea]).+)/,nt={ position:'absolute',visibility:'hidden',display:'block' },it={ letterSpacing:'0',fontWeight:'400' },at=['Webkit','O','Moz','ms'],st=Q.createElement('div').style;le.extend({ cssHooks:{ opacity:{ get:function(e,t){if(t){let n=D(e,'opacity');return''===n?'1':n;}} } },cssNumber:{ animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0 },cssProps:{ float:'cssFloat' },style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){let a,s,r,o=le.camelCase(t),l=e.style;if(t=le.cssProps[o]||(le.cssProps[o]=O(o)||o),r=le.cssHooks[t]||le.cssHooks[o],void 0===n)return r&&'get'in r&&void 0!==(a=r.get(e,!1,i))?a:l[t];s=typeof n,'string'===s&&(a=Oe.exec(n))&&a[1]&&(n=h(e,t,a),s='number'),null!=n&&n===n&&('number'===s&&(n+=a&&a[3]||(le.cssNumber[o]?'':'px')),oe.clearCloneStyle||''!==n||0!==t.indexOf('background')||(l[t]='inherit'),r&&'set'in r&&void 0===(n=r.set(e,n,i))||(l[t]=n));}},css:function(e,t,n,i){let a,s,r,o=le.camelCase(t);return t=le.cssProps[o]||(le.cssProps[o]=O(o)||o),r=le.cssHooks[t]||le.cssHooks[o],r&&'get'in r&&(a=r.get(e,!0,n)),void 0===a&&(a=D(e,t,i)),'normal'===a&&t in it&&(a=it[t]),''===n||n?(s=parseFloat(a),!0===n||isFinite(s)?s||0:a):a;} }),le.each(['height','width'],function(e,t){le.cssHooks[t]={ get:function(e,n,i){if(n)return tt.test(le.css(e,'display'))&&0===e.offsetWidth?Qe(e,nt,function(){return A(e,t,i);}):A(e,t,i);},set:function(e,n,i){let a,s=i&&Xe(e),r=i&&I(e,t,i,'border-box'===le.css(e,'boxSizing',!1,s),s);return r&&(a=Oe.exec(n))&&'px'!==(a[3]||'px')&&(e.style[t]=n,n=le.css(e,t)),R(e,n,r);} };}),le.cssHooks.marginLeft=P(oe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(D(e,'marginLeft'))||e.getBoundingClientRect().left-Qe(e,{ marginLeft:0 },function(){return e.getBoundingClientRect().left;}))+'px';}),le.cssHooks.marginRight=P(oe.reliableMarginRight,function(e,t){if(t)return Qe(e,{ display:'inline-block' },D,[e,'marginRight']);}),le.each({ margin:'',padding:'',border:'Width' },function(e,t){le.cssHooks[e+t]={ expand:function(n){for(var i=0,a={},s='string'==typeof n?n.split(' '):[n];i<4;i++)a[e+Re[i]+t]=s[i]||s[i-2]||s[0];return a;} },Ze.test(e)||(le.cssHooks[e+t].set=R);}),le.fn.extend({ css:function(e,t){return Te(this,function(e,t,n){let i,a,s={},r=0;if(le.isArray(t)){for(i=Xe(e),a=t.length;r<a;r++)s[t[r]]=le.css(e,t[r],!1,i);return s;}return void 0!==n?le.style(e,t,n):le.css(e,t);},e,t,arguments.length>1);},show:function(){return B(this,!0);},hide:function(){return B(this);},toggle:function(e){return'boolean'==typeof e?e?this.show():this.hide():this.each(function(){Ie(this)?le(this).show():le(this).hide();});} }),le.Tween=N,N.prototype={ constructor:N,init:function(e,t,n,i,a,s){this.elem=e,this.prop=n,this.easing=a||le.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(le.cssNumber[n]?'':'px');},cur:function(){let e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this);},run:function(e){let t,n=N.propHooks[this.prop];return this.options.duration?this.pos=t=le.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this;} },N.prototype.init.prototype=N.prototype,N.propHooks={ _default:{ get:function(e){let t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=le.css(e.elem,e.prop,''),t&&'auto'!==t?t:0);},set:function(e){le.fx.step[e.prop]?le.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[le.cssProps[e.prop]]&&!le.cssHooks[e.prop]?e.elem[e.prop]=e.now:le.style(e.elem,e.prop,e.now+e.unit);} } },N.propHooks.scrollTop=N.propHooks.scrollLeft={ set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now);} },le.easing={ linear:function(e){return e;},swing:function(e){return.5-Math.cos(e*Math.PI)/2;},_default:'swing' },le.fx=N.prototype.init,le.fx.step={};var rt,ot,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;le.Animation=le.extend(U,{ tweeners:{ '*':[function(e,t){let n=this.createTween(e,t);return h(n.elem,e,Oe.exec(t),n),n;}] },tweener:function(e,t){le.isFunction(e)?(t=e,e=['*']):e=e.match(Se);for(var n,i=0,a=e.length;i<a;i++)n=e[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(t);},prefilters:[j],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e);} }),le.speed=function(e,t,n){let i=e&&'object'==typeof e?le.extend({},e):{ complete:n||!n&&t||le.isFunction(e)&&e,duration:e,easing:n&&t||t&&!le.isFunction(t)&&t };return i.duration=le.fx.off?0:'number'==typeof i.duration?i.duration:i.duration in le.fx.speeds?le.fx.speeds[i.duration]:le.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue='fx'),i.old=i.complete,i.complete=function(){le.isFunction(i.old)&&i.old.call(this),i.queue&&le.dequeue(this,i.queue);},i;},le.fn.extend({ fadeTo:function(e,t,n,i){return this.filter(Ie).css('opacity',0).show().end().animate({ opacity:t },e,n,i);},animate:function(e,t,n,i){let a=le.isEmptyObject(e),s=le.speed(t,n,i),r=function(){let t=U(this,le.extend({},e),s);(a||xe.get(this,'finish'))&&t.stop(!0);};return r.finish=r,a||!1===s.queue?this.each(r):this.queue(s.queue,r);},stop:function(e,t,n){let i=function(e){let t=e.stop;delete e.stop,t(n);};return'string'!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||'fx',[]),this.each(function(){let t=!0,a=null!=e&&e+'queueHooks',s=le.timers,r=xe.get(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&ct.test(a)&&i(r[a]);for(a=s.length;a--;)s[a].elem!==this||null!=e&&s[a].queue!==e||(s[a].anim.stop(n),t=!1,s.splice(a,1));!t&&n||le.dequeue(this,e);});},finish:function(e){return!1!==e&&(e=e||'fx'),this.each(function(){let t,n=xe.get(this),i=n[e+'queue'],a=n[e+'queueHooks'],s=le.timers,r=i?i.length:0;for(n.finish=!0,le.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish;});} }),le.each(['toggle','show','hide'],function(e,t){let n=le.fn[t];le.fn[t]=function(e,i,a){return null==e||'boolean'==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,a);};}),le.each({ slideDown:W('show'),slideUp:W('hide'),slideToggle:W('toggle'),fadeIn:{ opacity:'show' },fadeOut:{ opacity:'hide' },fadeToggle:{ opacity:'toggle' } },function(e,t){le.fn[e]=function(e,n,i){return this.animate(t,e,n,i);};}),le.timers=[],le.fx.tick=function(){let e,t=0,n=le.timers;for(rt=le.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||le.fx.stop(),rt=void 0;},le.fx.timer=function(e){le.timers.push(e),e()?le.fx.start():le.timers.pop();},le.fx.interval=13,le.fx.start=function(){ot||(ot=n.setInterval(le.fx.tick,le.fx.interval));},le.fx.stop=function(){n.clearInterval(ot),ot=null;},le.fx.speeds={ slow:600,fast:200,_default:400 },le.fn.delay=function(e,t){return e=le.fx?le.fx.speeds[e]||e:e,t=t||'fx',this.queue(t,function(t,i){let a=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(a);};});},function(){let e=Q.createElement('input'),t=Q.createElement('select'),n=t.appendChild(Q.createElement('option'));e.type='checkbox',oe.checkOn=''!==e.value,oe.optSelected=n.selected,t.disabled=!0,oe.optDisabled=!n.disabled,e=Q.createElement('input'),e.value='t',e.type='radio',oe.radioValue='t'===e.value;}();let ut,dt=le.expr.attrHandle;le.fn.extend({ attr:function(e,t){return Te(this,le.attr,e,t,arguments.length>1);},removeAttr:function(e){return this.each(function(){le.removeAttr(this,e);});} }),le.extend({ attr:function(e,t,n){let i,a,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?le.prop(e,t,n):(1===s&&le.isXMLDoc(e)||(t=t.toLowerCase(),a=le.attrHooks[t]||(le.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void le.removeAttr(e,t):a&&'set'in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+''),n):a&&'get'in a&&null!==(i=a.get(e,t))?i:(i=le.find.attr(e,t),null==i?void 0:i));},attrHooks:{ type:{ set:function(e,t){if(!oe.radioValue&&'radio'===t&&le.nodeName(e,'input')){let n=e.value;return e.setAttribute('type',t),n&&(e.value=n),t;}} } },removeAttr:function(e,t){let n,i,a=0,s=t&&t.match(Se);if(s&&1===e.nodeType)for(;n=s[a++];)i=le.propFix[n]||n,le.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n);} }),ut={ set:function(e,t,n){return!1===t?le.removeAttr(e,n):e.setAttribute(n,n),n;} },le.each(le.expr.match.bool.source.match(/\w+/g),function(e,t){let n=dt[t]||le.find.attr;dt[t]=function(e,t,i){let a,s;return i||(s=dt[t],dt[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,dt[t]=s),a;};});let pt=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;le.fn.extend({ prop:function(e,t){return Te(this,le.prop,e,t,arguments.length>1);},removeProp:function(e){return this.each(function(){delete this[le.propFix[e]||e];});} }),le.extend({ prop:function(e,t,n){let i,a,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&le.isXMLDoc(e)||(t=le.propFix[t]||t,a=le.propHooks[t]),void 0!==n?a&&'set'in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&'get'in a&&null!==(i=a.get(e,t))?i:e[t];},propHooks:{ tabIndex:{ get:function(e){let t=le.find.attr(e,'tabindex');return t?parseInt(t,10):pt.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1;} } },propFix:{ for:'htmlFor',class:'className' } }),oe.optSelected||(le.propHooks.selected={ get:function(e){let t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null;},set:function(e){let t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex);} }),le.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){le.propFix[this.toLowerCase()]=this;});let ft=/[\t\r\n\f]/g;le.fn.extend({ addClass:function(e){let t,n,i,a,s,r,o,l=0;if(le.isFunction(e))return this.each(function(t){le(this).addClass(e.call(this,t,K(this)));});if('string'==typeof e&&e)for(t=e.match(Se)||[];n=this[l++];)if(a=K(n),i=1===n.nodeType&&(' '+a+' ').replace(ft,' ')){for(r=0;s=t[r++];)i.indexOf(' '+s+' ')<0&&(i+=s+' ');o=le.trim(i),a!==o&&n.setAttribute('class',o);}return this;},removeClass:function(e){let t,n,i,a,s,r,o,l=0;if(le.isFunction(e))return this.each(function(t){le(this).removeClass(e.call(this,t,K(this)));});if(!arguments.length)return this.attr('class','');if('string'==typeof e&&e)for(t=e.match(Se)||[];n=this[l++];)if(a=K(n),i=1===n.nodeType&&(' '+a+' ').replace(ft,' ')){for(r=0;s=t[r++];)for(;i.indexOf(' '+s+' ')>-1;)i=i.replace(' '+s+' ',' ');o=le.trim(i),a!==o&&n.setAttribute('class',o);}return this;},toggleClass:function(e,t){let n=typeof e;return'boolean'==typeof t&&'string'===n?t?this.addClass(e):this.removeClass(e):le.isFunction(e)?this.each(function(n){le(this).toggleClass(e.call(this,n,K(this),t),t);}):this.each(function(){let t,i,a,s;if('string'===n)for(i=0,a=le(this),s=e.match(Se)||[];t=s[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&'boolean'!==n||(t=K(this),t&&xe.set(this,'__className__',t),this.setAttribute&&this.setAttribute('class',t||!1===e?'':xe.get(this,'__className__')||''));});},hasClass:function(e){let t,n,i=0;for(t=' '+e+' ';n=this[i++];)if(1===n.nodeType&&(' '+K(n)+' ').replace(ft,' ').indexOf(t)>-1)return!0;return!1;} });let mt=/\r/g,yt=/[\x20\t\r\n\f]+/g;le.fn.extend({ val:function(e){let t,n,i,a=this[0];{if(arguments.length)return i=le.isFunction(e),this.each(function(n){let a;1===this.nodeType&&(a=i?e.call(this,n,le(this).val()):e,null==a?a='':'number'==typeof a?a+='':le.isArray(a)&&(a=le.map(a,function(e){return null==e?'':e+'';})),(t=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()])&&'set'in t&&void 0!==t.set(this,a,'value')||(this.value=a));});if(a)return(t=le.valHooks[a.type]||le.valHooks[a.nodeName.toLowerCase()])&&'get'in t&&void 0!==(n=t.get(a,'value'))?n:(n=a.value,'string'==typeof n?n.replace(mt,''):null==n?'':n);}} }),le.extend({ valHooks:{ option:{ get:function(e){let t=le.find.attr(e,'value');return null!=t?t:le.trim(le.text(e)).replace(yt,' ');} },select:{ get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,s='select-one'===e.type||a<0,r=s?null:[],o=s?a+1:i.length,l=a<0?o:s?a:0;l<o;l++)if(n=i[l],(n.selected||l===a)&&(oe.optDisabled?!n.disabled:null===n.getAttribute('disabled'))&&(!n.parentNode.disabled||!le.nodeName(n.parentNode,'optgroup'))){if(t=le(n).val(),s)return t;r.push(t);}return r;},set:function(e,t){for(var n,i,a=e.options,s=le.makeArray(t),r=a.length;r--;)i=a[r],(i.selected=le.inArray(le.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s;} } } }),le.each(['radio','checkbox'],function(){le.valHooks[this]={ set:function(e,t){if(le.isArray(t))return e.checked=le.inArray(le(e).val(),t)>-1;} },oe.checkOn||(le.valHooks[this].get=function(e){return null===e.getAttribute('value')?'on':e.value;});});let gt=/^(?:focusinfocus|focusoutblur)$/;le.extend(le.event,{ trigger:function(e,t,i,a){let s,r,o,l,c,u,d,p=[i||Q],h=re.call(e,'type')?e.type:e,f=re.call(e,'namespace')?e.namespace.split('.'):[];if(r=o=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!gt.test(h+le.event.triggered)&&(h.indexOf('.')>-1&&(f=h.split('.'),h=f.shift(),f.sort()),c=h.indexOf(':')<0&&'on'+h,e=e[le.expando]?e:new le.Event(h,'object'==typeof e&&e),e.isTrigger=a?2:3,e.namespace=f.join('.'),e.rnamespace=e.namespace?new RegExp('(^|\\.)'+f.join('\\.(?:.*\\.|)')+'(\\.|$)'):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:le.makeArray(t,[e]),d=le.event.special[h]||{},a||!d.trigger||!1!==d.trigger.apply(i,t))){if(!a&&!d.noBubble&&!le.isWindow(i)){for(l=d.delegateType||h,gt.test(l+h)||(r=r.parentNode);r;r=r.parentNode)p.push(r),o=r;o===(i.ownerDocument||Q)&&p.push(o.defaultView||o.parentWindow||n);}for(s=0;(r=p[s++])&&!e.isPropagationStopped();)e.type=s>1?l:d.bindType||h,u=(xe.get(r,'events')||{})[e.type]&&xe.get(r,'handle'),u&&u.apply(r,t),(u=c&&r[c])&&u.apply&&Me(r)&&(e.result=u.apply(r,t),!1===e.result&&e.preventDefault());return e.type=h,a||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!Me(i)||c&&le.isFunction(i[h])&&!le.isWindow(i)&&(o=i[c],o&&(i[c]=null),le.event.triggered=h,i[h](),le.event.triggered=void 0,o&&(i[c]=o)),e.result;}},simulate:function(e,t,n){let i=le.extend(new le.Event,n,{ type:e,isSimulated:!0 });le.event.trigger(i,null,t);} }),le.fn.extend({ trigger:function(e,t){return this.each(function(){le.event.trigger(e,t,this);});},triggerHandler:function(e,t){let n=this[0];if(n)return le.event.trigger(e,t,n,!0);} }),le.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(e,t){le.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t);};}),le.fn.extend({ hover:function(e,t){return this.mouseenter(e).mouseleave(t||e);} }),oe.focusin='onfocusin'in n,oe.focusin||le.each({ focus:'focusin',blur:'focusout' },function(e,t){let n=function(e){le.event.simulate(t,e.target,le.event.fix(e));};le.event.special[t]={ setup:function(){let i=this.ownerDocument||this,a=xe.access(i,t);a||i.addEventListener(e,n,!0),xe.access(i,t,(a||0)+1);},teardown:function(){let i=this.ownerDocument||this,a=xe.access(i,t)-1;a?xe.access(i,t,a):(i.removeEventListener(e,n,!0),xe.remove(i,t));} };});let vt=n.location,wt=le.now(),_t=/\?/;le.parseJSON=function(e){return JSON.parse(e+'');},le.parseXML=function(e){let t;if(!e||'string'!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,'text/xml');}catch(e){t=void 0;}return t&&!t.getElementsByTagName('parsererror').length||le.error('Invalid XML: '+e),t;};var bt=/#.*$/,Ct=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tt=/^(?:GET|HEAD)$/,Mt=/^\/\//,xt={},Et={},Lt='*/'.concat('*'),Dt=Q.createElement('a');Dt.href=vt.href,le.extend({ active:0,lastModified:{},etag:{},ajaxSettings:{ url:vt.href,type:'GET',isLocal:kt.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{ '*':Lt,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript' },contents:{ xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/ },responseFields:{ xml:'responseXML',text:'responseText',json:'responseJSON' },converters:{ '* text':String,'text html':!0,'text json':le.parseJSON,'text xml':le.parseXML },flatOptions:{ url:!0,context:!0 } },ajaxSetup:function(e,t){return t?Y(Y(e,le.ajaxSettings),t):Y(le.ajaxSettings,e);},ajaxPrefilter:V(xt),ajaxTransport:V(Et),ajax:function(e,t){function i(e,t,i,o){let c,d,v,w,b,S=t;2!==_&&(_=2,l&&n.clearTimeout(l),a=void 0,r=o||'',C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(w=$(p,C,i)),w=q(p,w,C,c),c?(p.ifModified&&(b=C.getResponseHeader('Last-Modified'),b&&(le.lastModified[s]=b),(b=C.getResponseHeader('etag'))&&(le.etag[s]=b)),204===e||'HEAD'===p.type?S='nocontent':304===e?S='notmodified':(S=w.state,d=w.data,v=w.error,c=!v)):(v=S,!e&&S||(S='error',e<0&&(e=0))),C.status=e,C.statusText=(t||S)+'',c?m.resolveWith(h,[d,S,C]):m.rejectWith(h,[C,S,v]),C.statusCode(g),g=void 0,u&&f.trigger(c?'ajaxSuccess':'ajaxError',[C,p,c?d:v]),y.fireWith(h,[C,S]),u&&(f.trigger('ajaxComplete',[C,p]),--le.active||le.event.trigger('ajaxStop')));}'object'==typeof e&&(t=e,e=void 0),t=t||{};var a,s,r,o,l,c,u,d,p=le.ajaxSetup({},t),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?le(h):le.event,m=le.Deferred(),y=le.Callbacks('once memory'),g=p.statusCode||{},v={},w={},_=0,b='canceled',C={ readyState:0,getResponseHeader:function(e){let t;if(2===_){if(!o)for(o={};t=St.exec(r);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()];}return null==t?null:t;},getAllResponseHeaders:function(){return 2===_?r:null;},setRequestHeader:function(e,t){let n=e.toLowerCase();return _||(e=w[n]=w[n]||e,v[e]=t),this;},overrideMimeType:function(e){return _||(p.mimeType=e),this;},statusCode:function(e){let t;if(e)if(_<2)for(t in e)g[t]=[g[t],e[t]];else C.always(e[C.status]);return this;},abort:function(e){let t=e||b;return a&&a.abort(t),i(0,t),this;} };if(m.promise(C).complete=y.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||vt.href)+'').replace(bt,'').replace(Mt,vt.protocol+'//'),p.type=t.method||t.type||p.method||p.type,p.dataTypes=le.trim(p.dataType||'*').toLowerCase().match(Se)||[''],null==p.crossDomain){c=Q.createElement('a');try{c.href=p.url,c.href=c.href,p.crossDomain=Dt.protocol+'//'+Dt.host!=c.protocol+'//'+c.host;}catch(e){p.crossDomain=!0;}}if(p.data&&p.processData&&'string'!=typeof p.data&&(p.data=le.param(p.data,p.traditional)),z(xt,p,t,C),2===_)return C;u=le.event&&p.global,u&&0==le.active++&&le.event.trigger('ajaxStart'),p.type=p.type.toUpperCase(),p.hasContent=!Tt.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(_t.test(s)?'&':'?')+p.data,delete p.data),!1===p.cache&&(p.url=Ct.test(s)?s.replace(Ct,'$1_='+wt++):s+(_t.test(s)?'&':'?')+'_='+wt++)),p.ifModified&&(le.lastModified[s]&&C.setRequestHeader('If-Modified-Since',le.lastModified[s]),le.etag[s]&&C.setRequestHeader('If-None-Match',le.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&C.setRequestHeader('Content-Type',p.contentType),C.setRequestHeader('Accept',p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+('*'!==p.dataTypes[0]?', '+Lt+'; q=0.01':''):p.accepts['*']);for(d in p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,C,p)||2===_))return C.abort();b='abort';for(d in{ success:1,error:1,complete:1 })C[d](p[d]);if(a=z(Et,p,t,C)){if(C.readyState=1,u&&f.trigger('ajaxSend',[C,p]),2===_)return C;p.async&&p.timeout>0&&(l=n.setTimeout(function(){C.abort('timeout');},p.timeout));try{_=1,a.send(v,i);}catch(e){if(!(_<2))throw e;i(-1,e);}}else i(-1,'No Transport');return C;},getJSON:function(e,t,n){return le.get(e,t,n,'json');},getScript:function(e,t){return le.get(e,void 0,t,'script');} }),le.each(['get','post'],function(e,t){le[t]=function(e,n,i,a){return le.isFunction(n)&&(a=a||i,i=n,n=void 0),le.ajax(le.extend({ url:e,type:t,dataType:a,data:n,success:i },le.isPlainObject(e)&&e));};}),le._evalUrl=function(e){return le.ajax({ url:e,type:'GET',dataType:'script',async:!1,global:!1,throws:!0 });},le.fn.extend({ wrapAll:function(e){let t;return le.isFunction(e)?this.each(function(t){le(this).wrapAll(e.call(this,t));}):(this[0]&&(t=le(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e;}).append(this)),this);},wrapInner:function(e){return le.isFunction(e)?this.each(function(t){le(this).wrapInner(e.call(this,t));}):this.each(function(){let t=le(this),n=t.contents();n.length?n.wrapAll(e):t.append(e);});},wrap:function(e){let t=le.isFunction(e);return this.each(function(n){le(this).wrapAll(t?e.call(this,n):e);});},unwrap:function(){return this.parent().each(function(){le.nodeName(this,'body')||le(this).replaceWith(this.childNodes);}).end();} }),le.expr.filters.hidden=function(e){return!le.expr.filters.visible(e);},le.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0;};var Pt=/%20/g,Ot=/\[\]$/,Rt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;le.param=function(e,t){let n,i=[],a=function(e,t){t=le.isFunction(t)?t():null==t?'':t,i[i.length]=encodeURIComponent(e)+'='+encodeURIComponent(t);};if(void 0===t&&(t=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(e)||e.jquery&&!le.isPlainObject(e))le.each(e,function(){a(this.name,this.value);});else for(n in e)Z(n,e[n],t,a);return i.join('&').replace(Pt,'+');},le.fn.extend({ serialize:function(){return le.param(this.serializeArray());},serializeArray:function(){return this.map(function(){let e=le.prop(this,'elements');return e?le.makeArray(e):this;}).filter(function(){let e=this.type;return this.name&&!le(this).is(':disabled')&&At.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ae.test(e));}).map(function(e,t){let n=le(this).val();return null==n?null:le.isArray(n)?le.map(n,function(e){return{ name:t.name,value:e.replace(Rt,'\r\n') };}):{ name:t.name,value:n.replace(Rt,'\r\n') };}).get();} }),le.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest;}catch(e){}};let Bt={ 0:200,1223:204 },Nt=le.ajaxSettings.xhr();oe.cors=!!Nt&&'withCredentials'in Nt,oe.ajax=Nt=!!Nt,le.ajaxTransport(function(e){let t,i;if(oe.cors||Nt&&!e.crossDomain)return{ send:function(a,s){let r,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||a['X-Requested-With']||(a['X-Requested-With']='XMLHttpRequest');for(r in a)o.setRequestHeader(r,a[r]);t=function(e){return function(){t&&(t=i=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,'abort'===e?o.abort():'error'===e?'number'!=typeof o.status?s(0,'error'):s(o.status,o.statusText):s(Bt[o.status]||o.status,o.statusText,'text'!==(o.responseType||'text')||'string'!=typeof o.responseText?{ binary:o.response }:{ text:o.responseText },o.getAllResponseHeaders()));};},o.onload=t(),i=o.onerror=t('error'),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&n.setTimeout(function(){t&&i();});},t=t('abort');try{o.send(e.hasContent&&e.data||null);}catch(e){if(t)throw e;}},abort:function(){t&&t();} };}),le.ajaxSetup({ accepts:{ script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript' },contents:{ script:/\b(?:java|ecma)script\b/ },converters:{ 'text script':function(e){return le.globalEval(e),e;} } }),le.ajaxPrefilter('script',function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type='GET');}),le.ajaxTransport('script',function(e){if(e.crossDomain){let t,n;return{ send:function(i,a){t=le('<script>').prop({ charset:e.scriptCharset,src:e.url }).on('load error',n=function(e){t.remove(),n=null,e&&a('error'===e.type?404:200,e.type);}),Q.head.appendChild(t[0]);},abort:function(){n&&n();} };}});let Ht=[],Wt=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({ jsonp:'callback',jsonpCallback:function(){let e=Ht.pop()||le.expando+'_'+wt++;return this[e]=!0,e;} }),le.ajaxPrefilter('json jsonp',function(e,t,i){let a,s,r,o=!1!==e.jsonp&&(Wt.test(e.url)?'url':'string'==typeof e.data&&0===(e.contentType||'').indexOf('application/x-www-form-urlencoded')&&Wt.test(e.data)&&'data');if(o||'jsonp'===e.dataTypes[0])return a=e.jsonpCallback=le.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Wt,'$1'+a):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?'&':'?')+e.jsonp+'='+a),e.converters['script json']=function(){return r||le.error(a+' was not called'),r[0];},e.dataTypes[0]='json',s=n[a],n[a]=function(){r=arguments;},i.always(function(){void 0===s?le(n).removeProp(a):n[a]=s,e[a]&&(e.jsonpCallback=t.jsonpCallback,Ht.push(a)),r&&le.isFunction(s)&&s(r[0]),r=s=void 0;}),'script';}),le.parseHTML=function(e,t,n){if(!e||'string'!=typeof e)return null;'boolean'==typeof t&&(n=t,t=!1),t=t||Q;let i=ge.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=y([e],t,a),a&&a.length&&le(a).remove(),le.merge([],i.childNodes));};let Ft=le.fn.load;le.fn.load=function(e,t,n){if('string'!=typeof e&&Ft)return Ft.apply(this,arguments);let i,a,s,r=this,o=e.indexOf(' ');return o>-1&&(i=le.trim(e.slice(o)),e=e.slice(0,o)),le.isFunction(t)?(n=t,t=void 0):t&&'object'==typeof t&&(a='POST'),r.length>0&&le.ajax({ url:e,type:a||'GET',dataType:'html',data:t }).done(function(e){s=arguments,r.html(i?le('<div>').append(le.parseHTML(e)).find(i):e);}).always(n&&function(e,t){r.each(function(){n.apply(this,s||[e.responseText,t,e]);});}),this;},le.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function(e,t){le.fn[t]=function(e){return this.on(t,e);};}),le.expr.filters.animated=function(e){return le.grep(le.timers,function(t){return e===t.elem;}).length;},le.offset={ setOffset:function(e,t,n){let i,a,s,r,o,l,c,u=le.css(e,'position'),d=le(e),p={};'static'===u&&(e.style.position='relative'),o=d.offset(),s=le.css(e,'top'),l=le.css(e,'left'),c=('absolute'===u||'fixed'===u)&&(s+l).indexOf('auto')>-1,c?(i=d.position(),r=i.top,a=i.left):(r=parseFloat(s)||0,a=parseFloat(l)||0),le.isFunction(t)&&(t=t.call(e,n,le.extend({},o))),null!=t.top&&(p.top=t.top-o.top+r),null!=t.left&&(p.left=t.left-o.left+a),'using'in t?t.using.call(e,p):d.css(p);} },le.fn.extend({ offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){le.offset.setOffset(this,e,t);});let t,n,i=this[0],a={ top:0,left:0 },s=i&&i.ownerDocument;if(s)return t=s.documentElement,le.contains(t,i)?(a=i.getBoundingClientRect(),n=J(s),{ top:a.top+n.pageYOffset-t.clientTop,left:a.left+n.pageXOffset-t.clientLeft }):a;},position:function(){if(this[0]){let e,t,n=this[0],i={ top:0,left:0 };return'fixed'===le.css(n,'position')?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),le.nodeName(e[0],'html')||(i=e.offset()),i.top+=le.css(e[0],'borderTopWidth',!0),i.left+=le.css(e[0],'borderLeftWidth',!0)),{ top:t.top-i.top-le.css(n,'marginTop',!0),left:t.left-i.left-le.css(n,'marginLeft',!0) };}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&'static'===le.css(e,'position');)e=e.offsetParent;return e||et;});} }),le.each({ scrollLeft:'pageXOffset',scrollTop:'pageYOffset' },function(e,t){let n='pageYOffset'===t;le.fn[e]=function(i){return Te(this,function(e,i,a){let s=J(e);if(void 0===a)return s?s[t]:e[i];s?s.scrollTo(n?s.pageXOffset:a,n?a:s.pageYOffset):e[i]=a;},e,i,arguments.length);};}),le.each(['top','left'],function(e,t){le.cssHooks[t]=P(oe.pixelPosition,function(e,n){if(n)return n=D(e,t),Je.test(n)?le(e).position()[t]+'px':n;});}),le.each({ Height:'height',Width:'width' },function(e,t){le.each({ padding:'inner'+e,content:t,'':'outer'+e },function(n,i){le.fn[i]=function(i,a){let s=arguments.length&&(n||'boolean'!=typeof i),r=n||(!0===i||!0===a?'margin':'border');return Te(this,function(t,n,i){let a;return le.isWindow(t)?t.document.documentElement['client'+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body['scroll'+e],a['scroll'+e],t.body['offset'+e],a['offset'+e],a['client'+e])):void 0===i?le.css(t,n,r):le.style(t,n,i,r);},t,s?i:void 0,s,null);};});}),le.fn.extend({ bind:function(e,t,n){return this.on(e,null,t,n);},unbind:function(e,t){return this.off(e,null,t);},delegate:function(e,t,n,i){return this.on(t,e,n,i);},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,'**'):this.off(t,e||'**',n);},size:function(){return this.length;} }),le.fn.andSelf=le.fn.addBack,i=[],void 0!==(a=function(){return le;}.apply(t,i))&&(e.exports=a);let jt=n.jQuery,Gt=n.$;return le.noConflict=function(e){return n.$===le&&(n.$=Gt),e&&n.jQuery===le&&(n.jQuery=jt),le;},s||(n.jQuery=n.$=le),le;});},function(e,t,n){e.exports=n(192).default;},function(e,t,n){(function(i){let a,s;!function(r){let o='object'==typeof self&&self.self==self&&self||'object'==typeof i&&i.global==i&&i;a=[n(0),n(1),t],void 0!==(s=function(e,t,n){o.Backbone=r(o,n,e,t);}.apply(t,a))&&(e.exports=s);}(function(e,t,n,i){let a=e.Backbone,s=Array.prototype.slice;t.VERSION='1.2.3',t.$=i,t.noConflict=function(){return e.Backbone=a,this;},t.emulateHTTP=!1,t.emulateJSON=!1;var r=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i]);};case 2:return function(e){return n[t](this[i],e);};case 3:return function(e,a){return n[t](this[i],l(e,this),a);};case 4:return function(e,a,s){return n[t](this[i],l(e,this),a,s);};default:return function(){let e=s.call(arguments);return e.unshift(this[i]),n[t].apply(n,e);};}},o=function(e,t,i){n.each(t,function(t,a){n[a]&&(e.prototype[a]=r(t,a,i));});},l=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e);}:e;},c=function(e){let t=n.matches(e);return function(e){return t(e.attributes);};},u=t.Events={},d=/\s+/,p=function(e,t,i,a,s){let r,o=0;if(i&&'object'==typeof i){void 0!==a&&'context'in s&&void 0===s.context&&(s.context=a);for(r=n.keys(i);o<r.length;o++)t=p(e,t,r[o],i[r[o]],s);}else if(i&&d.test(i))for(r=i.split(d);o<r.length;o++)t=e(t,r[o],a,s);else t=e(t,i,a,s);return t;};u.on=function(e,t,n){return h(this,e,t,n);};var h=function(e,t,n,i,a){if(e._events=p(f,e._events||{},t,n,{ context:i,ctx:e,listening:a }),a){(e._listeners||(e._listeners={}))[a.id]=a;}return e;};u.listenTo=function(e,t,i){if(!e)return this;let a=e._listenId||(e._listenId=n.uniqueId('l')),s=this._listeningTo||(this._listeningTo={}),r=s[a];if(!r){let o=this._listenId||(this._listenId=n.uniqueId('l'));r=s[a]={ obj:e,objId:a,id:o,listeningTo:s,count:0 };}return h(e,t,i,this,r),this;};var f=function(e,t,n,i){if(n){let a=e[t]||(e[t]=[]),s=i.context,r=i.ctx,o=i.listening;o&&o.count++,a.push({ callback:n,context:s,ctx:s||r,listening:o });}return e;};u.off=function(e,t,n){return this._events?(this._events=p(m,this._events,e,t,{ context:n,listeners:this._listeners }),this):this;},u.stopListening=function(e,t,i){let a=this._listeningTo;if(!a)return this;for(let s=e?[e._listenId]:n.keys(a),r=0;r<s.length;r++){let o=a[s[r]];if(!o)break;o.obj.off(t,i,this);}return n.isEmpty(a)&&(this._listeningTo=void 0),this;};var m=function(e,t,i,a){if(e){let s,r=0,o=a.context,l=a.listeners;if(t||i||o){for(let c=t?[t]:n.keys(e);r<c.length;r++){t=c[r];let u=e[t];if(!u)break;for(var d=[],p=0;p<u.length;p++){let h=u[p];i&&i!==h.callback&&i!==h.callback._callback||o&&o!==h.context?d.push(h):(s=h.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId]);}d.length?e[t]=d:delete e[t];}return n.size(e)?e:void 0;}for(let f=n.keys(l);r<f.length;r++)s=l[f[r]],delete l[s.id],delete s.listeningTo[s.objId];}};u.once=function(e,t,i){let a=p(y,{},e,t,n.bind(this.off,this));return this.on(a,void 0,i);},u.listenToOnce=function(e,t,i){let a=p(y,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,a);};var y=function(e,t,i,a){if(i){var s=e[t]=n.once(function(){a(t,s),i.apply(this,arguments);});s._callback=i;}return e;};u.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return p(g,this._events,e,void 0,n),this;};var g=function(e,t,n,i){if(e){let a=e[t],s=e.all;a&&s&&(s=s.slice()),a&&v(a,i),s&&v(s,[t].concat(i));}return e;},v=function(e,t){let n,i=-1,a=e.length,s=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;++i<a;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<a;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<a;)(n=e[i]).callback.call(n.ctx,s,r);return;case 3:for(;++i<a;)(n=e[i]).callback.call(n.ctx,s,r,o);return;default:for(;++i<a;)(n=e[i]).callback.apply(n.ctx,t);return;}};u.bind=u.on,u.unbind=u.off,n.extend(t,u);let w=t.Model=function(e,t){let i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,'defaults')),this.set(i,t),this.changed={},this.initialize.apply(this,arguments);};n.extend(w.prototype,u,{ changed:null,validationError:null,idAttribute:'id',cidPrefix:'c',initialize:function(){},toJSON:function(e){return n.clone(this.attributes);},sync:function(){return t.sync.apply(this,arguments);},get:function(e){return this.attributes[e];},escape:function(e){return n.escape(this.get(e));},has:function(e){return null!=this.get(e);},matches:function(e){return!!n.iteratee(e,this)(this.attributes);},set:function(e,t,i){if(null==e)return this;let a;if('object'==typeof e?(a=e,i=t):(a={})[e]=t,i||(i={}),!this._validate(a,i))return!1;let s=i.unset,r=i.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});let c=this.attributes,u=this.changed,d=this._previousAttributes;for(let p in a)t=a[p],n.isEqual(c[p],t)||o.push(p),n.isEqual(d[p],t)?delete u[p]:u[p]=t,s?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!r){o.length&&(this._pending=i);for(let h=0;h<o.length;h++)this.trigger('change:'+o[h],this,c[o[h]],i);}if(l)return this;if(!r)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger('change',this,i);return this._pending=!1,this._changing=!1,this;},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{ unset:!0 }));},clear:function(e){let t={};for(let i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{ unset:!0 }));},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e);},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);let t=this._changing?this._previousAttributes:this.attributes,i={};for(let a in e){let s=e[a];n.isEqual(t[a],s)||(i[a]=s);}return!!n.size(i)&&i;},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null;},previousAttributes:function(){return n.clone(this._previousAttributes);},fetch:function(e){e=n.extend({ parse:!0 },e);let t=this,i=e.success;return e.success=function(n){let a=e.parse?t.parse(n,e):n;if(!t.set(a,e))return!1;i&&i.call(e.context,t,n,e),t.trigger('sync',t,n,e);},W(this,e),this.sync('read',this,e);},save:function(e,t,i){let a;null==e||'object'==typeof e?(a=e,i=t):(a={})[e]=t,i=n.extend({ validate:!0,parse:!0 },i);let s=i.wait;if(a&&!s){if(!this.set(a,i))return!1;}else if(!this._validate(a,i))return!1;let r=this,o=i.success,l=this.attributes;i.success=function(e){r.attributes=l;let t=i.parse?r.parse(e,i):e;if(s&&(t=n.extend({},a,t)),t&&!r.set(t,i))return!1;o&&o.call(i.context,r,e,i),r.trigger('sync',r,e,i);},W(this,i),a&&s&&(this.attributes=n.extend({},l,a));let c=this.isNew()?'create':i.patch?'patch':'update';'patch'!==c||i.attrs||(i.attrs=a);let u=this.sync(c,this,i);return this.attributes=l,u;},destroy:function(e){e=e?n.clone(e):{};let t=this,i=e.success,a=e.wait,s=function(){t.stopListening(),t.trigger('destroy',t,t.collection,e);};e.success=function(n){a&&s(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger('sync',t,n,e);};let r=!1;return this.isNew()?n.defer(e.success):(W(this,e),r=this.sync('delete',this,e)),a||s(),r;},url:function(){let e=n.result(this,'urlRoot')||n.result(this.collection,'url')||H();if(this.isNew())return e;let t=this.get(this.idAttribute);return e.replace(/[^\/]$/,'$&/')+encodeURIComponent(t);},parse:function(e,t){return e;},clone:function(){return new this.constructor(this.attributes);},isNew:function(){return!this.has(this.idAttribute);},isValid:function(e){return this._validate({},n.defaults({ validate:!0 },e));},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);let i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger('invalid',this,i,n.extend(t,{ validationError:i })),!1);} }),o(w,{ keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1 },'attributes');let _=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({ silent:!0 },t));},b={ add:!0,remove:!0,merge:!0 },C={ add:!0,remove:!1 },S=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),a=t.length,s=0;s<i.length;s++)i[s]=e[s+n];for(s=0;s<a;s++)e[s+n]=t[s];for(s=0;s<i.length;s++)e[s+a+n]=i[s];};n.extend(_.prototype,u,{ model:w,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e);});},sync:function(){return t.sync.apply(this,arguments);},add:function(e,t){return this.set(e,n.extend({ merge:!1 },t,C));},remove:function(e,t){t=n.extend({},t);let i=!n.isArray(e);e=i?[e]:n.clone(e);let a=this._removeModels(e,t);return!t.silent&&a&&this.trigger('update',this,t),i?a[0]:a;},set:function(e,t){if(null!=e){t=n.defaults({},t,b),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));let i=!n.isArray(e);e=i?[e]:e.slice();let a=t.at;null!=a&&(a=+a),a<0&&(a+=this.length+1);for(var s,r=[],o=[],l=[],c={},u=t.add,d=t.merge,p=t.remove,h=!1,f=this.comparator&&null==a&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null,y=0;y<e.length;y++){s=e[y];let g=this.get(s);if(g){if(d&&s!==g){let v=this._isModel(s)?s.attributes:s;t.parse&&(v=g.parse(v,t)),g.set(v,t),f&&!h&&(h=g.hasChanged(m));}c[g.cid]||(c[g.cid]=!0,r.push(g)),e[y]=g;}else u&&(s=e[y]=this._prepareModel(s,t))&&(o.push(s),this._addReference(s,t),c[s.cid]=!0,r.push(s));}if(p){for(y=0;y<this.length;y++)s=this.models[y],c[s.cid]||l.push(s);l.length&&this._removeModels(l,t);}let w=!1,_=!f&&u&&p;if(r.length&&_?(w=this.length!=r.length||n.some(this.models,function(e,t){return e!==r[t];}),this.models.length=0,S(this.models,r,0),this.length=this.models.length):o.length&&(f&&(h=!0),S(this.models,o,null==a?this.length:a),this.length=this.models.length),h&&this.sort({ silent:!0 }),!t.silent){for(y=0;y<o.length;y++)null!=a&&(t.index=a+y),s=o[y],s.trigger('add',s,this,t);(h||w)&&this.trigger('sort',this,t),(o.length||l.length)&&this.trigger('update',this,t);}return i?e[0]:e;}},reset:function(e,t){t=t?n.clone(t):{};for(let i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({ silent:!0 },t)),t.silent||this.trigger('reset',this,t),e;},push:function(e,t){return this.add(e,n.extend({ at:this.length },t));},pop:function(e){let t=this.at(this.length-1);return this.remove(t,e);},unshift:function(e,t){return this.add(e,n.extend({ at:0 },t));},shift:function(e){let t=this.at(0);return this.remove(t,e);},slice:function(){return s.apply(this.models,arguments);},get:function(e){if(null!=e){let t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid];}},at:function(e){return e<0&&(e+=this.length),this.models[e];},where:function(e,t){return this[t?'find':'filter'](e);},findWhere:function(e){return this.where(e,!0);},sort:function(e){let t=this.comparator;if(!t)throw new Error('Cannot sort a set without a comparator');e||(e={});let i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger('sort',this,e),this;},pluck:function(e){return n.invoke(this.models,'get',e);},fetch:function(e){e=n.extend({ parse:!0 },e);let t=e.success,i=this;return e.success=function(n){let a=e.reset?'reset':'set';i[a](n,e),t&&t.call(e.context,i,n,e),i.trigger('sync',i,n,e);},W(this,e),this.sync('read',this,e);},create:function(e,t){t=t?n.clone(t):{};let i=t.wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);let a=this,s=t.success;return t.success=function(e,t,n){i&&a.add(e,n),s&&s.call(n.context,e,t,n);},e.save(null,t),e;},parse:function(e,t){return e;},clone:function(){return new this.constructor(this.models,{ model:this.model,comparator:this.comparator });},modelId:function(e){return e[this.model.prototype.idAttribute||'id'];},_reset:function(){this.length=0,this.models=[],this._byId={};},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;let i=new this.model(e,t);return i.validationError?(this.trigger('invalid',this,i.validationError,t),!1):i;},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){let a=this.get(e[i]);if(a){let s=this.indexOf(a);this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger('remove',a,this,t)),n.push(a),this._removeReference(a,t);}}return!!n.length&&n;},_isModel:function(e){return e instanceof w;},_addReference:function(e,t){this._byId[e.cid]=e;let n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on('all',this._onModelEvent,this);},_removeReference:function(e,t){delete this._byId[e.cid];let n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off('all',this._onModelEvent,this);},_onModelEvent:function(e,t,n,i){if('add'!==e&&'remove'!==e||n===this){if('destroy'===e&&this.remove(t,i),'change'===e){let a=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);a!==s&&(null!=a&&delete this._byId[a],null!=s&&(this._byId[s]=t));}this.trigger.apply(this,arguments);}} }),o(_,{ forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3 },'models');var k=t.View=function(e){this.cid=n.uniqueId('view'),n.extend(this,n.pick(e,M)),this._ensureElement(),this.initialize.apply(this,arguments);},T=/^(\S+)\s*(.*)$/,M=['model','collection','el','id','attributes','className','tagName','events'];n.extend(k.prototype,u,{ tagName:'div',$:function(e){return this.$el.find(e);},initialize:function(){},render:function(){return this;},remove:function(){return this._removeElement(),this.stopListening(),this;},_removeElement:function(){this.$el.remove();},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this;},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0];},delegateEvents:function(e){if(e||(e=n.result(this,'events')),!e)return this;this.undelegateEvents();for(let t in e){let i=e[t];if(n.isFunction(i)||(i=this[i]),i){let a=t.match(T);this.delegate(a[1],a[2],n.bind(i,this));}}return this;},delegate:function(e,t,n){return this.$el.on(e+'.delegateEvents'+this.cid,t,n),this;},undelegateEvents:function(){return this.$el&&this.$el.off('.delegateEvents'+this.cid),this;},undelegate:function(e,t,n){return this.$el.off(e+'.delegateEvents'+this.cid,t,n),this;},_createElement:function(e){return document.createElement(e);},_ensureElement:function(){if(this.el)this.setElement(n.result(this,'el'));else{let e=n.extend({},n.result(this,'attributes'));this.id&&(e.id=n.result(this,'id')),this.className&&(e.class=n.result(this,'className')),this.setElement(this._createElement(n.result(this,'tagName'))),this._setAttributes(e);}},_setAttributes:function(e){this.$el.attr(e);} }),t.sync=function(e,i,a){let s=x[e];n.defaults(a||(a={}),{ emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON });let r={ type:s,dataType:'json' };if(a.url||(r.url=n.result(i,'url')||H()),null!=a.data||!i||'create'!==e&&'update'!==e&&'patch'!==e||(r.contentType='application/json',r.data=JSON.stringify(a.attrs||i.toJSON(a))),a.emulateJSON&&(r.contentType='application/x-www-form-urlencoded',r.data=r.data?{ model:r.data }:{}),a.emulateHTTP&&('PUT'===s||'DELETE'===s||'PATCH'===s)){r.type='POST',a.emulateJSON&&(r.data._method=s);let o=a.beforeSend;a.beforeSend=function(e){if(e.setRequestHeader('X-HTTP-Method-Override',s),o)return o.apply(this,arguments);};}'GET'===r.type||a.emulateJSON||(r.processData=!1);let l=a.error;a.error=function(e,t,n){a.textStatus=t,a.errorThrown=n,l&&l.call(a.context,e,t,n);};let c=a.xhr=t.ajax(n.extend(r,a));return i.trigger('request',i,c,a),c;};var x={ create:'POST',update:'PUT',patch:'PATCH',delete:'DELETE',read:'GET' };t.ajax=function(){return t.$.ajax.apply(t.$,arguments);};let E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments);},L=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,P=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,u,{ initialize:function(){},route:function(e,i,a){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(a=i,i=''),a||(a=this[i]);let s=this;return t.history.route(e,function(n){let r=s._extractParameters(e,n);!1!==s.execute(a,r,i)&&(s.trigger.apply(s,['route:'+i].concat(r)),s.trigger('route',i,r),t.history.trigger('route',s,i,r));}),this;},execute:function(e,t,n){e&&e.apply(this,t);},navigate:function(e,n){return t.history.navigate(e,n),this;},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,'routes');for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e]);}},_routeToRegExp:function(e){return e=e.replace(O,'\\$&').replace(L,'(?:$1)?').replace(D,function(e,t){return t?e:'([^/?]+)';}).replace(P,'([^?]*?)'),new RegExp('^'+e+'(?:\\?([\\s\\S]*))?$');},_extractParameters:function(e,t){let i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null;});} });let R=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),'undefined'!=typeof window&&(this.location=window.location,this.history=window.history);},I=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,B=/#.*$/;R.started=!1,n.extend(R.prototype,u,{ interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,'$&/')===this.root&&!this.getSearch();},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+'/'===this.root;},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,'%2525'));},getSearch:function(){let e=this.location.href.replace(/#.*/,'').match(/\?.+/);return e?e[0]:'';},getHash:function(e){let t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:'';},getPath:function(){let e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return'/'===e.charAt(0)?e.slice(1):e;},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(I,'');},start:function(e){if(R.started)throw new Error('Backbone.history has already been started');if(R.started=!0,this.options=n.extend({ root:'/' },this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange='onhashchange'in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=('/'+this.root+'/').replace(A,'/'),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){let t=this.root.slice(0,-1)||'/';return this.location.replace(t+'#'+this.getPath()),!0;}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{ replace:!0 });}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement('iframe'),this.iframe.src='javascript:0',this.iframe.style.display='none',this.iframe.tabIndex=-1;let i=document.body,a=i.insertBefore(this.iframe,i.firstChild).contentWindow;a.document.open(),a.document.close(),a.location.hash='#'+this.fragment;}let s=window.addEventListener||function(e,t){return attachEvent('on'+e,t);};if(this._usePushState?s('popstate',this.checkUrl,!1):this._useHashChange&&!this.iframe?s('hashchange',this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl();},stop:function(){let e=window.removeEventListener||function(e,t){return detachEvent('on'+e,t);};this._usePushState?e('popstate',this.checkUrl,!1):this._useHashChange&&!this.iframe&&e('hashchange',this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1;},route:function(e,t){this.handlers.unshift({ route:e,callback:t });},checkUrl:function(e){let t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl();},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0;}));},navigate:function(e,t){if(!R.started)return!1;t&&!0!==t||(t={ trigger:!!t }),e=this.getFragment(e||'');let n=this.root;''!==e&&'?'!==e.charAt(0)||(n=n.slice(0,-1)||'/');let i=n+e;if(e=this.decodeFragment(e.replace(B,'')),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?'replaceState':'pushState']({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){let a=this.iframe.contentWindow;t.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,e,t.replace);}}return t.trigger?this.loadUrl(e):void 0;}},_updateHash:function(e,t,n){if(n){let i=e.href.replace(/(javascript:|#).*$/,'');e.replace(i+'#'+t);}else e.hash='#'+t;} }),t.history=new R;let N=function(e,t){let i,a=this;i=e&&n.has(e,'constructor')?e.constructor:function(){return a.apply(this,arguments);},n.extend(i,a,t);let s=function(){this.constructor=i;};return s.prototype=a.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=a.prototype,i;};w.extend=_.extend=E.extend=k.extend=R.extend=N;var H=function(){throw new Error('A "url" property or function must be specified');},W=function(e,t){let n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger('error',e,i,t);};};return t;});}).call(t,n(46));},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(0),o=i(r),l=n(1),c=i(l),u=n(189),d=function(){function e(){a(this,e);}return s(e,null,[{ key:'convertToGeoJSON',value:function(e){return e.forEach(function(e){e.lat=e.geometry.location?e.geometry.location.lat():e.geometry[1],e.lng=e.geometry.location?e.geometry.location.lng():e.geometry[0];}),u.parse(e,{ Point:['lat','lng'] });} },{ key:'transformDataToGeoJSON',value:function(e,t){return this.isGeoJSON(e)?e:(e.features.forEach(function(e){let n=o.default.chain(e).value();e=n,e.id=n[t.featureId];let i=n[t.geometry],a=void 0,s=void 0;!i&&t.geometry.lon&&t.geometry.lat?(a=n[t.geometry.lon],s=n[t.geometry.lat]):o.default.isArray(i)?(a=i[0],s=i[1]):o.default.isObject(i)&&(a=i.lon,s=i.lat),e.geometry=[parseFloat(a),parseFloat(s)];}),this.convertToGeoJSON(e.features));} },{ key:'isGeoJSON',value:function(e){let t=void 0;return e.features.forEach(function(e){if(!e.geometry||'Feature'!==e.type)return!1;t=!0;}),t;} },{ key:'convertFeaturesToLatLng',value:function(e){let t=[];return e.forEach(function(e){t.push(new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]));}),t;} },{ key:'getPreloadedJson',value:function(e){let t=e.replace(new RegExp('.json$'),'').replace(new RegExp('^./data/'),'');return n(225)('./'+t+'.json');} },{ key:'getPolygonPath',value:function(e){let t=e.geometry.coordinates;return t.length>1?o.default.map(t,function(e){return o.default.reduce(e,function(e,t){return o.default.each(o.default.map(t,function(e){return new google.maps.LatLng(e[1],e[0]);}),function(t){e.push(t);}),e;},[]);}):o.default.map(t[0],function(e){return new google.maps.LatLng(e[1],e[0]);});} },{ key:'createPolygons',value:function(e){let t=void 0;return'MultiPolygon'!==e.geometry.type&&'Polygon'!==e.geometry.type||(t=this.getPolygonPath(e)),new google.maps.Polygon({ paths:t });} },{ key:'requestUserPosition',value:function(){let e=this,t=c.default.Deferred();return this.ieGeolocationCancelled?t.reject():navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){e.userPosition=new google.maps.LatLng(n.coords.latitude,n.coords.longitude),t.resolve(e.userPosition);},function(n){t.reject();let i=e.getBrowser();'IE'!==i.name&&'Edge'!==i.name||(e.ieGeolocationCancelled=!0);}):t.reject(),t.promise();} },{ key:'getDateFromString',value:function(e){let t=e.split('/');return new Date(t[1]+'/'+t[0]+'/'+t[2]);} },{ key:'getStringFromDate',value:function(e){return(e.getDate()<10?'0'+e.getDate():e.getDate())+'/'+(e.getMonth()<10?'0'+e.getMonth():e.getMonth())+'/'+e.getFullYear();} },{ key:'getTimeFromDate',value:function(e){return(e.getHours()<10?'0'+e.getHours():e.getHours())+':'+(e.getMinutes()<10?'0'+e.getMinutes():e.getMinutes());} },{ key:'getImgUrl',value:function(e,t,n){let i=null;if(e.indexOf('http')>-1)i=e;else{let a=n?n+'/':'';i=(t.config.imagesPath?t.config.imagesPath:'../dist/images/')+a+e+(t.config.imagesSuffix?t.config.imagesSuffix:'');}return i;} },{ key:'getBrowser',value:function(){let e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{ name:'IE',version:e[1]||'' }):/Edge\/\d./i.test(t)?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{ name:'Edge',version:e[1]||'' }):'Chrome'===n[1]&&null!==(e=t.match(/\bOPR\/(\d+)/))?{ name:'Opera',version:e[1] }:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,'-?'],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{ name:n[0],version:n[1] });} },{ key:'queryStringToObject',value:function(e){for(var t=e.split('&'),n={},i=0;i<t.length;i++){let a=t[i].split('=');n[a[0]]=a[1];}return n;} },{ key:'queryObjectToString',value:function(e){let t='';for(let n in e)e.hasOwnProperty(n)&&(t+=n+':'+e[n]+'?');return t;} },{ key:'createMessage',value:function(e,t){return{ type:e,text:t,autohide:arguments.length>2&&void 0!==arguments[2]&&arguments[2],repeatable:arguments.length>3&&void 0!==arguments[3]&&arguments[3],msgId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0 };} },{ key:'createLinkToMessage',value:function(e,t){let n='',i=e.split('/link/');return n=i[0],i[1].length>0&&(n+='<a href="'+t+'" class="snw-msg-link snw-link" target="_blank">'+i[1]+'</a>'),i[2].length>0&&(n+=i[2]),n;} },{ key:'sortBy',value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'order';return o.default.sortBy(o.default.map(e,function(e,t){return e.id=e.id||t,e;}),t)||[];} },{ key:'formatCssClass',value:function(e){let t=[];return o.default.each(e.split(/(?=[A-Z])/),function(e){t.push(e.toLowerCase());}),'snw-'+t.join('-');} },{ key:'stringFormat',value:function(e,t){return e.replace(/%s/g,function(){return t.shift();});} },{ key:'getDistance',value:function(e,t){let n=void 0,i=void 0,a=function(e){return e*Math.PI/180;},s=a(+t.lat-+e.lat),r=a(+t.lng-+e.lng);return n=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a(+e.lat))*Math.cos(a(+t.lat))*Math.sin(r/2)*Math.sin(r/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),6378137*i;} },{ key:'getBoundsFromPoint',value:function(e,t){return new google.maps.Circle({ center:e,radius:t }).getBounds();} },{ key:'_loadCartoLibraries',value:function(){let e=c.default.Deferred(),t=[];return t.push(this._loadjscssfile('https://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/3.15/cartodb.js','js')),t.push(this._loadjscssfile('https://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/3.15/themes/css/cartodb.css','css')),c.default.when.apply(c.default,t).then(function(){e.resolve();}).fail(function(t){e.reject(t);}),e.promise();} },{ key:'_loadjscssfile',value:function(e,t){if(this.libsPromises=this.libsPromises||{},this.libsPromises[e])return this.libsPromises[e];let n=c.default.Deferred(),i=n.promise();this.libsPromises[e]=i;let a=null;return'js'===t?(a=document.createElement('script'),a.setAttribute('type','text/javascript'),a.setAttribute('src',e)):'css'===t&&(a=document.createElement('link'),a.setAttribute('rel','stylesheet'),a.setAttribute('type','text/css'),a.setAttribute('href',e)),void 0!==a&&(a.onload=function(){n.resolve();},document.getElementsByTagName('head')[0].appendChild(a)),i;} }]),e;}();t.default=d;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=n(4),c=i(l),u=n(20),d=i(u);t.default=s.default.View.extend({ constructor:function(e){this.position=e.position,this.map=e.map||e.widget.map,this.widget=e.widget,this.imagesPath=this.widget.config.imagesPath,this.isChild=e.isChild||!1,this.eventBus=e.widget.eventBus,this.incompatibilities=e.incompatibilities||[],this.componentConstructorClass=e.componentConstructorClass,this.identifier=e.identifier||null,this.componentClass=o.default.isUndefined(this.componentConstructorClass)?null:c.default.formatCssClass(this.componentConstructorClass),this.templateConfig={ componentClass:this.componentClass||null,iconClassName:e.properties?e.properties.iconClassName:null },this.isActivated=!1,this.filterManager=e.widget.filterManager||null,this.handleLayers=this.widget.handleLayers,this.properties=e.properties||{},this.parentComponent=e.parent,s.default.View.prototype.constructor.call(this,e);},initialize:function(e){let t=this;if(!o.default.isUndefined(this.template)){if(!o.default.isUndefined(this.templatePartials))for(let n in this.templatePartials)this.templatePartials.hasOwnProperty(n)&&d.default.default.registerPartial(n,this.templatePartials[n]);!this.position&&o.default.isUndefined(this.widget.map)?this.widget.$el.find('.snw-autocomplete-widget-container').append(this.render().el):this.isChild?this.render():this.position?this.map.controls[google.maps.ControlPosition[this.position]].push(this.render().el):this.widget.$el.find('.snw-maps-widget-container').append(this.render().el),o.default.isEmpty(this.incompatibilities)||this.listenTo(this.eventBus.bus,'ACTIVATE_TOOL',function(e){t.isActivated&&o.default.contains(t.incompatibilities,e.identifier)&&t.deactivate({ disable:!0 });});}},events:{ click:'toggleActivation','click .close-btn':'_closefn' },toggleActivation:function(){this.isActivated?this.deactivate():this.activate();},activate:function(){this.isActivated=!0,this.eventBus.bus.trigger('ACTIVATE_TOOL',{ identifier:this.identifier,instanceObj:this });},deactivate:function(e){let t=o.default.extend({ identifier:this.identifier },e);this.isActivated=!1,this.eventBus.bus.trigger('DEACTIVATE_TOOL',t);},delegateEvents:function(){this.customEventDelegation(),s.default.View.prototype.delegateEvents.call(this);},hide:function(){let e=c.default.getBrowser().name;if('IE'!==e&&'Edge'!==e||this.$el.wrap('<span>').hide(),this.position&&google.maps.ControlPosition[this.position]){let t=this.map.controls[google.maps.ControlPosition[this.position]].indexOf(this.el);-1!==t&&this.map.controls[google.maps.ControlPosition[this.position]].removeAt(t);}this.$el.hide();},show:function(){this.$el.show(),this.position&&this.map.controls[google.maps.ControlPosition[this.position]]&&-1===this.map.controls[google.maps.ControlPosition[this.position]].indexOf(this.el)&&this.map.controls[google.maps.ControlPosition[this.position]].push(this.el);},customEventDelegation:function(){},render:function(){let e=this.isChild?'component':'componentOnMap';return this.setElement(this.template(this.templateConfig)),this.$el.addClass(this.componentClass).addClass(c.default.formatCssClass(e)),o.default.isNull(this.identifier)||this.$el.addClass(c.default.formatCssClass(this.identifier)),this;},_closefn:function(){this.parentComponent&&this.parentComponent.unSelect();} });},function(e,t,n){'use strict';function i(e){return d[e];}function a(e){for(let t=1;t<arguments.length;t++)for(let n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e;}function s(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1;}function r(e){if('string'!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return'';if(!e)return e+'';e=''+e;}return h.test(e)?e.replace(p,i):e;}function o(e){return!e&&0!==e||!(!y(e)||0!==e.length);}function l(e){let t=a({},e);return t._parent=e,t;}function c(e,t){return e.path=t,e;}function u(e,t){return(e?e+'.':'')+t;}t.__esModule=!0,t.extend=a,t.indexOf=s,t.escapeExpression=r,t.isEmpty=o,t.createFrame=l,t.blockParams=c,t.appendContextPath=u;var d={ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','`':'&#x60;','=':'&#x3D;' },p=/[&<>"'`=]/g,h=/[&<>"'`=]/,f=Object.prototype.toString;t.toString=f;let m=function(e){return'function'==typeof e;};m(/x/)&&(t.isFunction=m=function(e){return'function'==typeof e&&'[object Function]'===f.call(e);}),t.isFunction=m;var y=Array.isArray||function(e){return!(!e||'object'!=typeof e)&&'[object Array]'===f.call(e);};t.isArray=y;},function(e,t,n){let i,a,s;!function(r){a=[n(1)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.ui=e.ui||{},e.ui.version='1.12.1';});},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(0),r=function(e){return e&&e.__esModule?e:{ default:e };}(s),o=function(){function e(){i(this,e);}return a(e,null,[{ key:'googlePositionToCSSClass',value:function(e){return e.toLowerCase().replace(/\_/,'-');} },{ key:'isGoogleMapsPosition',value:function(e){return!r.default.isUndefined(this.googleMapsPosition[e]);} },{ key:'getBounds',value:function(e){return r.default.isObject(e)&&e.hasOwnProperty('neLat')&&e.hasOwnProperty('neLng')&&e.hasOwnProperty('swLat')&&e.hasOwnProperty('swLng')?new google.maps.LatLngBounds(new google.maps.LatLng(+e.swLat,+e.swLng),new google.maps.LatLng(+e.neLat,+e.neLng)):null;} },{ key:'getBoundsCenter',value:function(e){if(r.default.isObject(e))return e.getCenter();} },{ key:'setLimitsToBBox',value:function(e,t){let n,i,a,s,r,o,l;t.contains(e.getCenter())||(n=e.getCenter(),i=n.lng(),a=n.lat(),s=t.getNorthEast().lng(),r=t.getNorthEast().lat(),o=t.getSouthWest().lng(),l=t.getSouthWest().lat(),i<o&&(i=o),i>s&&(i=s),a<l&&(a=l),a>r&&(a=r),e.panTo(new google.maps.LatLng(a,i)));} },{ key:'containPointInBBox',value:function(e,t){return e.contains(t);} },{ key:'containPointInPolygons',value:function(e,t){return r.default.some(t,function(t){return google.maps.geometry.poly.containsLocation(e,t);});} },{ key:'boundingBoxToPolygon',value:function(e){let t=[];return t[0]=[e.getNorthEast().lng(),e.getNorthEast().lat()],t[1]=[e.getSouthWest().lng(),e.getNorthEast().lat()],t[2]=[e.getSouthWest().lng(),e.getSouthWest().lat()],t[3]=[e.getNorthEast().lng(),e.getSouthWest().lat()],t[4]=[e.getNorthEast().lng(),e.getNorthEast().lat()],{ type:'Polygon',coordinates:t };} },{ key:'googleMapsPosition',get:function(){return{ BOTTOM:'BOTTOM',BOTTOM_CENTER:'BOTTOM_CENTER',BOTTOM_LEFT:'BOTTOM_LEFT',BOTTOM_RIGHT:'BOTTOM_RIGHT',CENTER:'CENTER',LEFT:'LEFT',LEFT_BOTTOM:'LEFT_BOTTOM',LEFT_CENTER:'LEFT_CENTER',LEFT_TOP:'LEFT_TOP',RIGHT:'RIGHT',RIGHT_BOTTOM:'RIGHT_BOTTOM',RIGHT_CENTER:'RIGHT_CENTER',RIGHT_TOP:'RIGHT_TOP',TOP:'TOP',TOP_CENTER:'TOP_CENTER',TOP_LEFT:'TOP_LEFT',TOP_RIGHT:'TOP_RIGHT' };} },{ key:'googleControls',get:function(){return['mapTypeControl','scaleControl','streetViewControl','rotateControl','fullscreenControl','overviewMapControl','panControl','signInControl'];} }]),e;}();t.default=o;},function(e,t,n){'use strict';let i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},a=n(36),s=function(e){return e&&e.__esModule?e:{ default:e };}(a);!function(n,a){'object'===i(t)?e.exports={ RichMarker:n(a()),RichMarkerPosition:a() }:n(a(window),window);}(function(e,t){function n(t){let n=t||{};this.ready_=!1,this.dragging_=!1,void 0==t.visible&&(t.visible=!0),void 0==t.shadow&&(t.shadow='7px -3px 5px rgba(88,88,88,0.7)'),void 0==t.anchor&&(t.anchor=e.BOTTOM),this.setValues(n);}let a=function(){n.prototype=new google.maps.OverlayView,n.prototype.getVisible=function(){return this.get('visible');},n.prototype.getVisible=n.prototype.getVisible,n.prototype.setVisible=function(e){this.set('visible',e);},n.prototype.setVisible=n.prototype.setVisible,n.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?'':'none',this.draw());},n.prototype.visible_changed=n.prototype.visible_changed,n.prototype.setFlat=function(e){this.set('flat',!!e);},n.prototype.setFlat=n.prototype.setFlat,n.prototype.getFlat=function(){return this.get('flat');},n.prototype.getFlat=n.prototype.getFlat,n.prototype.getWidth=function(){return this.get('width');},n.prototype.getWidth=n.prototype.getWidth,n.prototype.getHeight=function(){return this.get('height');},n.prototype.getHeight=n.prototype.getHeight,n.prototype.setShadow=function(e){this.set('shadow',e),this.flat_changed();},n.prototype.setShadow=n.prototype.setShadow,n.prototype.getShadow=function(){return this.get('shadow');},n.prototype.getShadow=n.prototype.getShadow,n.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?'':this.getShadow());},n.prototype.flat_changed=n.prototype.flat_changed,n.prototype.setZIndex=function(e){this.set('zIndex',e);},n.prototype.setZIndex=n.prototype.setZIndex,n.prototype.getZIndex=function(){return this.get('zIndex');},n.prototype.getZIndex=n.prototype.getZIndex,n.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex());},n.prototype.zIndex_changed=n.prototype.zIndex_changed,n.prototype.getDraggable=function(){return this.get('draggable');},n.prototype.getDraggable=n.prototype.getDraggable,n.prototype.setDraggable=function(e){this.set('draggable',!!e);},n.prototype.setDraggable=n.prototype.setDraggable,n.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_());},n.prototype.draggable_changed=n.prototype.draggable_changed,n.prototype.getPosition=function(){return this.get('position');},n.prototype.getPosition=n.prototype.getPosition,n.prototype.setPosition=function(e){this.set('position',e);},n.prototype.setPosition=n.prototype.setPosition,n.prototype.position_changed=function(){this.draw();},n.prototype.position_changed=n.prototype.position_changed,n.prototype.getAnchor=function(){return this.get('anchor');},n.prototype.getAnchor=n.prototype.getAnchor,n.prototype.setAnchor=function(e){this.set('anchor',e);},n.prototype.setAnchor=n.prototype.setAnchor,n.prototype.anchor_changed=function(){this.draw();},n.prototype.anchor_changed=n.prototype.anchor_changed,n.prototype.htmlToDocumentFragment_=function(e){let t=document.createElement('DIV');if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n;},n.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t);},n.prototype.setContent=function(e){this.set('content',e);},n.prototype.setContent=n.prototype.setContent,n.prototype.getContent=function(){return this.get('content');},n.prototype.getContent=n.prototype.getContent,n.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);let e=this.getContent();if(e){'string'==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,'$1'),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,n=this,i=this.markerContent_.getElementsByTagName('IMG'),a=0;t=i[a];a++)google.maps.event.addDomListener(t,'mousedown',function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1);}),google.maps.event.addDomListener(t,'load',function(){n.draw();});google.maps.event.trigger(this,'domready');}this.ready_&&this.draw();}},n.prototype.content_changed=n.prototype.content_changed,n.prototype.setCursor_=function(e){if(this.ready_){let t='';-1!==navigator.userAgent.indexOf('Gecko/')?('dragging'==e&&(t='-moz-grabbing'),'dragready'==e&&(t='-moz-grab'),'draggable'==e&&(t='pointer')):('dragging'!=e&&'dragready'!=e||(t='move'),'draggable'==e&&(t='pointer')),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t);}},n.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;let t=this.getMap();this.mapDraggable_=t.get('draggable'),t.set('draggable',!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_('dragready'),this.markerWrapper_.style.MozUserSelect='none',this.markerWrapper_.style.KhtmlUserSelect='none',this.markerWrapper_.style.WebkitUserSelect='none',this.markerWrapper_.unselectable='on',this.markerWrapper_.onselectstart=function(){return!1;},this.addDraggingListeners_(),google.maps.event.trigger(this,'dragstart',e);}},n.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set('draggable',this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect='',this.markerWrapper_.style.KhtmlUserSelect='',this.markerWrapper_.style.WebkitUserSelect='',this.markerWrapper_.unselectable='off',this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_('draggable'),google.maps.event.trigger(this,'dragend'),this.draw());},n.prototype.drag=function(e){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();let t=this.mouseX_-e.clientX,n=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;let i=parseInt(this.markerWrapper_.style.left,10)-t,a=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=i+'px',this.markerWrapper_.style.top=a+'px';let s=this.getOffset_(),r=new google.maps.Point(i-s.width,a-s.height),o=this.getProjection();this.setPosition(o.fromDivPixelToLatLng(r)),this.setCursor_('dragging'),google.maps.event.trigger(this,'drag',e);},n.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_('');},n.prototype.addDragging_=function(e){if(e){let t=this;this.draggableListener_=google.maps.event.addDomListener(e,'mousedown',function(e){t.startDrag(e);}),this.setCursor_('draggable');}},n.prototype.addDraggingListeners_=function(){let e=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,'mousemove',function(t){e.drag(t);},!0),google.maps.event.addDomListener(this.markerWrapper_,'mouseup',function(){e.stopDrag(),e.markerWrapper_.releaseCapture();},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(window,'mousemove',function(t){e.drag(t);},!0),google.maps.event.addDomListener(window,'mouseup',function(){e.stopDrag();},!0)];},n.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0;}},n.prototype.getOffset_=function(){let t=this.getAnchor();if('object'==(void 0===t?'undefined':i(t)))return t;let n=new google.maps.Size(0,0);if(!this.markerContent_)return n;let a=this.markerContent_.offsetWidth,s=this.markerContent_.offsetHeight;switch(t){case e.TOP_LEFT:break;case e.TOP:n.width=-a/2;break;case e.TOP_RIGHT:n.width=-a;break;case e.LEFT:n.height=-s/2;break;case e.MIDDLE:n.width=-a/2,n.height=-s/2;break;case e.RIGHT:n.width=-a,n.height=-s/2;break;case e.BOTTOM_LEFT:n.height=-s;break;case e.BOTTOM:n.width=-a/2,n.height=-s;break;case e.BOTTOM_RIGHT:n.width=-a,n.height=-s;}return n;},n.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement('DIV'),this.markerWrapper_.style.position='absolute'),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?'':'none',!this.markerContent_){this.markerContent_=document.createElement('DIV'),this.markerWrapper_.appendChild(this.markerContent_);let e=this;google.maps.event.addDomListener(this.markerContent_,'click',function(t){google.maps.event.trigger(e,'click',t);}),google.maps.event.addDomListener(this.markerContent_,'mouseover',function(t){google.maps.event.trigger(e,'mouseover',t);}),google.maps.event.addDomListener(this.markerContent_,'mouseout',function(t){google.maps.event.trigger(e,'mouseout',t);});}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();let t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,'ready');},n.prototype.onAdd=n.prototype.onAdd,n.prototype.draw=function(){if(this.ready_&&!this.dragging_){let e=this.getProjection();if(e){let t=this.get('position'),n=e.fromLatLngToDivPixel(t),i=this.getOffset_();this.markerWrapper_.style.top=n.y+i.height+'px',this.markerWrapper_.style.left=n.x+i.width+'px';let a=this.markerContent_.offsetHeight,s=this.markerContent_.offsetWidth;s!=this.get('width')&&this.set('width',s),a!=this.get('height')&&this.set('height',a);}}},n.prototype.draw=n.prototype.draw,n.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_();},n.prototype.onRemove=n.prototype.onRemove;};if(s.default.isLoaded()?a():s.default.onLoad(a),t!==window)return n;window.RichMarker=n;},function(e){let t={ TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9 };if(e!==window)return t;window.RichMarkerPosition=t;});},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=n(25),c=i(l),u=s.default.View.extend({ constructor:function(){let e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.widget=t.widget,this.id=t.source.id,this.source=t.source,this.params=t.source.params||{},this.map=t.widget.map,this.minZoom=o.default.isUndefined(this.params.minZoom)?0:this.params.minZoom,this.provider=t.provider?t.provider:null,this.featureId=t.featureId?t.featureId:null;let n=this.widget.handleLayers.getLayerModel(this.source.id),i=this.source.id||o.default.uniqueId();if(o.default.isUndefined(n)){n=new(this.ModelClass||c.default)({ id:i,active:!0===this.source.active||!1,visibleOnMap:this.source.active&&this.isAvailableZoom(),index:this.source.index }),this.widget.handleLayers.layersCollection.add(n);}this.listenTo(n,'change:active',function(t,n){n?e.minZoom?e.model.set('visibleOnMap',e.isAvailableZoom()):e.activateSource():e.remove(),e.notify&&e._notify(n?'showlayer':'hidelayer',{ layer:t.id });}),this.listenTo(n,'change:visibleOnMap',function(t,n){n?e.activateSource():e.remove();}),t.model=n,this.minZoom&&this._minZoomVisibility(),s.default.View.prototype.constructor.call(this,t);},activateSource:function(){throw new Error('BaseLayer::activateSource method needs an implementation in the extending class');},remove:function(){throw new Error('BaseLayer::remove method needs an implementation in the extending class');},isAvailableZoom:function(){return this.map.getZoom()>=this.minZoom;},_minZoomVisibility:function(){let e=this,t=this.widget.eventBus.bus;this._zoomChangedEvent=google.maps.event.addListener(this.map,'zoom_changed',function(){t.trigger('CHECK_VISIBILITY_LAYERS'),e.model.get('active')&&e.model.set('visibleOnMap',e.isAvailableZoom());});},_toggleActivation:function(){this.model.get('active')?this.activateSource():this.remove();} });t.default=u;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(_.default.has(e,'delayTime'))return e.delayTime;let n=e.timetable.scheduledTimes.departure?'departure':'arrival';if(t&&(n=e.timetable.scheduledTimes.arrival?'arrival':'departure'),!e.timetable||!e.realtime||!e.realtime.updatedTimes)return 0;let i=e.timetable.scheduledTimes[n],a=e.realtime.updatedTimes[n].time||e.realtime.updatedTimes[n];return new Date(a).getTime()-new Date(i).getTime();}function r(e){let t=e;return e.map(function(e){'cancelled'!==e.minTime&&'cancelled'!==e.maxTime||(e.minTime=-1,e.maxTime=-1),e.frequencyMin||e.frequencyMax?e.frequencyMax||(e.frequencyMax=1):(e.frequencyMax=0,e.frequencyMin=0),e.maxTime||(e.maxTime=1/0);}),t.sort(function(e,t){let n=void 0;return n=e.frequencyMin===t.frequencyMin?e.minTime<t.minTime:e.frequencyMin<t.frequencyMin,n?1:-1;}),t;}function o(e,t){let n=void 0,i=void 0,a=void 0;for(n=0;n<t.length;n++){if(i=function(e,n){return e.filter(function(e){return e>t[n].minTime&&e<=t[n].maxTime||e===t[n].minTime&&e===t[n].maxTime;});}(e,n),(a=i.length/e.length)>=t[n].frequencyMin&&a<=t[n].frequencyMax)return t[n].color;if(t.length-1===n)return t[n].color;}}function l(e){let t=[];return e.forEach(function(e){e.leg.forEach(function(e){t.push(e.board);});}),_.default.uniq(t);}function c(e){let t={};return e.length&&e.forEach(function(e){_.default.extend(t,e.delays);}),t;}function u(){return{ scheduled:{} };}function d(e){let t=!0;return e.legs.map(function(e){e.steps.map(function(e){e[L]!==I.WALKING&&e[L]!==I.DRIVING&&e[L]!==I.BICYCLING&&(t=!1);});}),t;}function p(e){return e.timetable.scheduled.departure=new Date(e.transit[E].value*T).toISOString(),e.timetable.scheduled.arrival=new Date(e.transit[x].value*T).toISOString(),e.operator=e.transit.line.name,e.operatorCode=e.transit.line[D],e.companyStyle={ color:e.transit.line[P],'background-color':e.transit.line.color },e;}function h(e,t){let n=t.callingPoints?t.callingPoints[t.callingPoints.length-1]:{},i=t.callingPoints?function(){return n.timetable.scheduledTimes.arrival?new Date(n.timetable.scheduledTimes.arrival):new Date(n.timetable.scheduledTimes.departure);}():new Date(t.timetable.scheduled.arrival);if(e.timetable.scheduled.departure=i.toISOString(),e.timetable.scheduled.arrival=new Date(i.getTime()+e.duration.value*T).toISOString(),t.callingPoints&&n.realtime&&n.realtime.updatedTimes){let a=t.callingPoints?function(){return n.realtime.updatedTimes.arrival.time?new Date(n.realtime.updatedTimes.arrival.time):new Date(n.realtime.updatedTimes.departure.time);}():new Date(t.realtime.updatedTimes.arrival);e.realtime={},e.realtime.updatedTime={ departure:{ time:a.toISOString() },arrival:{ time:new Date(a.getTime()+e.duration.value*T).toISOString() } };}return e;}function f(e,t){let n=this.leg.steps[t-1]?this.leg.steps[t-1]:e;if(e.isGoogleStep){if(e.timetable=u(e),e.mode=e[L]===I.WALKING?I.WALK:e[L],e[L]===I.TRANSIT){let i=e.transit.line.vehicle;switch(e.iconUrl=i[O]?i[O]:i.icon,e.transit.line.vehicle.type){case R.BUS:case R.INTERCITY_BUS:case R.TROLLEYBUS:e.mode=I.BUS;break;case R.SUBWAY:e.mode=I.UNDERGROUND;break;case R.COMMUTER_TRAIN:case R.TRAM:e.mode=I.METRO;break;case R.FERRY:e.mode=I.FERRY;break;case R.HIGH_SPEED_TRAIN:case R.HEAVY_RAIL:e.mode=I.TRAIN;break;case R.GONDOLA_LIFT:e.mode=I.CABLE_CAR;break;default:e.mode=I.OVERGROUND;}e=p(e),this.actualStepTime=new Date(e.timetable.scheduled.arrival).getTime();}else if(n.isGoogleStep){if(!this.route.isWalking&&e.mode===I.WALK&&0===t&&this.leg.steps.length>1){let a=this.leg.steps[t+1].transit,s=a?a[E].value*T:this.leg.steps[t+1].timetable.realtime?this.leg.steps[t+1].timetable.realtime.departure:this.leg.steps[t+1].timetable.scheduled.departure;this.actualStepTime=new Date(s)-e.duration.value*T;}e.timetable.scheduled.departure=new Date(this.actualStepTime).toISOString(),this.actualStepTime+=e.duration.value*T,e.timetable.scheduled.arrival=new Date(this.actualStepTime).toISOString();}else e=h(e,n);e.mMode=this.routes.mMode;}else this.route.timetable.scheduled.arrival=new Date(e.timetable.scheduled.arrival).toISOString(),this.route.timetable.scheduled.departure||(this.route.timetable.scheduled.departure=new Date(e.timetable.scheduled.departure).toISOString());return e;}function m(e,t){let n=this,i=this.route.isWalking?(new Date).getTime():new Date(e[E].value).getTime();return e.steps.map(f.bind({ routes:this.routes,route:this.route,leg:e,actualStepTime:i })),_.default.keys(e).map(function(t){let i='steps'===t?'leg':t;n.route[i]=e[t];}),e;}function y(e,t){return e.isWalking=d(e),e.timetable=u(),e.legs.map(m.bind({ route:e,routes:this.routes })),e.id=t+1,e;}function g(e){let t=void 0;if(!e.realtimeClassification){let n=e.leg.slice().reverse(),i=n.find(function(e,t){return!e.isGoogleStep&&'1'===e.id;}),a=n.find(function(e){return!e.isGoogleStep;});i&&a&&(e.realtimeClassification=i.realtimeClassification,i.realtimeClassification===M.CANCELLED?e.realtimeClassification=i.realtimeClassification:i.realtimeClassification===M.DELAYED&&(e.realtimeClassification=a.realtimeClassification===M.CANCELLED?a.realtimeClassification:i.realtimeClassification));}switch(e.realtimeClassification){case M.ONTIME:t='ontime';break;case M.DELAYED:t='severeDelay';break;case M.CANCELLED:t='cancelled';break;default:t='ontime';}return t;}Object.defineProperty(t,'__esModule',{ value:!0 });var v=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),w=n(0),_=i(w),b=n(1),C=i(b),S=n(4),k=i(S),T=1e3,M={ ONTIME:'NORMAL',DELAYED:'DELAYED',CANCELLED:'CANCELLED' },x='arrival_time',E='departure_time',L='travel_mode',D='short_name',P='text_color',O='local_icon',R={ BUS:'BUS',CABLE_CAR:'CABLE_CAR',COMMUTER_TRAIN:'COMMUTER_TRAIN',FERRY:'FERRY',FUNICULAR:'FUNICULAR',GONDOLA_LIFT:'GONDOLA_LIFT',HEAVY_RAIL:'HEAVY_RAIL',HIGH_SPEED_TRAIN:'HIGH_SPEED_TRAIN',INTERCITY_BUS:'INTERCITY_BUS',METRO_RAIL:'METRO_RAIL',MONORAIL:'MONORAIL',OTHER:'OTHER',RAIL:'RAIL',SHARE_TAXI:'SHARE_TAXI',SUBWAY:'SUBWAY',TRAM:'TRAM',TROLLEYBUS:'TROLLEYBUS' },I={ WALKING:'WALKING',BUS:'BUS',TRANSIT:'TRANSIT',DRIVING:'DRIVING',BICYCLING:'BICYCLING',UNDERGROUND:'UNDERGROUND',METRO:'METRO',OVERGROUND:'OVERGROUND',FERRY:'FERRY',CABLE_CAR:'CABLE_CAR',TRAIN:'TRAIN',WALK:'WALK' },A=function(){function e(){a(this,e);}return v(e,null,[{ key:'getDelayClassFromRoute',value:function(e,t){let n=s(e),i=n/6e4,a='',r=t.config.delayStyle.minorDelay.time,o=t.config.delayStyle.moderateDelay.time;return a=i>0?i<=r?'minorDelay':i<o?'moderateDelay':'severeDelay':g(e),{ delayClass:a,color:t.config.delayStyle[a].color,delay:i };} },{ key:'getDelayClass',value:function(e,t,n){let i=0,a='',r=t.config.delayStyle,o=r.minorDelay.time,l=r.moderateDelay.time;if(e.cancelled)return{ delayClass:'cancelled',color:r.cancelled.color };if('Delayed'===e.et||'Delayed'===e.eta||'Delayed'===e.etd)return{ delayClass:'severeDelay',color:r.severeDelay.color };if(e.selected)i=n?e.delayTimeArrival/6e4:e.delayTimeDeparture/6e4;else{i=s(e,n)/6e4;}return i>0?a=i<=o?'minorDelay':i<l?'moderateDelay':'severeDelay':(a='ontime','DELAYED'===e.realtimeClassification&&(a='severeDelay'),('CANCELLED'===e.realtimeClassification||e.realtime&&e.realtime.cancelled)&&(a='cancelled')),{ delayClass:a,color:r[a].color,delay:i };} },{ key:'getPrediction',value:function(e,t,n,i){let a=r(n);return _.default.each(e.callingPoints,function(n,s){let r=n.crs||n.properties?n.properties.crs:n.station||n.station;t[r]?n.predictionColor=o(t[r],a):n.predictionColor=a[a.length-1].color,n.selected&&(e.predictionColor=n.predictionColor),n.colorLine=i?n.ata||n.atd||n.at?n.delayColor:n.predictionColor:n.delayColor;}),e;} },{ key:'getHistoricalByRoutes',value:function(e,t,n){let i=this,a=void 0,s=C.default.Deferred(),r=l(n),o=[];return r.forEach(function(n){a=e.replace(t,n),o.push(i.getHistoricalByCrs(a));}),C.default.when.apply(C.default,o).done(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.resolve(c(t));}),s.promise();} },{ key:'getHistoricalByCrs',value:function(e){let t=C.default.Deferred();return C.default.getJSON(e).done(function(e){t.resolve(e);}).fail(function(){t.reject();}),t.promise();} },{ key:'getCallingPointsFromJourney',value:function(e){let t=[];return e.map(function(e){return e.transitStops&&e.transitStops.map(function(e){let n=e.station||e.crs;if(!n&&e.properties&&e.properties.name&&e.properties.name.indexOf('(')>=0){n=e.properties.name.substr(e.properties.name.indexOf('(')+1,3);}return n&&t.indexOf(n)<0&&t.push(n),e;}),e;}),t;} },{ key:'getCoordinatesByCrs',value:function(e,t){let n=C.default.Deferred();return this.getStations(t).then(function(t){let i=_.default.find(t,function(t){return e===t.properties.crs;});i?n.resolve(i.properties.geometry):n.reject();}),n.promise();} },{ key:'getStations',value:function(e){let t=C.default.Deferred();if(e.stations&&e.stations.length>0)t.resolve(e.stations);else{let i=e.config.productLayers.stations.params;C.default.getJSON(i.sourceUrl).then(function(n,a){n=k.default.transformDataToGeoJSON({ features:n },i),e.stations=n.features,e.drawnStations=_.default.filter(e.stations,function(e){return e.properties.display||void 0===e.properties.display;}),t.resolve(e.stations,a);}).fail(function(){let a=n(34);a=k.default.transformDataToGeoJSON({ features:a },i),e.stations=a.features,e.drawnStations=_.default.filter(e.stations,function(e){return e.properties.display||void 0===e.properties.display;}),t.resolve(e.stations,status);});}return t.promise();} },{ key:'toFormatedTimeString',value:function(e,t){let n=t.timeZoneOffset,i=n?n.rawOffset-n.dstOffset:0,a=i/60-(new Date).getTimezoneOffset(),s=new Date(new Date(e).getTime()-6e4*a);return(s.getHours()<10?'0'+s.getHours():s.getHours())+':'+(s.getMinutes()<10?'0'+s.getMinutes():s.getMinutes());} },{ key:'getCallingPoint',value:function(e,t,n){let i=n.crs;return e?t?n.callingPoints[0]:i?this.getCallingPointByCrs(i,n.callingPoints,!0):n.callingPoints[0]:t&&i?this.getCallingPointByCrs(i,n.callingPoints):n.callingPoints[n.callingPoints.length-1];} },{ key:'getCallingPointByCrs',value:function(e,t,n){for(var i=void 0,a=void 0,s=0;s<=t.length-1;s++)t[s].crs!==e||(!n||a)&&n||(i=t[s],a=!0);return i;} },{ key:'parseGoogleRoutes',value:function(e){return e.routesDetails.map(y.bind({ routes:e }));} }]),e;}();t.default=A;},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(3),a=function(e){return e&&e.__esModule?e:{ default:e };}(i),s=a.default.Model.extend({ initialize:function(e){let t=this;e.incidentsModel=this,this.isFiltered=!1,this.listenTo(e.eventBus.bus,'UPDATE_INCIDENTS',function(e){t.isFiltered?t.unfiltered=e:t.set('incidents',e);});} });s.getInstance=function(e){if(!e)throw new Error('No widget instance was recieved by IncidentsModel::getInstance method');return e.incidentsModel||(e.incidentsModel=new s(e)),e.incidentsModel;},t.default=s;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){for(let n=0;n<t.callingPoints.length;n++){(function(e,t){return y.default.extend(t,y.default.find(e,function(e){return t.crs===e.properties.crs||t.station===e.properties.crs;}));})(e,t.callingPoints[n]).geometry||(t.missingCoords=!0);}}function s(e,t,n){let i=void 0,a=void 0,s=void 0;for(i=0;i<e.serviceDetails.callingPoints.length;i++){let r=i;n&&e.serviceDetails.callingPoints[i+1]&&!e.serviceDetails.callingPoints[i].previous&&(r=i+1),a=f.default.getDelayClass(e.serviceDetails.callingPoints[i],t,n),s=f.default.getDelayClass(e.serviceDetails.callingPoints[r],t,n),e.serviceDetails.callingPoints[i].delayClass=a.delayClass,e.serviceDetails.callingPoints[i].delayColor=a.color,e.serviceDetails.callingPoints[i].colorLine=s.color,e.serviceDetails.callingPoints[i].delayMin=a.delay;}}Object.defineProperty(t,'__esModule',{ value:!0 });var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},o=n(3),l=i(o),c=n(1),u=i(c),d=n(4),p=i(d),h=n(11),f=i(h),m=n(0),y=i(m),g=l.default.Model.extend({ initialize:function(e,t,n){let i=this;this.widget=e,this.isFollowed=!!n&&n.isFollowed,this.isFollowed?(this._getServiceData(n.serviceId,n.isArrival),this._retrieveInterval=setInterval(function(){i._getServiceData(n.serviceId,n.isArrival);},3e4)):t||(this.listenTo(this.widget.eventBus.bus,'SERVICE_SELECTED',function(e,t,n){i.reset(),i._getServiceData(e,t.isArrival,function(){i.widget.eventBus.bus.trigger('SERVICE_SELECTED_AFTER_GETSERVICE',e,t,n,i.changed.serviceInfo);}),i._retrieveInterval=setInterval(function(){i._getServiceData(e,t.isArrival);},3e4);}),this.listenTo(this.widget.eventBus.bus,'REMOVE_SERVICE',function(){i.reset();}));},reset:function(e){this.isFollowed&&!e||this._retrieveInterval&&(clearInterval(this._retrieveInterval),this._retrieveInterval=null),this._stopAnimation();},_getServiceData:function(e,t,n){let i=this,a=p.default.stringFormat(this.widget.config.baseApiUrl+this.widget.config.requests.serviceReqUrl,[encodeURIComponent(e)]);u.default.getJSON(a,function(e){i._normalizeServiceData(e,t,null,!1,n||null),i._animateTrain();}).fail(function(e){404===e.status?i.set('serviceInfo','NOT_FOUND'):i.set('serviceInfo','ERROR'),i._retrieveInterval&&(clearInterval(i._retrieveInterval),i._retrieveInterval=null),i._stopAnimation(),i.set('serviceInfo','NOT_FOUND');});},_stopAnimation:function(){clearInterval(this._animationInterval),this._animationInterval=null;},_animateTrain:function(){let e=this;this._animationInterval||(this._animationInterval=setInterval(function(){e._animationStep();},100));},_animationStep:function(){let e=this.get('serviceInfo').callingPoints;if('object'===(void 0===e?'undefined':r(e))){for(var t=void 0,n=(new Date).getTime(),i=!1,a=0;a<=e.length-2;a++){let s=e[a],o=s.arrivalTime,l=s.departureTime,c=e[a+1],u=c.arrivalTime;if(c.cancelled)break;let d=0;if(n>o&&n<l||n===o?(i=!0,t=s.position):n>l&&u>n?(i=!0,d=1-(u-n)/(u-l),s.position||(s.position=new google.maps.LatLng(s.geometry.coordinates[1],s.geometry.coordinates[0])),c.position||(c.position=new google.maps.LatLng(c.geometry.coordinates[1],c.geometry.coordinates[0])),t=google.maps.geometry.spherical.interpolate(s.position,c.position,d),i=!0):n<o&&0===a&&(i=!0,t=s.position),i){this.set('trainProgress',{ progress:d,callingPointIndex:a,previousStation:s,nextStation:c,position:t });break;}}i||this.set('trainProgress',null);}},formatDelaysWithHistoricalData:function(e,t){let n=this,i=new Date((new Date).getTime()-36e5*this.widget.config.predictionDelays.timeWindow);i.setSeconds(0),i.setMilliseconds(0);let a=p.default.stringFormat(this.widget.config.baseApiUrl+this.widget.config.requests.historicalDepartReqUrl,[e.serviceDetails.callingPoints[0].crs,i.toISOString(),this.widget.config.predictionDelays.timeWindow]);f.default.getHistoricalByCrs(a).always(function(i){n._normalizeServiceData(e,t,i);});},_normalizeServiceData:function(e,t,n,i,r){i||(i=!1),e.serviceDetails.callingPoints?s(e,this.widget,t):e.serviceDetails.callingPoints=[{ crs:e.serviceDetails.board },{ crs:e.serviceDetails.alight }],a(this.widget.stations,e.serviceDetails),n&&(e.serviceDetails=f.default.getPrediction(e.serviceDetails,n.delays,this.widget.config.predictionDelays.colorsPrediction,i)),e.serviceDetails.serviceId=e.serviceId,this.set('serviceInfo',e.serviceDetails),r&&r();} });g.getInstance=function(e){if(!e)throw new Error('No widget instance was recieved by ServiceInfoModel::getIntance method');return e.serviceInfoModel||(e.serviceInfoModel=new g(e)),e.serviceInfoModel;},g.NOT_FOUND='NOT_FOUND',g.ERROR='ERROR',g.DELAYED='Delayed',g.ON_TIME='On time',g.NO_REPORT='No report',t.default=g;},function(e,t,n){'use strict';function i(e,t){let n=t&&t.loc,s=void 0,r=void 0;n&&(s=n.start.line,r=n.start.column,e+=' - '+s+':'+r);for(let o=Error.prototype.constructor.call(this,e),l=0;l<a.length;l++)this[a[l]]=o[a[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=s,Object.defineProperty?Object.defineProperty(this,'column',{ value:r,enumerable:!0 }):this.column=r);}catch(e){}}t.__esModule=!0;var a=['description','fileName','lineNumber','message','name','number','stack'];i.prototype=new Error,t.default=i,e.exports=t.default;},function(e,t,n){let i,a,s;/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(7)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.ui.keyCode={ BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38 };});},function(e,t,n){let i,a,s;/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(7)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){let t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){let i,a,s;for(s=0;null!=(a=n[s]);s++)try{i=e._data(a,'events'),i&&i.remove&&e(a).triggerHandler('remove');}catch(e){}t(n);};}(e.cleanData),e.widget=function(t,n,i){let a,s,r,o={},l=t.split('.')[0];t=t.split('.')[1];let c=l+'-'+t;return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[':'][c.toLowerCase()]=function(t){return!!e.data(t,c);},e[l]=e[l]||{},a=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t);},e.extend(s,a,{ version:i.version,_proto:e.extend({},i),_childConstructors:[] }),r=new n,r.options=e.widget.extend({},r.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(o[t]=i);o[t]=function(){function e(){return n.prototype[t].apply(this,arguments);}function a(e){return n.prototype[t].apply(this,e);}return function(){let t,n=this._super,s=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=n,this._superApply=s,t;};}();}),s.prototype=e.widget.extend(r,{ widgetEventPrefix:a?r.widgetEventPrefix||t:t },o,{ constructor:s,namespace:l,widgetName:t,widgetFullName:c }),a?(e.each(a._childConstructors,function(t,n){let i=n.prototype;e.widget(i.namespace+'.'+i.widgetName,s,n._proto);}),delete a._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s;},e.widget.extend=function(t){for(var i,a,s=n.call(arguments,1),r=0,o=s.length;r<o;r++)for(i in s[r])a=s[r][i],s[r].hasOwnProperty(i)&&void 0!==a&&(e.isPlainObject(a)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):t[i]=a);return t;},e.widget.bridge=function(t,i){let a=i.prototype.widgetFullName||t;e.fn[t]=function(s){let r='string'==typeof s,o=n.call(arguments,1),l=this;return r?this.length||'instance'!==s?this.each(function(){let n,i=e.data(this,a);return'instance'===s?(l=i,!1):i?e.isFunction(i[s])&&'_'!==s.charAt(0)?(n=i[s].apply(i,o),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error('no such method \''+s+'\' for '+t+' widget instance'):e.error('cannot call methods on '+t+' prior to initialization; attempted to call method \''+s+'\'');}):l=void 0:(o.length&&(s=e.widget.extend.apply(null,[s].concat(o))),this.each(function(){let t=e.data(this,a);t?(t.option(s||{}),t._init&&t._init()):e.data(this,a,new i(s,this));})),l;};},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={ widgetName:'widget',widgetEventPrefix:'',defaultElement:'<div>',options:{ classes:{},disabled:!1,create:null },_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace='.'+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{ remove:function(e){e.target===i&&this.destroy();} }),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger('create',null,this._getCreateEventData()),this._init();},_getCreateOptions:function(){return{};},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){let t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e);}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr('aria-disabled'),this.bindings.off(this.eventNamespace);},_destroy:e.noop,widget:function(){return this.element;},option:function(t,n){let i,a,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if('string'==typeof t)if(r={},i=t.split('.'),t=i.shift(),i.length){for(a=r[t]=e.widget.extend({},this.options[t]),s=0;s<i.length-1;s++)a[i[s]]=a[i[s]]||{},a=a[i[s]];if(t=i.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n;}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n;}return this._setOptions(r),this;},_setOptions:function(e){let t;for(t in e)this._setOption(t,e[t]);return this;},_setOption:function(e,t){return'classes'===e&&this._setOptionClasses(t),this.options[e]=t,'disabled'===e&&this._setOptionDisabled(t),this;},_setOptionClasses:function(t){let n,i,a;for(n in t)a=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&a&&a.length&&(i=e(a.get()),this._removeClass(a,n),i.addClass(this._classes({ element:i,keys:n,classes:t,add:!0 })));},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+'-disabled',null,!!e),e&&(this._removeClass(this.hoverable,null,'ui-state-hover'),this._removeClass(this.focusable,null,'ui-state-focus'));},enable:function(){return this._setOptions({ disabled:!1 });},disable:function(){return this._setOptions({ disabled:!0 });},_classes:function(t){function n(n,s){let r,o;for(o=0;o<n.length;o++)r=a.classesElementLookup[n[o]]||e(),r=e(t.add?e.unique(r.get().concat(t.element.get())):r.not(t.element).get()),a.classesElementLookup[n[o]]=r,i.push(n[o]),s&&t.classes[n[o]]&&i.push(t.classes[n[o]]);}var i=[],a=this;return t=e.extend({ element:this.element,classes:this.options.classes||{} },t),this._on(t.element,{ remove:'_untrackClassesElement' }),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(' ');},_untrackClassesElement:function(t){let n=this;e.each(n.classesElementLookup,function(i,a){-1!==e.inArray(t.target,a)&&(n.classesElementLookup[i]=e(a.not(t.target).get()));});},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1);},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0);},_toggleClass:function(e,t,n,i){i='boolean'==typeof i?i:n;let a='string'==typeof e||null===e,s={ extra:a?t:n,keys:a?e:t,element:a?this.element:e,add:i };return s.element.toggleClass(this._classes(s),i),this;},_on:function(t,n,i){let a,s=this;'boolean'!=typeof t&&(i=n,n=t,t=!1),i?(n=a=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),e.each(i,function(i,r){function o(){if(t||!0!==s.options.disabled&&!e(this).hasClass('ui-state-disabled'))return('string'==typeof r?s[r]:r).apply(s,arguments);}'string'!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);let l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?a.on(c,u,o):n.on(c,o);});},_off:function(t,n){n=(n||'').split(' ').join(this.eventNamespace+' ')+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get());},_delay:function(e,t){function n(){return('string'==typeof e?i[e]:e).apply(i,arguments);}var i=this;return setTimeout(n,t||0);},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{ mouseenter:function(t){this._addClass(e(t.currentTarget),null,'ui-state-hover');},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,'ui-state-hover');} });},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{ focusin:function(t){this._addClass(e(t.currentTarget),null,'ui-state-focus');},focusout:function(t){this._removeClass(e(t.currentTarget),null,'ui-state-focus');} });},_trigger:function(t,n,i){let a,s,r=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(a in s)a in n||(n[a]=s[a]);return this.element.trigger(n,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented());} },e.each({ show:'fadeIn',hide:'fadeOut' },function(t,n){e.Widget.prototype['_'+t]=function(i,a,s){'string'==typeof a&&(a={ effect:a });let r,o=a?!0===a||'number'==typeof a?n:a.effect||n:t;a=a||{},'number'==typeof a&&(a={ duration:a }),r=!e.isEmptyObject(a),a.complete=s,a.delay&&i.delay(a.delay),r&&e.effects&&e.effects.effect[o]?i[t](a):o!==t&&i[o]?i[o](a.duration,a.easing,s):i.queue(function(n){e(this)[t](),s&&s.call(i[0]),n();});};}),e.widget;});},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(1),r=function(e){return e&&e.__esModule?e:{ default:e };}(s),o=function(){function e(){i(this,e);}return a(e,null,[{ key:'createService',value:function(){return this.service=new google.maps.Geocoder,this.service;} },{ key:'getAddress',value:function(e){let t=r.default.Deferred();return(this.service||this.createService()).geocode({ location:e },function(e,n){t.resolve(e);}),t.promise();} }]),e;}();t.default=o;},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(3),a=function(e){return e&&e.__esModule?e:{ default:e };}(i),s=a.default.Model.extend({ initialize:function(){},toggleHover:function(){this.set('highlighted',!this.get('highlighted'));},onHover:function(){this.set('highlighted',!0);},onLeave:function(){this.set('highlighted',!1);},isHovered:function(){return this.get('highlighted');},toggleSelect:function(){this.set('selected',!this.get('selected'));},onSelect:function(){this.set('selected',!0);},onDeselect:function(){this.set('selected',!1);},isSelected:function(){return this.get('selected');},setStyle:function(e){this.set('style',e);},getStyle:function(){return this.get('style');},setAgency:function(e){this.set('agency',e);},getAgency:function(){return this.get('agency');} });t.default=s;},function(e,t,n){'use strict';let i=n(188);e.exports=Function.prototype.bind||i;},function(e,t,n){e.exports=n(2);},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(0),r=function(e){return e&&e.__esModule?e:{ default:e };}(s),o=function(){function e(t,n){i(this,e),this.conf=r.default.extend({ minLength:1 },t);}return a(e,[{ key:'getPredictions',value:function(e){throw new Error('This method must be implemented');} },{ key:'getIconClass',value:function(e){return!1;} }]),e;}();t.default=o;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(0),s=i(a),r=n(29),o=i(r),l=s.default.extend({},o.default);t.default=l;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}Object.defineProperty(t,'__esModule',{ value:!0 });let o=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),l=n(1),c=i(l),u=n(67),d=i(u),p=n(4),h=i(p),f=function(e){function t(e,n,i,r){a(this,t);let o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.map=e,o.params=n.source.params,o.id=n.source.id,o.api=i,o.eventBus=r,o.validate(),o;}return r(t,e),o(t,[{ key:'validate',value:function(){let e=this.params.apiSearchMethod||'search';if(!this.api[e])throw new Error('APIProvider: Not existing Integration API method name '+e);if(this.searchMethod=this.api[e],'function'!=typeof this.searchMethod)throw new Error('APIProvider: '+e+' exists in Integration API but it\'s not a function');} },{ key:'getQuery',value:function(){return this._query;} },{ key:'setQuery',value:function(e){this._query=e;} },{ key:'load',value:function(){let e=this,t=c.default.Deferred();if(!this._query)return t.reject(),t.promise();let n=this.map.getBounds(),i={ neLat:n.getNorthEast().lat(),neLng:n.getNorthEast().lng(),swLat:n.getSouthWest().lat(),swLng:n.getSouthWest().lng() },a={ bbox:i,query:this._query };return this._deferred=t,this.searchMethod(a).then(function(n,i){n=h.default.transformDataToGeoJSON(e.normalizeResponse(n),e.params),t.resolve(n,i);}),t.promise();} },{ key:'normalizeResponse',value:function(e){return e;} }]),t;}(d.default);t.default=f;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(72),s=i(a),r=n(73),o=i(r),l=n(4),c=i(l);t.default=s.default.extend({ constructor:function(e){e.ModelClass=o.default,e.provider=e.source.provider||'APIProvider',e.featureId=e.source.params.featureId,s.default.prototype.constructor.call(this,e),this.fitBounds=e.source.params.fitBounds||!1,this.hoverZoom=e.source.params.hoverZoom,this._bindEvents(),e.source.params.query&&this.model.setQuery(e.source.params.query);},_bindEvents:function(){let e=this;this.listenTo(this.widget.eventBus.bus,'HIGHLIGHT_MARKER',function(t){e.highlightMarker(t,'hover');}),this.listenTo(this.widget.eventBus.bus,'UNHIGHLIGHT_MARKER',function(t){e.highlightMarker(t,'url');}),this.listenTo(this.widget.eventBus.bus,'LOAD',this._doLoad),this.listenTo(this.widget.eventBus.bus,'SELECT_MARKER',function(t){e.selectMarker(t);}),this.listenTo(this.widget.eventBus.bus,'DELETE_SELECTED_MARKER',function(){e._deleteSelectedMarker();}),this.listenTo(this.widget.eventBus.bus,'CENTER_MARKER',function(t){let n=e._getMarkerFromId(t);e.widget.map.setCenter(n.getPosition());}),this.listenTo(this.widget.eventBus.bus,'CHANGE_ZOOM',function(){e.widget.map.setZoom(e.hoverZoom);}),this.listenTo(this.model,'change:query',function(t,n){e.provider.setQuery(n),e._doSearch();}),this.moreBindEvents();},_doLoad:function(e,t){if(e===this.id){t.clean&&this.remove();let n=this.provider?this.provider.normalizeResponse(t):t,i=this.provider?this.provider.params:this.params,a=c.default.transformDataToGeoJSON(n,i);this._processResultSearch(a),this.fitBounds&&this.widget.eventBus.bus.trigger('FIT_BOUNDS_LAYERS'),this.widget.eventBus.bus.trigger('CHECK_VISIBILITY_LAYERS');}},moreBindEvents:function(){} });},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(3),a=function(e){return e&&e.__esModule?e:{ default:e };}(i),s=a.default.Model.extend({ initialize:function(){this.bindEvents();},bindEvents:function(){let e=this;this.on('change:active',function(t){!1===t.get('active')&&e.set('visibleOnMap',!1);});},toggle:function(){this.set('active',!this.get('active'));},activate:function(){this.set('active',!0);},deactivate:function(){this.set('active',!1);},isActive:function(){return this.get('active');} });t.default=s;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 }),t.EventNames=void 0;let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(0),o=i(r),l=n(3),c=i(l),u=t.EventNames={ FILTER_BY_POLYGON_EXAMPLE_ON:'filter-by-polygon-example-on',FILTER_BY_POLYGON_EXAMPLE_OFF:'filter-by-polygon-example-off',DRAW_POLYGON_ON:'draw-polygon-on',DRAW_POLYGON_OFF:'draw-polygon-off',REMOVE_FILTER_BY_POLYGON:'remove-filter-by-polygon',FILTERS_CHANGED:'filters-changed',SHOW_ERROR_MSG:'show-error-msg',HIDE_ERROR_MSG:'hide-error-msg' },d=function(){function e(){a(this,e);}return s(e,[{ key:'bus',get:function(){return o.default.isObject(this._bus)||(this._bus=o.default.extend({},c.default.Events)),this._bus;} },{ key:'events',get:function(){return u;} }]),e;}();t.default=d;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t,n){t&&'transit'===this.journeyOptions.travelMode?this._showDisclaimerMessage():this._hideDisclaimerMessage(),this._createRoutes(e,this.alternativeRoute,n),this._closeOptionsPanel();}function s(){return{ value:this.components.fromAutocomplete.input.val(),sender:this.components.fromAutocomplete,crs:this.components.fromAutocomplete.$el.attr('data-crs'),placeId:this.components.fromAutocomplete.$el.attr('data-place-id'),marker:this.components.fromMarker.pointOfReference,properties:this.components.fromMarker.properties };}function r(){return{ value:this.components.toAutocomplete.input.val(),sender:this.components.toAutocomplete,crs:this.components.toAutocomplete.$el.attr('data-crs'),placeId:this.components.toAutocomplete.$el.attr('data-place-id'),marker:this.components.toMarker.pointOfReference,properties:this.components.toMarker.properties };}function o(e){let t=f.default.Deferred(),n=(new Date).getTime();return I.default.getTimeZone(e,A,B,n,function(e){t.resolve(e);}),t.promise();}function l(e){return e.routes.transitMode=e.mMode?'googleMode':'rdgMode',e.routes.mMode=this.journeyOptions.travelMode,e.routes.routesDetails=e.allCb?e.allCb(e.routes):e.routes,p.default.isObject(e.alternatives)&&'transit'===e.routes.mMode&&(e.routes.routesDetails=e.routes.routesDetails.reduce(function(t,n){return n.timetable.scheduled.arrival===e.alternatives.timetable.scheduled.arrival&&n.timetable.scheduled.departure===e.alternatives.timetable.scheduled.departure||'CANCELLED'===n.realtimeClassification||t.push(n),t;},[])),e.routes.routesDetails=e.routes.routesDetails.slice(0,e.maxResults),e.routes;}function c(e){return e.routesDetails.map(function(e){return e.isTrain=!0,e;});}function u(e,t,n,i,s,r){if('OK'===n){let o=l.call(this,{ routes:{ routesDetails:e },alternatives:t,maxResults:this.properties.maxResults,mMode:i,allCb:s });a.call(this,o,t,r),r&&r();}else this._failRoute();}Object.defineProperty(t,'__esModule',{ value:!0 });var d=n(0),p=i(d),h=n(1),f=i(h),m=n(29),y=i(m),g=n(5),v=i(g),w=n(96),_=i(w),b=n(28),C=i(b),S=n(4),k=i(S),T=n(74),M=i(T),x=n(18),E=i(x),L=n(122),D=i(L),P=n(11),O=i(P),R=n(63),I=i(R),A=51.509865,B=-.118092;t.default=v.default.extend({ template:n(146),constructor:function(e){let t=this;this.components={},this.lastElementIn={},this.classPrefix=e.classPrefix||'.snw-directions-box-',v.default.prototype.constructor.call(this,e),this.routesCollection=new M.default;let n=!1;o(this.widget).done(function(e){t.widget.timeZoneOffset=e;}).fail(function(){n||(n=!0,o(t.widget));});},initialize:function(e){let t=this;v.default.prototype.initialize.call(this,e);let n=e.properties.components?e.properties.components:this._createDefaultComponents(e.properties);p.default.isObject(n)&&(this._createSubComponents(n),this._createDirectionModel(n),this._activateComponents(e.properties)),this.listenTo(this.eventBus.bus,'FAVOURITE_ROUTE_SELECTED',this._searchFavouriteRoute),this.listenTo(this.eventBus.bus,'AUTOCOMPLETE_RESULT_SELECTED',this._selectResult),this.listenTo(this.eventBus.bus,'RESET_AUTOCOMPLETE',this._emptyAutocomplete),this.listenTo(this.eventBus.bus,'SERVICE_SELECTED',this._resetRoutes),this.listenTo(this.eventBus.bus,'CHANGE_TRAVEL_TIME_MODE',function(e){switch(e.timeMode){case'leaveNow':t.journeyOptions.arrivalTime=null,t.journeyOptions.departureTime=null;break;case'departureTime':t.journeyOptions.arrivalTime=null,t.journeyOptions.departureTime=new Date(e.time).getTime();break;case'arrivalTime':t.journeyOptions.arrivalTime=new Date(e.time).getTime(),t.journeyOptions.departureTime=null;}let n={ origin:s.call(t),destination:r.call(t),arrivalTime:t.journeyOptions.arrivalTime,departureTime:t.journeyOptions.departureTime,alternativeRoute:t.alternativeRoute,travelMode:t.journeyOptions.travelMode,modes:t.journeyOptions.modes,routingPreference:t.journeyOptions.routingPreference,avoid:t.journeyOptions.avoid };t.requestJourney(n);}),this.listenTo(this.eventBus.bus,'CLOSE_ALL_PANELS',function(e){t.components&&t.components.customPanel&&t.components.customPanel.reinitializeAccordion();}),this.journeyOptions=e.properties.journeyOptions,this.journeyOptions.travelMode='transit',this.journeyOptions.modes=['train'],this.listenTo(this.eventBus.bus,'CHANGE_TRAVEL_MODE',function(e){t.journeyOptions.travelMode=e;let n={ origin:s.call(t),destination:r.call(t),arrivalTime:t.journeyOptions.arrivalTime,departureTime:t.journeyOptions.departureTime,alternativeRoute:t.alternativeRoute,travelMode:t.journeyOptions.travelMode,modes:t.journeyOptions.modes,routingPreference:t.journeyOptions.routingPreference,avoid:t.journeyOptions.avoid };t.requestJourney(n);}),this.listenTo(this.eventBus.bus,'CHANGE_ROUTE_PARAMS',function(e){p.default.extend(t.journeyOptions,e);let n={ origin:s.call(t),destination:r.call(t),arrivalTime:t.journeyOptions.arrivalTime,departureTime:t.journeyOptions.departureTime,alternativeRoute:t.alternativeRoute,travelMode:t.journeyOptions.travelMode,modes:t.journeyOptions.modes,routingPreference:t.journeyOptions.routingPreference,avoid:t.journeyOptions.avoid };t.requestJourney(n);}),this.listenTo(this.eventBus.bus,'SEE_ROUTES',function(){t.map.fitBounds(t.bounds);}),google.maps.event.addListener(this.map,'click',function(e){t.$el.find('.snw-parameters-timeselector').hide();}),this.routeStyles=this.widget.config.delayStyle,this._applyStyles();},getOrigin:function(){return s.call(this);},getDestination:function(){return r.call(this);},_applyStyles:function(){p.default.isObject(this.widget.config.customStyle)&&(this.$el.find('.snw-search .snw-search-button').css({ 'background-color':this.widget.config.customStyle.primaryColor,color:this.widget.config.customStyle.secondaryColor }),this.$el.find('.snw-directions-header-list-routes .snw-icon-back').css({ color:this.widget.config.customStyle.primaryColor }));},_collapsePanel:function(){let e=this.$el.find('.snw-panel-collapse'),t=this.$el.find('.snw-directions-box-routes-panel'),n=this.$el.find('.snw-directions-box-options-panel');e.find('i').removeClass('snw-icon-chevron-up').addClass('snw-icon-chevron-down'),t.find('.snw-routes-list').children().length>0&&t.slideUp(),f.default.isEmptyObject(this.journeyOptions)||f.default.isEmptyObject(this.journeyOptions.timeSelector)&&!this.journeyOptions.modeSelector&&!this.journeyOptions.moreOptions||n.slideUp();},_uncollapsePanel:function(){let e=this.$el.find('.snw-panel-collapse'),t=this.$el.find('.snw-directions-box-routes-panel'),n=this.$el.find('.snw-directions-box-options-panel');e.find('i').removeClass('snw-icon-chevron-down').addClass('snw-icon-chevron-up'),t.find('.snw-routes-list').children().length>0&&t.slideDown(),f.default.isEmptyObject(this.journeyOptions)||f.default.isEmptyObject(this.journeyOptions.timeSelector)&&!this.journeyOptions.modeSelector&&!this.journeyOptions.moreOptions||n.slideDown();},events:{ 'click .snw-md-icon-swap':'_swapDirections','click .reset':'_resetRoutes','keyup input':'_resetRoutes','click .snw-directions-header-list-routes .snw-icon-back':'unCollapseListPanel','click .snw-directions-box-back-to-original-route':'_backToOriginalRoute','click .close':'_closeDisclaimerMessage','click :not(.snw-selected-time)':'_closeTimeSelector' },_backToOriginalRoute:function(e){this.widget.eventBus.bus.trigger('BACK_TO_ALTERNATIVE_ROUTE',this.alternativeRoute),this.routesView.filter(function(e){return'ALTERNATIVE'===e.providedRoute.id;})[0].draw();},_resetRoutes:function(e){e&&e.keyCode&&13===e.keyCode||(this._removeRoutes(),this._visibleRouteAlternativeOptions(!1),this.widget.eventBus.bus.trigger('RESTORE_STATIONS'));},_createDirectionModel:function(e){let t=this;this.directions=new _.default,p.default.each(e,function(e){if('Autocomplete'===e.componentConstructorClass){let n=new C.default({ id:e.identifier,classEl:t.classPrefix+e.position });t.directions.add(n,e.focus);let i=t.$el.find(t.classPrefix+e.position);i.focusin(function(){n.isFocused()||t.directions.toggleFocusIn(n);}),i.focusout(function(){if(n.isFocused()){let e='fromAutocomplete'===n.id?s.call(t):r.call(t);null!==t._isCorrect(e)||p.default.isEmpty(e.value)?(0,f.default)(i).find('.search-section').removeClass('error'):(0,f.default)(i).find('.search-section').addClass('error');}}),t._bindCollectionListeners(n);}});},_bindCollectionListeners:function(e){let t=this;this.listenTo(this.directions,'change:focus',function(e){if(e.isFocused()){let n=t.$el.find(e.get('classEl'));t._onFocus(n);}}),e.on('change:empty',function(e){t._setBounds();},e);},_onFocus:function(e){let t=e.find('input');t.trigger('focus'),google.maps.event.addListenerOnce(this.map,'idle',function(){'IE'!==k.default.getBrowser().name&&t.trigger('focus');});},_setBounds:function(){let e=s.call(this),t=r.call(this);if(this._isCorrect(e)&&this._isCorrect(t)){let n=this.map.getZoom(),i=new google.maps.LatLngBounds;this._isCorrect(e)&&(i.extend(e.marker.position),this.map.fitBounds(i),this._isCorrect(t)||this.map.setZoom(n<this.properties.zoomTarget?this.properties.zoomTarget:n)),this._isCorrect(t)&&(i.extend(t.marker.position),this.map.fitBounds(i),this._isCorrect(e)||this.map.setZoom(n<this.properties.zoomTarget?this.properties.zoomTarget:n));}},_selectResult:function(e,t){this.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'fromAutocomplete'===t.identifier?'selectedOrigin':'selectedDestination',text:e.value }),this._changeFocus(t),t.input[0].value=e.value;let n=s.call(this),i=r.call(this);if(n.value&&i.value&&this._isCorrect(n)&&this._isCorrect(i)){if(n.value===i.value)return void this._failRoute();this._clickInSearchRoute();}},_changeFocus:function(e){let t=this.directions.get(e.identifier);t.fill(),this.directions.toggleFocusOut(t);},_emptyAutocomplete:function(e){let t=this.directions.get(e.identifier),n=(0,f.default)('#error-routes');t.empty(),this.eventBus.bus.trigger('DELETE_POINT_REFERENCE',{ sender:e }),n.hide();},_swapDirections:function(e){let t=s.call(this),n=r.call(this),i=(0,f.default)('.error-search-panel');if(this._removeRoutes(),this._visibleRouteAlternativeOptions(!1),!(p.default.isEmpty(t)&&p.default.isEmpty(n)||this._isWrong(t)&&this._isWrong(n))){if(this._isCorrect(t)&&this._isCorrect(n)){let a=t.marker.getPosition();t.marker.setPosition(n.marker.getPosition()),n.marker.setPosition(a),this._swapAutocompleteVal(t,n),t=s.call(this),n=r.call(this);let o={ origin:s.call(this),destination:r.call(this),arrivalTime:this.journeyOptions.arrivalTime,departureTime:this.journeyOptions.departureTime,travelMode:this.journeyOptions.travelMode,modes:this.journeyOptions.modes,routingPreference:this.journeyOptions.routingPreference,avoid:this.journeyOptions.avoid };this.requestJourney(o);}else{let l=this._isCorrect(t)?n:t,c=this._isCorrect(t)?t:n;if(c.marker){let u={ position:c.marker.getPosition(),sender:l.sender,properties:l.properties };this.widget.eventBus.bus.trigger('CREATE_POINT_REFERENCE',u),this.eventBus.bus.trigger('DELETE_POINT_REFERENCE',{ sender:c.sender }),this.directions.get(c.sender.identifier).empty(),this.directions.get(l.sender.identifier).fill();}this._swapAutocompleteVal(t,n);}i.hide(),this.eventBus.bus.trigger('CHANGE_POINT_TO_AUTOCOMPLETE');}},_swapAutocompleteVal:function(e,t){let n=e.value,i=this.components.fromAutocomplete.input.parent().attr('class'),a=this.components.toAutocomplete.input.parent().attr('class');this.components.fromAutocomplete.input.val(t.value),this.components.fromAutocomplete.input.parent().attr('class',a),this.components.fromAutocomplete.$el.removeAttr('data-crs'),this.components.fromAutocomplete.$el.attr('data-crs',t.crs),this.components.fromAutocomplete.$el.removeAttr('data-place-id'),this.components.fromAutocomplete.$el.attr('data-place-id',t.placeId),this.components.fromAutocomplete._checkInputEmpty(),this.components.toAutocomplete.input.val(n),this.components.toAutocomplete.input.parent().attr('class',i),this.components.toAutocomplete.$el.removeAttr('data-crs'),this.components.toAutocomplete.$el.attr('data-crs',e.crs),this.components.toAutocomplete.$el.removeAttr('data-place-id'),this.components.toAutocomplete.$el.attr('data-place-id',e.placeId),this.components.toAutocomplete._checkInputEmpty();},_isWrong:function(e){return'block'===e.sender.input.parent().parent().find('.error-search-panel')[0].style.display&&!p.default.isEmpty(e.value);},_isCorrect:function(e){return e.marker&&null!==e.marker.getMap()&&!p.default.isEmpty(e.value)&&!this._isWrong(e);},_clickInSearchRoute:function(){let e={ origin:s.call(this),destination:r.call(this),arrivalTime:this.journeyOptions.arrivalTime,departureTime:this.journeyOptions.departureTime,travelMode:this.journeyOptions.travelMode,modes:this.journeyOptions.modes,routingPreference:this.journeyOptions.routingPreference,avoid:this.journeyOptions.avoid };this.requestJourney(e);},requestJourney:function(e){let t=this,n=e.origin,i=e.destination,a=e.departTime,o=e.arrivalTime,l=e.alternativeRoute,d=e.travelMode,h=e.modes,m=e.routingPreference,y=e.avoid,g=e.cb,v=n||s.call(this),w=i||r.call(this),_=a||this.journeyOptions.departureTime,b=o||this.journeyOptions.arrivalTime,C=this.widget.config.baseApiUrl+this.widget.config.requests.journeyReqUrl;if(this.alternativeRoute=l||!1,!v.value||!w.value)return void this._missingDataRoute();if(p.default.isObject(this.alternativeRoute)?this._visibleRouteAlternativeOptions(!0):this.alternativeRoute||this._visibleRouteAlternativeOptions(!1),v.crs){let S=p.default.find(this.widget.stations,function(e){return v.crs===e.properties.crs;});v.lat=S.properties.geometry[1],v.lng=S.properties.geometry[0];}if(w.crs){let k=p.default.find(this.widget.stations,function(e){return w.crs===e.properties.crs;});w.lat=k.properties.geometry[1],w.lng=k.properties.geometry[0];}let T={ from:{ placeId:v.placeId,crs:v.crs,lat:v.lat,lng:v.lng },to:{ placeId:w.placeId,crs:w.crs,lat:w.lat,lng:w.lng },departBy:_,arriveBy:b,travelMode:d||this.journeyOptions.travelMode,modes:h||this.journeyOptions.modes,routingPreference:m,avoid:y };this.blockSearchFields({ isWaiting:!0 }),f.default.post(C,T).done(function(e){let n=e.status.toUpperCase(),i=e.isGoogleJourney?O.default.parseGoogleRoutes:c;u.call(t,e.routes,t.alternativeRoute,n,e.isGoogleJourney,i,g),t.widget.eventBus.bus.trigger('FILTER_INCIDENTS',{ arr:O.default.getCallingPointsFromJourney(e.routes),alternatives:e.routes,activeRoute:!0 }),t.blockSearchFields({ isWaiting:!1 });}).fail(function(e){t._failRoute(),t.blockSearchFields({ isWaiting:!1 });}),this.alternativeRoute&&this._showBackOriginalRouteBtn();},blockSearchFields:function(e){let t=e.isWaiting,n=document.querySelectorAll('.ui-autocomplete-input'),i=document.querySelectorAll('.icon-ic_close_black_24px');!0===t?(n.forEach(function(e){e.setAttribute('disabled','disabled');}),i.forEach(function(e){e.classList.remove('reset');})):(n.forEach(function(e){e.removeAttribute('disabled');}),i.forEach(function(e){e.classList.add('reset');}));},_showDisclaimerMessage:function(){this.$el.find('.snw-directions-box-disclaimer-message').show();},_hideDisclaimerMessage:function(){this.$el.find('.snw-directions-box-disclaimer-message').hide();},_showBackOriginalRouteBtn:function(){this.$el.find('.snw-directions-box-back-to-original-route').show();},_hideBackOriginalRouteBtn:function(){this.$el.find('.snw-directions-box-back-to-original-route').hide();},_failRoute:function(){let e=s.call(this),t=r.call(this);this.widget.messageControl.add(k.default.createMessage('error',this.widget.polyglot.t('journeyPlanner.noResults',{ origin:e.value,destination:t.value }),2500,!1)),this._resetRoutes();},_missingDataRoute:function(){this.widget.messageControl.add(k.default.createMessage('error',this.widget.polyglot.t('journeyPlanner.missingData'),2500,!1));},_createDefaultComponents:function(e){let t=p.default.extend({},{ properties:p.default.extend({ placeholderText:this.widget.polyglot.t('autocomplete.origin.placeholder'),autohideMessageControl:2500 },e),order:0,componentConstructorClass:'Autocomplete',position:'autocomplete-from',resultsPanel:this.$el.find('.autocomplete-results'),errorPanel:this.$el.find('.autocomplete-error') }),n=p.default.extend({},{ properties:p.default.extend({ placeholderText:this.widget.polyglot.t('autocomplete.destination.placeholder'),autohideMessageControl:2500 },e),order:0,componentConstructorClass:'Autocomplete',position:'autocomplete-to',resultsPanel:this.$el.find('.autocomplete-results'),errorPanel:this.$el.find('.autocomplete-error') }),i={ componentConstructorClass:'DirectionMarker',type:'from',properties:e.directionsMarkers&&e.directionsMarkers.fromIconMarker?this._createMarkerIconProperties(e.directionsMarkers.fromIconMarker,e.directionsMarkers.iconsPath):{} },a={ componentConstructorClass:'DirectionMarker',type:'to',properties:e.directionsMarkers&&e.directionsMarkers.toIconMarker?this._createMarkerIconProperties(e.directionsMarkers.toIconMarker,e.directionsMarkers.iconsPath):{} };return{ fromAutocomplete:t,toAutocomplete:n,routesPanel:p.default.extend({},{ properties:p.default.extend({ globalPosition:this.position,panel:this.$el },e),order:2,componentConstructorClass:'RoutesPanel',position:'routes-panel',parent:this }),fromMarker:i,toMarker:a,optionsPanel:p.default.extend({},{ properties:e,order:2,componentConstructorClass:'RoutesOptions',position:'options-panel' }),customPanel:p.default.extend({},{ properties:e,order:2,componentConstructorClass:'CustomPanel',position:'custom-panel' }) };},_createMarkerIconProperties:function(e,t){let n=e.iconMarker;if(!n)return null;let i={};return p.default.isString(n)?i={ url:n }:i.url=n.url,i.url=t+'/'+i.url,p.default.isArray(n.anchor)?i.anchor=new google.maps.Point(n.anchor[0],n.anchor[1]):i.anchor=new google.maps.Point(13,13),p.default.extend(e,{ iconMarker:i });},_activateComponents:function(e){let t=this;if(p.default.isObject(e)){if(!p.default.isEmpty(e.defaultActive)){(p.default.isString(e.defaultActive)?[e.defaultActive]:e.defaultActive).forEach(function(e){t.components[e].activate();});}if(p.default.isString(e.defaultSelected)){let n=e.defaultSelected;p.default.isObject(this.components[n])&&this.components[n].select();}}},_createSubComponents:function(e){let t=this,n=p.default.filter(e,function(e,t){return!!e&&(e.identifier=t,!0);}),i=p.default.sortBy(n,'order');p.default.each(i,function(e){if(p.default.isObject(y.default[e.componentConstructorClass])){let n=t.components[e.identifier]=new y.default[e.componentConstructorClass](p.default.extend({},e,{ map:t.map,widget:t.widget,isChild:!0,properties:e.properties||{} }));t.append(n.el,n.position);}});},append:function(e,t){this.$el.find(this.classPrefix+t).append(e);},_changeInputVal:function(e,t){t&&(this.$el.find(e+' input').val(t),this.$el.find(e+' input').blur());},show:function(){this.widget.detailsShown||v.default.prototype.show.call(this);},_showDirectionBox:function(){this.show();},_hideDirectionBox:function(){this.hide();},_createRoutes:function(e,t,n){this._removeRoutes(),this._createRDGRouteLayers(e,t,null,n);},_createRDGRouteLayers:function(e,t,n,i){let a=this,o={ origin:s.call(this),destination:r.call(this) };this.bounds=new google.maps.LatLngBounds,t&&(t.id='ALTERNATIVE',e.routesDetails.push(t)),p.default.each(e.routesDetails,function(e,i){e.routeModel=new E.default,a.routesCollection.add(e.routeModel),e.originalRouteforAlternatives=t;let s=new D.default(e,p.default.extend(o,{ widget:a.widget,routeStyles:a.routeStyles,model:e.routeModel,index:i,historical:n }));'ALTERNATIVE'!==e.id&&s.draw(),a.routesView.push(s),a.bounds.union(s.getBounds()),e.leg=s._getNormalizedLegs();}),this._bindResultsEvents(),this.components.routesPanel.update(e,o),this.components.customPanel&&this.components.customPanel.hide(),this.map.fitBounds(this.bounds),this._hideFromToMarkers(),i&&i();},_removeRoutes:function(){let e=this;this.routesView&&this.routesView.length>0&&(this.components.routesPanel.emptyPanel(),this.components.customPanel&&this.components.customPanel.show(),p.default.each(this.routesView,function(t){t.remove(),e.routesCollection.remove(t.routeModel);}),this.widget.eventBus.bus.trigger('REMOVE_SERVICE_STATIONS'),this._showFromToMarkers()),this.routesView=[];},_hideFromToMarkers:function(){let e=s.call(this),t=r.call(this);e.marker&&e.marker.setMap(null),t.marker&&t.marker.setMap(null);},_showFromToMarkers:function(){let e=s.call(this),t=r.call(this);e.marker&&e.marker.setMap(this.map),t.marker&&t.marker.setMap(this.map);},_bindResultsEvents:function(){let e=this;this.routesCollection.on('change:selected',function(t){t.isSelected()&&e.routesCollection.selectModel(t);});},_closeOptionsPanel:function(){this.components.optionsPanel&&(this.components.optionsPanel.timeMode.timeModePanel.close(),this.components.optionsPanel.transportMode.transportModePanel.close(),this.components.optionsPanel.transportOptions.transportOptionsPanel.close());},_visibleRouteAlternativeOptions:function(e){e&&this.components.optionsPanel?this.components.optionsPanel.showSubComponents():(this._closeOptionsPanel(),this.journeyOptions.travelMode='transit',this.journeyOptions.modes=['train'],this.components.optionsPanel&&(this.components.optionsPanel.resetSubComponents(),this.components.optionsPanel.hideSubComponents()),this._hideDisclaimerMessage(),this._hideBackOriginalRouteBtn());},collapseListPanel:function(){let e=s.call(this),t=r.call(this);this.$el.find('.snw-service-from-value').html(e.value),this.$el.find('.snw-service-to-value').html(t.value),this.$el.find('.snw-directions-box-header, .snw-directions-box-options-panel,\n     .direction-box-fix-map-drag, .snw-directions-box-routes-panel').css({ display:'none' }),(0,f.default)('.snw-journey-container').addClass('snw-directions-box-collapse-see-map'),this.$el.find('.snw-directions-header-list-routes').css({ display:'block' });},unCollapseListPanel:function(){this.$el.find('.snw-directions-box-options-panel,\n     .direction-box-fix-map-drag, .snw-directions-box-routes-panel').css({ display:'block' }),this.$el.find('.snw-directions-box-header').css({ display:'flex' }),(0,f.default)('.snw-journey-container').removeClass('snw-directions-box-collapse-see-map'),this.$el.find('.snw-directions-header-list-routes').css({ display:'none' });},_closeDisclaimerMessage:function(e){(0,f.default)(e.target).closest('.snw-directions-box-disclaimer-message').slideUp(500);},_searchFavouriteRoute:function(e){let t=e.originCrs?e.origin+' ('+e.originCrs+')':e.origin,n=e.destinationCrs?e.destination+' ('+e.destinationCrs+')':e.destination;this.components.fromAutocomplete.input[0].value=t,this.components.toAutocomplete.input[0].value=n,this.components.fromAutocomplete.$el.attr('data-crs',e.originCrs),this.components.toAutocomplete.$el.attr('data-crs',e.destinationCrs),this.components.fromAutocomplete.$el.attr('data-place-id',e.originPlaceId),this.components.toAutocomplete.$el.attr('data-place-id',e.destinationPlaceId);let i={ position:new google.maps.LatLng(e.originCoord),sender:this.components.fromAutocomplete };this.widget.eventBus.bus.trigger('CREATE_POINT_REFERENCE',i);let a={ position:new google.maps.LatLng(e.destinationCoord),sender:this.components.toAutocomplete };this.widget.eventBus.bus.trigger('CREATE_POINT_REFERENCE',a),this.$el.find('.reset').show(),this.$el.find('.icon-ic_search_black_24px').hide(),this._clickInSearchRoute();},_closeTimeSelector:function(e){'snw-md-icon-arrow-down snw-selected-time snw-clickable snw-active'!==e.target.className&&this.$el.find('.snw-parameters-timeselector').hide();},_isGoogleRoute:function(e){let t=!1;return e.map(function(e){return t=e.isGoogleStep?e.isGoogleStep:t,e;}),t;} });},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(3),a=function(e){return e&&e.__esModule?e:{ default:e };}(i),s=a.default.Model.extend({ initialize:function(){this.notFromMyLoc();},toggle:function(){this.set('focus',!this.get('focus'));},onFocus:function(){this.set('focus',!0);},onBlur:function(){this.set('focus',!1);},isFocused:function(){return this.get('focus');},fill:function(){this.set('empty',!1);},empty:function(){this.set('empty',!0);},isEmpty:function(){return this.get('empty');},fromMyLoc:function(){this.set('fromMyLoc',!0);},notFromMyLoc:function(){this.set('fromMyLoc',!1);},isFromMyLoc:function(){return this.get('fromMyLoc');},getClassName:function(){return this.get('classEl');} });t.default=s;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(58),s=i(a),r=n(102),o=i(r),l=n(103),c=i(l),u=n(116),d=i(u),p=n(100),h=i(p),f=n(57),m=i(f),y=n(30),g=i(y),v=n(50),w=i(v),_=n(112),b=i(_),C=n(27),S=i(C),k=n(53),T=i(k),M=n(97),x=i(M),E=n(105),L=i(E),D=n(90),P=i(D),O={ UserActionTracking:s.default,MessageControl:o.default,MyLocation:c.default,StationPanel:d.default,JourneyPanel:h.default,TabButton:m.default,Autocomplete:w.default,RoutesPanel:b.default,DirectionsBox:S.default,DirectionMarker:T.default,RoutesOptions:L.default,StationInfoBoard:g.default,IncidentDetailsPanel:x.default,CustomPanel:P.default };t.default=O;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e){return[{ sectionName:this.widget.polyglot.t('stationInfoBoard.gettingToAndFromTheStation'),innerData:this._structureInterchangeData(e) },{ sectionName:this.widget.polyglot.t('stationInfoBoard.ticketBuyingAndCollection'),innerData:[{ title:this.widget.polyglot.t('stationInfoBoard.ticketOffice'),data:e.Fares.TicketOffice&&e.Fares.TicketOffice['com:Location']?e.Fares.TicketOffice['com:Location']['com:Note']:null }] },{ sectionName:this.widget.polyglot.t('stationInfoBoard.staffingAndGeneralServices'),innerData:[{ title:this.widget.polyglot.t('stationInfoBoard.staffingTimes'),data:e.Accessibility.StaffHelpAvailable&&e.Accessibility.StaffHelpAvailable['com:Annotation']?e.Accessibility.StaffHelpAvailable['com:Annotation']['com:Note']:null },{ title:this.widget.polyglot.t('stationInfoBoard.locationOfReplacementBuses'),data:e.Interchange.RailReplacementServices?e.Interchange.RailReplacementServices['com:Annotation']['com:Note']:null }] },{ sectionName:this.widget.polyglot.t('stationInfoBoard.facilities'),innerData:[{ title:this._formatToiletsTitle(this.widget.polyglot.t('stationInfoBoard.toiletsIncludingAccessibleToilets'),e.StationFacilities.Toilets),data:this._formatToilets(e.StationFacilities.Toilets) }] },{ sectionName:this.widget.polyglot.t('stationInfoBoard.accessibility'),innerData:[{ title:this.widget.polyglot.t('stationInfoBoard.stepFreeAccess'),data:e.Accessibility.StepFreeAccess&&e.Accessibility.StepFreeAccess['com:Annotation']?e.Accessibility.StepFreeAccess['com:Annotation']['com:Note']:null }] }];}Object.defineProperty(t,'__esModule',{ value:!0 });let s=n(101),r=i(s),o=n(5),l=i(o),c=n(1),u=i(c);n(43);let d=n(0),p=i(d),h=n(20),f=i(h);t.default=r.default.extend({ template:n(164),events:{ 'click a':'_redirectLinks' },initialize:function(e){this.$el.removeClass('snw-unselected'),f.default.registerHelper('isArray',function(e){return p.default.isArray(e);});let t=this.properties.data,n=void 0;t.Interchange&&t.Interchange.CarPark&&(t.Interchange.CarPark=Array.isArray(t.Interchange.CarPark)?t.Interchange.CarPark:[t.Interchange.CarPark]),n=a.call(this,t),this._setSectionVisibility(n),this.templateConfig.stationInfo=n,t.StationAlerts&&(this.templateConfig.stationAlert=Array.isArray(t.StationAlerts)?t.StationAlerts.map(function(e){return e.AlertText;}):[t.StationAlerts.AlertText]),this.templateConfig.className='station-info-board',this.templateConfig.customBackgroundColor=this.widget.config.customStyle.tertiaryColor,this.render();},activate:function(){let e=this;l.default.prototype.activate.call(this),(0,u.default)('#station-info-accordion').accordion({ active:!1,collapsible:!0,heightStyle:'content',icons:{ header:'snw-icon-chevron-down',activeHeader:'snw-icon-chevron-up' } }),(0,u.default)('#station-info-accordion h3').last().click(function(){e.$el.animate({ scrollTop:1e3 },300);});},deactivate:function(){l.default.prototype.deactivate.call(this),this.model.unselect();},_formatCarParkInfo:function(e){let t=this,n='<table>\n        <tbody style="width: 405px;">\n          <tr>\n            <th>Day</th>\n            <th>Open</th>\n            <th style="padding-left: 5px">24h</th>\n          </tr>';return(e=e?e['com:DayAndTimeAvailability']:null)?(p.default.isArray(e)||(e=[e]),p.default.each(e,function(e){let i=Object.keys(e['com:DayTypes'])[0].split(':')[1],a=t._styleBoolean(e['com:DayTypes']['com:'+i]);n+='<tr>\n            <td class="day"><span>'+i+'</span></td>\n            <td class="open"><span>'+a+'</span></td>\n            <td class="twentyfour"><span>'+t._styleBoolean(e['com:OpeningHours']['com:TwentyFourHours'])+'</span></td>\n         </tr>';}),n+='</tbody></table>'):e;},_formatCharges:function(e){let t='';t+='<table>\n            <tbody style="width: 405px;">',e.Name&&(t+='<tr>\n            <th>'+e.Name+'</th>\n          </tr>'),t+='<tr>\n            <th>Range</th>\n            <th style="padding-left: 40px">Price</th>\n          </tr>';let n=e.Charges;for(let i in n)n.hasOwnProperty(i)&&(t+='<tr>\n              <td class="range"><span>'+i+'</span></td>\n              <td class=\'price\'>','boolean'==typeof n[i]?t+='<span>'+this._styleBoolean(n[i])+'</span>':t+='<span>'+n[i]+'</span>',t+='</td>\n              </tr>');return t+='</tbody></table>';},_formatToiletsTitle:function(e,t){return e+' <span class="toilets-available">'+this._styleBoolean(t['com:Available'])+'</span>';},_formatToilets:function(e){return'<div class="toilets-location">'+(e['com:Location']?e['com:Location']['com:Note']:'')+'</div>';},_styleBoolean:function(e){return'<i class="snw-md-icon-'+(e?'check':'error')+'"></i>';},_setSectionVisibility:function(e){p.default.each(e,function(e){let t=p.default.find(e.innerData,function(e){return e.data;});e.visible=!!t;});},_structureInterchangeData:function(e){let t=this,n=[];p.default.each(e.Interchange.CarPark,function(e){let i={ title:t.widget.polyglot.t('stationInfoBoard.carParkInfo'),data:e?t._formatCarParkInfo(e['com:Open']):null,class:'snw-card-park-info' };n.push(i),i={ title:t.widget.polyglot.t('stationInfoBoard.numberOfSpaces'),data:e?e.Spaces:null,class:'snw-number-spaces' },n.push(i),i={ title:t.widget.polyglot.t('stationInfoBoard.charge'),data:e?t._formatCharges(e):null,class:'snw-charge' },n.push(i),i={ title:t.widget.polyglot.t('stationInfoBoard.accessibilityInfo'),data:e?e.AccessibleCarParkEquipmentNote:null,class:'snw-accessibility-info' },n.push(i),i={ title:t.widget.polyglot.t('stationInfoBoard.accessibilitySpaces'),data:e?e.NumberAccessibleSpaces:null,class:'snw-accessibility-spaces' },n.push(i);});let i={ title:this.widget.polyglot.t('stationInfoBoard.taxiRank'),data:e.Interchange.TaxiRank&&e.Interchange.TaxiRank['com:Annotation']?e.Interchange.TaxiRank['com:Annotation']['com:Note']:null,class:'snw-taxi-rank' };return n.push(i),i={ title:this.widget.polyglot.t('stationInfoBoard.accessibilitySpaces'),data:e.Accessibility.AccessibleTaxis&&e.Accessibility.AccessibleTaxis['com:Annotation']?e.Accessibility.AccessibleTaxis['com:Annotation']['com:Note']:null,class:'snw-accessibility-spaces' },n.push(i),n;},_redirectLinks:function(e){(0,u.default)(e.currentTarget).prop('target','_blank');} });},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(9),r=function(){function e(){i(this,e);}return a(e,null,[{ key:'createStationLabel',value:function(e,t){let n=e.properties.crs?' ('+e.properties.crs+')':'',i=e.properties.name?e.properties.name+n:n;return new s.RichMarker({ shadow:'none',content:'<div class="marker-label station"><div class="content">'+i+'</div></div>',map:t.map,position:e.position,zIndex:10 });} },{ key:'createDisruptLabel',value:function(e,t){let n=e.properties.stationDistruption?'':'station';return new s.RichMarker({ shadow:'none',content:'<div class="marker-label '+n+'"><div class="content">\n      '+e.properties.name+' ('+e.properties.crs+') '+e.properties.stationDistruption+'</div></div>',map:t.map,position:e.position,zIndex:10 });} }]),e;}();t.default=r;},function(e,t){e.exports={ 'autocomplete.placeholder':'Type here to search','autocomplete.notResultFound':'We haven\'t found any place matching searched criteria! Try adding a city, street or post code.','mylocation.notfound':'We could not determine your precise location. /link/Click here!/link/','mylocation.notinallowedarea':'The location is out of the allowed area','mylocation.help':'Help','loadingWarning.mainMsg':'Still loading','streetview.notAvailable':'Street View not available at this location.','carousel.noImages':'There are not images to display.','mylocation.linkText':'Click here','mylocation.helpMobile':'https://support.google.com/maps/answer/1250066?p=ml_location_help&hl=es&rd=1','mylocation.helpDesktop':'https://support.google.com/maps/answer/2839911?hl=es&visit_id=1-636149094206978280-3844184764&rd=1','placesCard.website':'See website','travelTime.turnOn':'Turn on filter','travelTime.turnOff':'Turn off filter','travelTime.info':'You can drag & drop the pin anywhere on the map. Choose a transport mode and maximum time from the point of reference to filter the properties.','calculateTravelTime.turnOn':'Turn on Calculate time','calculateTravelTime.turnOff':'Turn off Calculate time','calculateTravelTime.placeholder':'Look for a place...','calculateTravelTime.info':'Look for a place to calculate travel time from a property.','calculateTravelTime.placeholderLimitReached':'Delete some POI to search','calculateTravelTime.infoMessage':'You can now click on a property and we will calculate the travel time for you.','calculateTravelTime.poiAddedMessage':'Point of interest succesfully added.','calculateTravelTime.poisLimitMessage':'No more POIs are available. You have reached the maximum number of points.','calculateTravelTime.noRouteMessage':'Sorry, we haven\'t found a route. Try another, please.','calculateTravelTime.errorMessage':'Sorry, an error occurred. Please try again.','calculateTravelTime.noRouteLabel':'No route','calculateTravelTime.hoursLabel':'hours','calculateTravelTime.hourLabel':'hour','drawingTool.enabled':'Click on the map to draw the search area. Close the area with double-click or joining nodes','transitStops.departure':'Departure','transitStops.arrival':'Arrival','transitStops.headsign':'Headsign','transitStops.line':'Line','transitStops.stops':'stops','panelTT.outsideBounds':'Our services arent available in these places.' };},function(e,t){e.exports={ _baseApiUrl:'Don\'t remove or change the below config, it will be used when the widget is delivered and no json.php can be used',baseApiUrl:'https://trainline-api-dot-trainline-ajp-prod.appspot.com',controlsAwareMapCentering:!0,breakpoints:{ maxTablet:'720px' },'ref:imagesPath:imagesPath':'./images/',gmapLoadConfig:{ 'ref:LANGUAGE:language':'en','ref:CLIENT:gmapLoadConfig.CLIENT':!1,'ref:KEY:gmapLoadConfig.KEY':!1,SENSOR:!1,LIBRARIES:['places','geometry'],VERSION:3 },companiesStyle:{ SE:{ 'background-color':'#1E1E50 ',color:'#FFE23A ' },VT:{ 'background-color':'#CC0000 ',color:'#fff' },GR:{ 'background-color':'#CC0000 ',color:'#fff' },SN:{ 'background-color':'#003F2E ',color:'#fff' },GN:{ 'background-color':'#50107D',color:'#fff' },TL:{ 'background-color':'#50107D',color:'#fff' },EM:{ 'background-color':'#0062AD',color:'#fff' } },defaultView:{ 'ref:center:viewCenter':[51.510357,-.125616],'ref:zoom:viewZoom':7,'ref:bounds:viewBounds':{ neLat:58.820058,neLng:1.961835,swLat:49.973202,swLng:-8.123613 },'ref:limitBounds:limitBounds':!0,mapOptions:{ styles:[{ featureType:'transit.station',stylers:[{ visibility:'off' }] }] } },requests:{ journeyReqUrl:'/routes',historicalDepartReqUrl:'/stations/%s/departures/history/%s/%s/',incidentsReqUrl:'/incidents/%s',serviceReqUrl:'/services/%s',nearbyStationsReqUrl:'/stations/nearby/%s/%s?time=%s' },'ref:locale:locale':{ 'ref:preloaded:language':'en' },'ref:customStyle:customStyle':{ 'background-color':'#2FAAE1',color:'#ffffff' },'ref:delayStyle:delayStyle':{ ontime:{ color:'#30B458' },minorDelay:{ time:1,color:'#DA2728' },delayed:{ time:29,color:'#DA2728' },severeDelay:{ color:'#DA2728' },cancelled:{ color:'#DA2728' } },'ref:alternativesRoutesDelayed:alternativesRoutesDelayed':30,'ref:disruptionStyle:disruptionStyle':{ normalDisruption:{ color:'#FFC200' },minorDisruption:{ color:'#FFA500' },majorDisruption:{ color:'#DA2728' },severeDisruption:{ color:'#000000' } },journeyOptions:{ unitSystem:'metric',timeSelector:{ dateLimit:55 },modeSelector:!0,moreOptions:!0 },mapComponents:{ MyLocation:{ componentConstructorClass:'MyLocation',position:'RIGHT_BOTTOM',properties:{ 'ref:iconClassName:myLocation.iconClass':'snw-icon-my-location','ref:zoomTargetMyLoc:location.zoom':14,iconMarker:{ 'ref:url:location.icon':!1,'ref:width:location.width':!1,'ref:height:location.height':!1 } } },userActionTracking:{ componentConstructorClass:'UserActionTracking' },MessageControl:{ componentConstructorClass:'MessageControl',position:'TOP_RIGHT',properties:{} },StationPanel:{ componentConstructorClass:'StationPanel',position:'LEFT_TOP',properties:{ 'ref:customStyle:customStyle':'customStyle','ref:delayStyle:delayStyle':'delayStyle',requests:{ departReqUrl:'/stations/%s/departures',stationReqUrl:'/stations/%s',arrivalReqUrl:'/stations/%s/arrivals' } } },PrimaryMenu:{ componentConstructorClass:'JourneyPanel',position:'LEFT_TOP',visible:!0,properties:{ position:'LEFT_TOP',visible:!0,children:{ DirectionsBox:{ componentConstructorClass:'DirectionsBox',isChild:!0,properties:{ categorized:!0,'ref:zoomTarget:autocomplete.zoomTarget':13,'ref:requestUrlDepartBy:journeyPlanner.url':'/routes/%s/%s/?departBy=%s','ref:requestUrlArriveBy:journeyPlanner.url':'/routes/%s/%s/?arriveBy=%s',providers:{ StationsAutocomplete:{ category:'Stations:','ref:minLength:autocomplete.stationsAutocomplete.minKeystroke':1,'ref:maxResults:autocomplete.stationsAutocomplete.maxResults':5,icon:'snw-railway-icon' },GoogleGeocodingAutocomplete:{ 'ref:show:googlePlaces.show':!0,'ref:order:googlePlaces.order':'5','ref:category:googlePlaces.header':'','ref:icon:googlePlaces.icon':'search','ref:minLength:autocomplete.googlePlacesAutocomplete.minKeystroke':4,'ref:maxResults:autocomplete.googlePlacesAutocomplete.maxResults':5,'ref:defaultLocation:googlePlaces.defaultLocation':[53.304164,-1.581252],'ref:radius:googlePlaces.radius':2e7,serviceOptions:{ componentRestrictions:{ 'ref:country:googlePlaces.countryRestriction':'UK' } } } },'ref:maxResults:journeyPlanner.maxResults':3,'ref:routeStyles':{},directionsMarkers:{ 'ref:iconsPath:mapIcons.iconsPath':'icons1x',fromIconMarker:{ 'ref:iconMarker:fromIconMarker.icon':'icon-start.png','ref:draggable:fromIconMarker.draggable':!1 },toIconMarker:{ 'ref:iconMarker:toIconMarker.icon':'icon-selected.png','ref:draggable:toIconMarker.draggable':!1 },'ref:iconUrl:mapIcons.stationIcon':'icon-cluster-big.png','ref:iconUrlSelected:mapIcons.stationIconSelected':'icon-station-selected.png','ref:transitIcon:mapIcons.transitIcon':'icon-start.png' },'ref:journeyOptions:journeyOptions':'journeyOptions' } },TravelNews:{ isChild:!0,properties:{ 'ref:requestUrl:travelNews.url':'/incidents' } } } } },IncidentDetailsPanel:{ componentConstructorClass:'IncidentDetailsPanel',position:'LEFT_TOP' } },productLayers:{ incidents:{ type:'IncidentsLayer',provider:'APIIncidentsProvider',active:!0,markersSelectable:!0,searchDelay:1,params:{ 'ref:disruptionStyle:disruptionStyle':'disruptionStyle',richmarkerClassDefault:'snw-icon-warning','ref:selectedZoom:selectedIncidentZoom':15,'ref:minZoom:incidentsMinZoom':4,'ref:iconsPath:mapIcons.iconsPath':'icons1x',deselectMarkerClick:!0,sourceUrl:'/incidents/',searchOnce:!0,featureId:'crs',cluster:{ styles:[{ 'ref:url:mapIcons.stationBigClusterIcon.url':'snw-icon-warning','ref:height:mapIcons.stationBigClusterIcon.height':52,'ref:width:mapIcons.stationBigClusterIcon.width':52,textColor:'transparent',shadow:'none' }],maxZoom:12,enableRetinaIcons:!0 } } },nearbyRoute:{ type:'NearbyRouteLayer',params:{ fitBounds:!0,'ref:nearbyTime:nearbyTime':60 } },stations:{ type:'StationsLayer',active:!0,markersSelectable:!0,searchDelay:500,params:{ 'ref:disruptionStyle:disruptionStyle':'disruptionStyle','ref:selectedZoom:selectedStationZoom':17,'ref:minZoom:stationsMinZoom':12,'ref:iconsPath:mapIcons.iconsPath':'icons1x',deselectMarkerClick:!0,sourceUrl:'/stations/',disruptionsUrl:'/stations/messages/',searchOnce:!0,featureId:'crs',geometry:{ lat:'lat',lon:'lon' },'ref:disruptionsMinZoom:disruptionsMinZoom':15,iconMarker:{ 'ref:url:mapIcons.stationIcon':{ url:'icon-cluster-big.png' },'ref:selectedUrl:mapIcons.selectedStationIcon':{ selectedUrl:'icon-station-selected.png' },'ref:hoverUrl:mapIcons.hoverStationIcon':{ url:'icon-station-selected.png' },'ref:anchor:mapIcons.stationIconAnchor':[11,11],defaultSize:{ width:26,height:26 },selectedSize:{ width:26,height:26 } } } },serviceStations:{ type:'ServiceStationLayer',params:{ 'ref:originIcon:mapIcons.originIcon':{ url:'icon-start.png',anchor:[7,7] },'ref:destinationIcon:mapIcons.destinationIcon':{ url:'icon-selected.png',anchor:[17,53] },stationIcon:{ 'ref:url:mapIcons.stationIcon':'icon-station.png','ref:anchor:mapIcons.stationIconAnchor':[11,11] },'ref:transitIcon:mapIcons.transitIcon':{ url:'icon-start.png',anchor:[7,7] },'ref:iconsPath:mapIcons.iconsPath':'icons1x',hoverIcon:{ url:'icon-station-selected.png',anchor:[11,11] } } } } };},function(e,t){e.exports=[{ crs:'AAP',name:'Alexandra Palace',lat:51.5983,lon:-.12014,display:!0 },{ crs:'AAT',name:'Achanalt',lat:57.6098,lon:-4.91422,display:!0 },{ crs:'ABA',name:'Aberdare',lat:51.7151,lon:-3.4431,display:!0 },{ crs:'ABC',name:'Altnabreac',lat:58.3883,lon:-3.70527,display:!0 },{ crs:'ABD',name:'Aberdeen',lat:57.143,lon:-2.09748,display:!0 },{ crs:'ABE',name:'Aber',lat:51.575,lon:-3.22984,display:!0 },{ crs:'ABH',name:'Abererch',lat:52.8986,lon:-4.3742,display:!0 },{ crs:'ABW',name:'Abbey Wood',lat:51.4908,lon:.120326,display:!0 },{ crs:'ABY',name:'Ashburys',lat:53.4714,lon:-2.1943,display:!0 },{ crs:'ACB',name:'Acton Bridge',lat:53.266,lon:-2.60267,display:!0 },{ crs:'ACC',name:'Acton Central',lat:51.5088,lon:-.263617,display:!0 },{ crs:'ACG',name:'Acocks Green',lat:52.4493,lon:-1.81898,display:!0 },{ crs:'ACH',name:'Achnashellach',lat:57.4821,lon:-5.33306,display:!0 },{ crs:'ACK',name:'Acklington',lat:55.3071,lon:-1.65184,display:!0 },{ crs:'ACL',name:'Acle',lat:52.6347,lon:1.54393,display:!0 },{ crs:'ACN',name:'Achnasheen',lat:57.5791,lon:-5.07237,display:!0 },{ crs:'ACR',name:'Accrington',lat:53.7532,lon:-2.37001,display:!0 },{ crs:'ACT',name:'Ascot (Berks)',lat:51.4062,lon:-.675831,display:!0 },{ crs:'ACY',name:'Abercynon',lat:51.6447,lon:-3.327,display:!0 },{ crs:'ADC',name:'Adlington (Cheshire)',lat:53.3196,lon:-2.13356,display:!0 },{ crs:'ADD',name:'Adderley Park',lat:52.4831,lon:-1.85594,display:!0 },{ crs:'ADK',name:'Ardwick',lat:53.4714,lon:-2.21388,display:!0 },{ crs:'ADL',name:'Adlington (Lancashire)',lat:53.6129,lon:-2.60306,display:!0 },{ crs:'ADM',name:'Adisham',lat:51.2412,lon:1.1991,display:!0 },{ crs:'ADN',name:'Ardrossan Town',lat:55.6397,lon:-4.81267,display:!0 },{ crs:'ADR',name:'Airdrie',lat:55.864,lon:-3.9829,display:!0 },{ crs:'ADS',name:'Ardrossan Harbour',lat:55.6399,lon:-4.82111,display:!0 },{ crs:'ADV',name:'Andover',lat:51.2115,lon:-1.49224,display:!0 },{ crs:'ADW',name:'Addiewell',lat:55.8434,lon:-3.60652,display:!0 },{ crs:'AFK',name:'Ashford International',lat:51.1437,lon:.876214,display:!0 },{ crs:'AFS',name:'Ashford (Surrey)',lat:51.4365,lon:-.468062,display:!0 },{ crs:'AFV',name:'Ansdell & Fairhaven',lat:53.7416,lon:-2.99306,display:!0 },{ crs:'AGL',name:'Abergele & Pensarn',lat:53.2946,lon:-3.58263,display:!0 },{ crs:'AGR',name:'Angel Road',lat:51.6124,lon:-.0487842,display:!0 },{ crs:'AGS',name:'Argyle Street',lat:55.8573,lon:-4.25067,display:!0 },{ crs:'AGT',name:'Aldrington',lat:50.8364,lon:-.18121,display:!0 },{ crs:'AGV',name:'Abergavenny',lat:51.8167,lon:-3.00966,display:!0 },{ crs:'AHD',name:'Ashtead',lat:51.3179,lon:-.308147,display:!0 },{ crs:'AHN',name:'Ashton-under-Lyne',lat:53.4913,lon:-2.0934,display:!0 },{ crs:'AHS',name:'Ashurst (Kent)',lat:51.1287,lon:.152662,display:!0 },{ crs:'AHT',name:'Aldershot',lat:51.2464,lon:-.75986,display:!0 },{ crs:'AHV',name:'Ash Vale',lat:51.2722,lon:-.721648,display:!0 },{ crs:'AIG',name:'Aigburth',lat:53.3646,lon:-2.92716,display:!0 },{ crs:'AIN',name:'Aintree',lat:53.474,lon:-2.95666,display:!0 },{ crs:'AIR',name:'Airbles',lat:55.7828,lon:-3.99418,display:!0 },{ crs:'ALB',name:'Albrighton',lat:52.638,lon:-2.26891,display:!0 },{ crs:'ALD',name:'Alderley Edge',lat:53.3038,lon:-2.2368,display:!0 },{ crs:'ALF',name:'Alfreton',lat:53.1005,lon:-1.36969,display:!0 },{ crs:'ALK',name:'Aslockton',lat:52.9514,lon:-.898543,display:!0 },{ crs:'ALM',name:'Alnmouth',lat:55.3924,lon:-1.63688,display:!0 },{ crs:'ALN',name:'Althorne (Essex)',lat:51.6479,lon:.752499,display:!0 },{ crs:'ALO',name:'Alloa',lat:56.1178,lon:-3.79005,display:!0 },{ crs:'ALP',name:'Althorpe',lat:53.5853,lon:-.732586,display:!0 },{ crs:'ALR',name:'Alresford (Essex)',lat:51.854,lon:.996705,display:!0 },{ crs:'ALT',name:'Altrincham',lat:53.3875,lon:-2.34728,display:!0 },{ crs:'ALV',name:'Alvechurch',lat:52.3461,lon:-1.96766,display:!0 },{ crs:'ALW',name:'Allens West',lat:54.5241,lon:-1.36343,display:!0 },{ crs:'ALX',name:'Alexandria',lat:55.9851,lon:-4.57747,display:!0 },{ crs:'AMB',name:'Ambergate',lat:53.0605,lon:-1.48069,display:!0 },{ crs:'AMF',name:'Ammanford',lat:51.796,lon:-3.99677,display:!0 },{ crs:'AML',name:'Acton Main Line',lat:51.5169,lon:-.26763,display:!0 },{ crs:'AMR',name:'Amersham',lat:51.6742,lon:-.60759,display:!0 },{ crs:'AMT',name:'Aldermaston',lat:51.402,lon:-1.13877,display:!0 },{ crs:'AMY',name:'Amberley',lat:50.8967,lon:-.541989,display:!0 },{ crs:'ANC',name:'Ancaster',lat:52.9879,lon:-.535615,display:!0 },{ crs:'AND',name:'Anderston',lat:55.8599,lon:-4.27193,display:!0 },{ crs:'ANF',name:'Ashurst New Forest',lat:50.8898,lon:-1.52664,display:!0 },{ crs:'ANG',name:'Angmering',lat:50.8166,lon:-.489389,display:!0 },{ crs:'ANL',name:'Anniesland',lat:55.8895,lon:-4.32164,display:!0 },{ crs:'ANN',name:'Annan',lat:54.9838,lon:-3.26258,display:!0 },{ crs:'ANS',name:'Ainsdale',lat:53.6018,lon:-3.04267,display:!0 },{ crs:'ANZ',name:'Anerley',lat:51.4131,lon:-.0659143,display:!0 },{ crs:'AON',name:'Alton',lat:51.152,lon:-.96692,display:!0 },{ crs:'APB',name:'Appley Bridge',lat:53.5787,lon:-2.71924,display:!0 },{ crs:'APD',name:'Appledore (Kent)',lat:51.0332,lon:.816356,display:!0 },{ crs:'APF',name:'Appleford',lat:51.6396,lon:-1.24214,display:!0 },{ crs:'APG',name:'Aspley Guise',lat:52.0212,lon:-.632327,display:!0 },{ crs:'APP',name:'Appleby',lat:54.5804,lon:-2.48669,display:!0 },{ crs:'APS',name:'Apsley',lat:51.7325,lon:-.462924,display:!0 },{ crs:'APY',name:'Apperley Bridge',lat:53.8414,lon:-1.70307,display:!0 },{ crs:'ARB',name:'Arbroath',lat:56.5596,lon:-2.58894,display:!0 },{ crs:'ARD',name:'Ardgay',lat:57.881,lon:-4.36258,display:!0 },{ crs:'ARG',name:'Arisaig',lat:56.9125,lon:-5.83907,display:!0 },{ crs:'ARL',name:'Arlesey',lat:52.026,lon:-.26632,display:!0 },{ crs:'ARM',name:'Armadale (West Lothian)',lat:55.8864,lon:-3.68505,display:!0 },{ crs:'ARN',name:'Arnside',lat:54.2021,lon:-2.82777,display:!0 },{ crs:'ARR',name:'Arram',lat:53.8846,lon:-.426857,display:!0 },{ crs:'ART',name:'Arrochar & Tarbet',lat:56.204,lon:-4.72276,display:!0 },{ crs:'ARU',name:'Arundel',lat:50.8482,lon:-.546171,display:!0 },{ crs:'ASB',name:'Ardrossan South Beach',lat:55.6414,lon:-4.80121,display:!0 },{ crs:'ASC',name:'Ashchurch for Tewkesbury',lat:51.9992,lon:-2.10906,display:!0 },{ crs:'ASF',name:'Ashfield',lat:55.8889,lon:-4.24921,display:!0 },{ crs:'ASG',name:'Alsager',lat:53.0928,lon:-2.29861,display:!0 },{ crs:'ASH',name:'Ash',lat:51.2496,lon:-.712805,display:!0 },{ crs:'ASI',name:'Ashford International (Eurostar)',lat:51.1409,lon:.875,display:!1 },{ crs:'ASK',name:'Askam',lat:54.189,lon:-3.20452,display:!0 },{ crs:'ASN',name:'Addlestone',lat:51.373,lon:-.484449,display:!0 },{ crs:'ASP',name:'Aspatria',lat:54.7593,lon:-3.33174,display:!0 },{ crs:'ASS',name:'Alness',lat:57.6944,lon:-4.24973,display:!0 },{ crs:'AST',name:'Aston',lat:52.5051,lon:-1.87178,display:!0 },{ crs:'ASY',name:'Ashley',lat:53.356,lon:-2.34102,display:!0 },{ crs:'ATB',name:'Attenborough',lat:52.9064,lon:-1.23127,display:!0 },{ crs:'ATH',name:'Atherstone',lat:52.579,lon:-1.55281,display:!0 },{ crs:'ATL',name:'Attleborough',lat:52.5143,lon:1.02268,display:!0 },{ crs:'ATN',name:'Atherton',lat:53.529,lon:-2.47818,display:!0 },{ crs:'ATT',name:'Attadale',lat:57.3948,lon:-5.45648,display:!0 },{ crs:'AUD',name:'Audley End',lat:52.0045,lon:.207162,display:!0 },{ crs:'AUG',name:'Aughton Park',lat:53.5545,lon:-2.89508,display:!0 },{ crs:'AUI',name:'Ardlui',lat:56.3019,lon:-4.72164,display:!0 },{ crs:'AUK',name:'Auchinleck',lat:55.4703,lon:-4.29535,display:!0 },{ crs:'AUR',name:'Aberdour',lat:56.0546,lon:-3.30056,display:!0 },{ crs:'AUW',name:'Ascott-under-Wychwood',lat:51.8673,lon:-1.56406,display:!0 },{ crs:'AVF',name:'Avoncliff',lat:51.3396,lon:-2.28134,display:!0 },{ crs:'AVM',name:'Aviemore',lat:57.1891,lon:-3.82833,display:!0 },{ crs:'AVN',name:'Avonmouth',lat:51.5001,lon:-2.69842,display:!0 },{ crs:'AVP',name:'Aylesbury Vale Parkway',lat:51.8308,lon:-.860787,display:!0 },{ crs:'AVY',name:'Aberdovey',lat:52.544,lon:-4.05708,display:!0 },{ crs:'AWK',name:'Adwick',lat:53.573,lon:-1.18148,display:!0 },{ crs:'AWM',name:'Ashwell & Morden',lat:52.0308,lon:-.10978,display:!0 },{ crs:'AWT',name:'Armathwaite',lat:54.8091,lon:-2.77168,display:!0 },{ crs:'AXM',name:'Axminster',lat:50.7786,lon:-3.00523,display:!0 },{ crs:'AXP',name:'Alexandra Parade',lat:55.8637,lon:-4.21142,display:!0 },{ crs:'AYH',name:'Aylesham',lat:51.2273,lon:1.20946,display:!0 },{ crs:'AYL',name:'Aylesford',lat:51.3013,lon:.466176,display:!0 },{ crs:'AYP',name:'Albany Park',lat:51.4358,lon:.126412,display:!0 },{ crs:'AYR',name:'Ayr',lat:55.4582,lon:-4.62682,display:!0 },{ crs:'AYS',name:'Aylesbury',lat:51.8139,lon:-.815095,display:!0 },{ crs:'AYW',name:'Aberystwyth',lat:52.4141,lon:-4.08191,display:!0 },{ crs:'BAA',name:'Barnham',lat:50.8309,lon:-.63968,display:!0 },{ crs:'BAB',name:'Balcombe',lat:51.0555,lon:-.136932,display:!0 },{ crs:'BAC',name:'Bache',lat:53.2093,lon:-2.89236,display:!0 },{ crs:'BAD',name:'Banstead',lat:51.3293,lon:-.213158,display:!0 },{ crs:'BAG',name:'Bagshot',lat:51.3644,lon:-.68866,display:!0 },{ crs:'BAH',name:'Bank Hall',lat:53.4378,lon:-2.98746,display:!0 },{ crs:'BAI',name:'Blairhill',lat:55.8666,lon:-4.04217,display:!0 },{ crs:'BAJ',name:'Baglan',lat:51.6155,lon:-3.81116,display:!0 },{ crs:'BAK',name:'Battersea Park',lat:51.4773,lon:-.148163,display:!0 },{ crs:'BAL',name:'Balham',lat:51.4432,lon:-.152421,display:!0 },{ crs:'BAM',name:'Bamford',lat:53.339,lon:-1.68908,display:!0 },{ crs:'BAN',name:'Banbury',lat:52.0603,lon:-1.32813,display:!0 },{ crs:'BAR',name:'Bare Lane',lat:54.0753,lon:-2.83594,display:!0 },{ crs:'BAS',name:'Bere Alston',lat:50.4856,lon:-4.2004,display:!0 },{ crs:'BAT',name:'Battle',lat:50.9129,lon:.494707,display:!0 },{ crs:'BAU',name:'Barton-on-Humber',lat:53.6888,lon:-.443251,display:!0 },{ crs:'BAV',name:'Barrow Haven',lat:53.6971,lon:-.391443,display:!0 },{ crs:'BAW',name:'Blackwater',lat:51.3318,lon:-.777023,display:!0 },{ crs:'BAY',name:'Bayford',lat:51.7577,lon:-.0956,display:!0 },{ crs:'BBG',name:'Bishopbriggs',lat:55.9039,lon:-4.22491,display:!0 },{ crs:'BBK',name:'Bilbrook',lat:52.6237,lon:-2.18609,display:!0 },{ crs:'BBL',name:'Bat & Ball',lat:51.2898,lon:.19424,display:!0 },{ crs:'BBN',name:'Blackburn',lat:53.7465,lon:-2.47913,display:!0 },{ crs:'BBS',name:'Bordesley',lat:52.4719,lon:-1.87776,display:!0 },{ crs:'BBW',name:'Berry Brow',lat:53.6211,lon:-1.79343,display:!0 },{ crs:'BCB',name:'Burscough Bridge',lat:53.6052,lon:-2.84174,display:!0 },{ crs:'BCC',name:'Beccles',lat:52.4585,lon:1.56951,display:!0 },{ crs:'BCE',name:'Bracknell',lat:51.4131,lon:-.751703,display:!0 },{ crs:'BCF',name:'Beaconsfield',lat:51.6113,lon:-.643818,display:!0 },{ crs:'BCG',name:'Birchgrove',lat:51.5217,lon:-3.20347,display:!0 },{ crs:'BCH',name:'Birchington-on-sea',lat:51.3775,lon:1.30142,display:!0 },{ crs:'BCJ',name:'Burscough Junction',lat:53.598,lon:-2.84009,display:!0 },{ crs:'BCK',name:'Buckley',lat:53.163,lon:-3.05594,display:!0 },{ crs:'BCN',name:'Branchton',lat:55.9406,lon:-4.80354,display:!0 },{ crs:'BCS',name:'Bicester North',lat:51.9035,lon:-1.15038,display:!0 },{ crs:'BCU',name:'Brockenhurst',lat:50.8168,lon:-1.57354,display:!0 },{ crs:'BCV',name:'Bruce Grove',lat:51.593,lon:-.0698303,display:!0 },{ crs:'BCY',name:'Brockley',lat:51.4647,lon:-.0378139,display:!0 },{ crs:'BDA',name:'Brundall',lat:52.6198,lon:1.43928,display:!0 },{ crs:'BDB',name:'Broadbottom',lat:53.441,lon:-2.01652,display:!0 },{ crs:'BDG',name:'Bridgeton',lat:55.8489,lon:-4.22608,display:!0 },{ crs:'BDH',name:'Bedhampton',lat:50.8539,lon:-.995824,display:!0 },{ crs:'BDI',name:'Bradford Interchange',lat:53.7911,lon:-1.7496,display:!0 },{ crs:'BDK',name:'Baldock',lat:51.9929,lon:-.18756,display:!0 },{ crs:'BDL',name:'Birkdale',lat:53.6335,lon:-3.01472,display:!0 },{ crs:'BDM',name:'Bedford',lat:52.1362,lon:-.47944,display:!0 },{ crs:'BDN',name:'Brading',lat:50.6784,lon:-1.13872,display:!0 },{ crs:'BDQ',name:'Bradford Forster Square',lat:53.7969,lon:-1.75296,display:!0 },{ crs:'BDT',name:'Bridlington',lat:54.0841,lon:-.198719,display:!0 },{ crs:'BDW',name:'Bedwyn',lat:51.3796,lon:-1.5988,display:!0 },{ crs:'BDY',name:'Bredbury',lat:53.423,lon:-2.10981,display:!0 },{ crs:'BEA',name:'Bridge of Allan',lat:56.1566,lon:-3.95723,display:!0 },{ crs:'BEB',name:'Bebington',lat:53.3577,lon:-3.00364,display:!0 },{ crs:'BEC',name:'Beckenham Hill',lat:51.4248,lon:-.0165094,display:!0 },{ crs:'BEE',name:'Beeston',lat:52.9208,lon:-1.20766,display:!0 },{ crs:'BEF',name:'Benfleet',lat:51.5439,lon:.561723,display:!0 },{ crs:'BEG',name:'Beltring',lat:51.2047,lon:.403499,display:!0 },{ crs:'BEH',name:'Bedworth',lat:52.4793,lon:-1.46739,display:!0 },{ crs:'BEL',name:'Beauly',lat:57.4782,lon:-4.46995,display:!0 },{ crs:'BEM',name:'Bempton',lat:54.1283,lon:-.180428,display:!0 },{ crs:'BEN',name:'Bentham',lat:54.1158,lon:-2.51091,display:!0 },{ crs:'BEP',name:'Bermuda Park',lat:52.5045,lon:-1.47388,display:!0 },{ crs:'BER',name:'Bearley',lat:52.2444,lon:-1.75026,display:!0 },{ crs:'BES',name:'Bescar Lane',lat:53.6236,lon:-2.91468,display:!0 },{ crs:'BET',name:'Bethnal Green',lat:51.5245,lon:-.0597548,display:!0 },{ crs:'BEU',name:'Beaulieu Road',lat:50.855,lon:-1.50476,display:!0 },{ crs:'BEV',name:'Beverley',lat:53.8423,lon:-.423883,display:!0 },{ crs:'BEX',name:'Bexhill',lat:50.841,lon:.477034,display:!0 },{ crs:'BEY',name:'Ben Rhydding',lat:53.9262,lon:-1.79743,display:!0 },{ crs:'BFD',name:'Brentford',lat:51.4879,lon:-.309064,display:!0 },{ crs:'BFE',name:'Bere Ferrers',lat:50.4509,lon:-4.18188,display:!0 },{ crs:'BFF',name:'Blaenau Ffestiniog',lat:52.9946,lon:-3.9386,display:!0 },{ crs:'BFN',name:'Byfleet & New Haw',lat:51.3498,lon:-.481382,display:!0 },{ crs:'BFR',name:'London Blackfriars',lat:51.5118,lon:-.10333,display:!0 },{ crs:'BGA',name:'Brundall Gardens',lat:52.6231,lon:1.41884,display:!0 },{ crs:'BGD',name:'Bargoed',lat:51.6923,lon:-3.22969,display:!0 },{ crs:'BGE',name:'Broad Green',lat:53.4062,lon:-2.89347,display:!0 },{ crs:'BGG',name:'Brigg',lat:53.5492,lon:-.486119,display:!0 },{ crs:'BGH',name:'Brighouse',lat:53.6982,lon:-1.77944,display:!0 },{ crs:'BGI',name:'Bargeddie',lat:55.8517,lon:-4.07174,display:!0 },{ crs:'BGL',name:'Bugle',lat:50.3999,lon:-4.79184,display:!0 },{ crs:'BGM',name:'Bellingham',lat:51.4339,lon:-.0204332,display:!0 },{ crs:'BGN',name:'Bridgend',lat:51.507,lon:-3.5753,display:!0 },{ crs:'BGS',name:'Bogston',lat:55.937,lon:-4.71139,display:!0 },{ crs:'BHC',name:'Balloch',lat:56.0029,lon:-4.58347,display:!0 },{ crs:'BHD',name:'Brithdir',lat:51.7103,lon:-3.22873,display:!0 },{ crs:'BHG',name:'Bathgate',lat:55.8991,lon:-3.64097,display:!0 },{ crs:'BHI',name:'Birmingham International',lat:52.4508,lon:-1.72586,display:!0 },{ crs:'BHK',name:'Bush Hill Park',lat:51.6415,lon:-.0692143,display:!0 },{ crs:'BHM',name:'Birmingham New Street',lat:52.4782,lon:-1.89836,display:!0 },{ crs:'BHO',name:'Blackhorse Road',lat:51.5862,lon:-.0412458,display:!0 },{ crs:'BHR',name:'Builth Road',lat:52.1693,lon:-3.42705,display:!0 },{ crs:'BHS',name:'Brockholes',lat:53.5972,lon:-1.7703,display:!0 },{ crs:'BIA',name:'Bishop Auckland',lat:54.6575,lon:-1.67757,display:!0 },{ crs:'BIC',name:'Billericay',lat:51.6289,lon:.418636,display:!0 },{ crs:'BID',name:'Bidston',lat:53.4091,lon:-3.07857,display:!0 },{ crs:'BIF',name:'Barrow-in-Furness',lat:54.119,lon:-3.22613,display:!0 },{ crs:'BIG',name:'Billingshurst',lat:51.0152,lon:-.450296,display:!0 },{ crs:'BIK',name:'Birkbeck',lat:51.4039,lon:-.0562359,display:!0 },{ crs:'BIL',name:'Billingham',lat:54.6063,lon:-1.27854,display:!0 },{ crs:'BIN',name:'Bingham',lat:52.9546,lon:-.952052,display:!0 },{ crs:'BIO',name:'Baillieston',lat:55.8447,lon:-4.1145,display:!0 },{ crs:'BIP',name:'Bishopstone (Sussex)',lat:50.7801,lon:.082763,display:!0 },{ crs:'BIS',name:'Bishops Stortford',lat:51.8667,lon:.164909,display:!0 },{ crs:'BIT',name:'Bicester Village',lat:51.8935,lon:-1.14807,display:!0 },{ crs:'BIW',name:'Biggleswade',lat:52.0847,lon:-.26118,display:!0 },{ crs:'BIY',name:'Bingley',lat:53.8484,lon:-1.83694,display:!0 },{ crs:'BKA',name:'Bookham',lat:51.2887,lon:-.384011,display:!0 },{ crs:'BKC',name:'Birkenhead Central',lat:53.389,lon:-3.01942,display:!0 },{ crs:'BKD',name:'Blakedown',lat:52.4062,lon:-2.17636,display:!0 },{ crs:'BKG',name:'Barking',lat:51.54,lon:.0807934,display:!0 },{ crs:'BKH',name:'Blackheath',lat:51.4658,lon:.00830238,display:!0 },{ crs:'BKJ',name:'Beckenham Junction',lat:51.4115,lon:-.027152,display:!0 },{ crs:'BKL',name:'Bickley',lat:51.4004,lon:.0442555,display:!0 },{ crs:'BKM',name:'Berkhamsted',lat:51.7631,lon:-.562005,display:!0 },{ crs:'BKN',name:'Birkenhead North',lat:53.4048,lon:-3.0574,display:!0 },{ crs:'BKO',name:'Brookwood',lat:51.3038,lon:-.635745,display:!0 },{ crs:'BKP',name:'Birkenhead Park',lat:53.3978,lon:-3.03918,display:!0 },{ crs:'BKQ',name:'Birkenhead Hamilton Square',lat:53.3947,lon:-3.01369,display:!0 },{ crs:'BKR',name:'Blackridge',lat:55.8837,lon:-3.75048,display:!0 },{ crs:'BKS',name:'Bekesbourne',lat:51.2614,lon:1.13672,display:!0 },{ crs:'BKT',name:'Blake Street',lat:52.6049,lon:-1.84491,display:!0 },{ crs:'BKW',name:'Berkswell',lat:52.3959,lon:-1.64284,display:!0 },{ crs:'BLA',name:'Blair Atholl',lat:56.7655,lon:-3.85022,display:!0 },{ crs:'BLB',name:'Battlesbridge',lat:51.6249,lon:.565803,display:!0 },{ crs:'BLD',name:'Baildon',lat:53.8497,lon:-1.75371,display:!0 },{ crs:'BLE',name:'Bramley (West Yorkshire)',lat:53.806,lon:-1.63811,display:!0 },{ crs:'BLG',name:'Bellgrove',lat:55.8571,lon:-4.22543,display:!0 },{ crs:'BLH',name:'Bellshill',lat:55.8166,lon:-4.02518,display:!0 },{ crs:'BLK',name:'Blackrod',lat:53.5915,lon:-2.56953,display:!0 },{ crs:'BLL',name:'Bardon Mill',lat:54.9745,lon:-2.3465,display:!0 },{ crs:'BLM',name:'Belmont',lat:51.3441,lon:-.199487,display:!0 },{ crs:'BLN',name:'Blundellsands & Crosby',lat:53.4877,lon:-3.03987,display:!0 },{ crs:'BLO',name:'Blaydon',lat:54.9658,lon:-1.71259,display:!0 },{ crs:'BLP',name:'Belper',lat:53.0246,lon:-1.48262,display:!0 },{ crs:'BLT',name:'Blantyre',lat:55.7976,lon:-4.08641,display:!0 },{ crs:'BLV',name:'Belle Vue',lat:53.4622,lon:-2.1804,display:!0 },{ crs:'BLW',name:'Bulwell',lat:52.9997,lon:-1.19623,display:!0 },{ crs:'BLX',name:'Bloxwich',lat:52.6182,lon:-2.01148,display:!0 },{ crs:'BLY',name:'Bletchley',lat:51.9953,lon:-.736316,display:!0 },{ crs:'BMB',name:'Bamber Bridge',lat:53.7268,lon:-2.66077,display:!0 },{ crs:'BMC',name:'Bromley Cross (Lancs)',lat:53.6138,lon:-2.4096,display:!0 },{ crs:'BMD',name:'Brimsdown',lat:51.6553,lon:-.0310397,display:!0 },{ crs:'BME',name:'Broome',lat:52.4228,lon:-2.88522,display:!0 },{ crs:'BMF',name:'Broomfleet',lat:53.7402,lon:-.673346,display:!0 },{ crs:'BMG',name:'Barming',lat:51.2849,lon:.478964,display:!0 },{ crs:'BMH',name:'Bournemouth',lat:50.7275,lon:-1.86394,display:!0 },{ crs:'BML',name:'Bramhall',lat:53.36,lon:-2.16224,display:!0 },{ crs:'BMN',name:'Bromley North',lat:51.409,lon:.0173155,display:!0 },{ crs:'BMO',name:'Birmingham Moor Street',lat:52.4791,lon:-1.89247,display:!0 },{ crs:'BMP',name:'Brampton (Cumbria)',lat:54.9326,lon:-2.70381,display:!0 },{ crs:'BMR',name:'Bromborough Rake',lat:53.3299,lon:-2.98948,display:!0 },{ crs:'BMS',name:'Bromley South',lat:51.3999,lon:.0183566,display:!0 },{ crs:'BMT',name:'Bedminster',lat:51.4401,lon:-2.59416,display:!0 },{ crs:'BMV',name:'Bromsgrove',lat:52.3227,lon:-2.04837,display:!0 },{ crs:'BMY',name:'Bramley (Hampshire)',lat:51.3301,lon:-1.06099,display:!0 },{ crs:'BNA',name:'Burnage',lat:53.4219,lon:-2.21514,display:!0 },{ crs:'BNC',name:'Burnley Central',lat:53.7935,lon:-2.24497,display:!0 },{ crs:'BND',name:'Brandon',lat:52.454,lon:.624734,display:!0 },{ crs:'BNE',name:'Bourne End',lat:51.5771,lon:-.710471,display:!0 },{ crs:'BNF',name:'Briton Ferry',lat:51.6379,lon:-3.81928,display:!0 },{ crs:'BNG',name:'Bangor (Gwynedd)',lat:53.2223,lon:-4.13589,display:!0 },{ crs:'BNH',name:'Barnehurst',lat:51.4648,lon:.160877,display:!0 },{ crs:'BNI',name:'Barnes Bridge',lat:51.4717,lon:-.252064,display:!0 },{ crs:'BNL',name:'Barnhill',lat:55.8778,lon:-4.22342,display:!0 },{ crs:'BNM',name:'Burnham (Buckinghamshire)',lat:51.5235,lon:-.64637,display:!0 },{ crs:'BNP',name:'Barnstaple',lat:51.074,lon:-4.06315,display:!0 },{ crs:'BNS',name:'Barnes',lat:51.4671,lon:-.240724,display:!0 },{ crs:'BNT',name:'Brinnington',lat:53.431,lon:-2.1309,display:!0 },{ crs:'BNV',name:'Banavie',lat:56.8433,lon:-5.09542,display:!0 },{ crs:'BNW',name:'Bootle New Strand',lat:53.453,lon:-2.99535,display:!0 },{ crs:'BNY',name:'Barnsley',lat:53.5546,lon:-1.47708,display:!0 },{ crs:'BOA',name:'Bradford-on-Avon',lat:51.3449,lon:-2.25234,display:!0 },{ crs:'BOC',name:'Bootle (Cumbria)',lat:54.2904,lon:-3.3949,display:!0 },{ crs:'BOD',name:'Bodmin Parkway',lat:50.4459,lon:-4.66297,display:!0 },{ crs:'BOE',name:'Botley',lat:50.9168,lon:-1.25881,display:!0 },{ crs:'BOG',name:'Bognor Regis',lat:50.7866,lon:-.676179,display:!0 },{ crs:'BOH',name:'Bosham',lat:50.8427,lon:-.847437,display:!0 },{ crs:'BOM',name:'Bromborough',lat:53.3218,lon:-2.98779,display:!0 },{ crs:'BON',name:'Bolton',lat:53.5742,lon:-2.42583,display:!0 },{ crs:'BOP',name:'Bowes Park',lat:51.6073,lon:-.11977,display:!0 },{ crs:'BOR',name:'Bodorgan',lat:53.2043,lon:-4.41802,display:!0 },{ crs:'BOT',name:'Bootle Oriel Road',lat:53.4476,lon:-2.99522,display:!0 },{ crs:'BPB',name:'Blackpool Pleasure Beach',lat:53.7882,lon:-3.05381,display:!0 },{ crs:'BPK',name:'Brookmans Park',lat:51.7211,lon:-.20455,display:!0 },{ crs:'BPN',name:'Blackpool North',lat:53.8219,lon:-3.04928,display:!0 },{ crs:'BPS',name:'Blackpool South',lat:53.7986,lon:-3.04906,display:!0 },{ crs:'BPT',name:'Bishopton (Renfrewshire)',lat:55.9021,lon:-4.50157,display:!0 },{ crs:'BPW',name:'Bristol Parkway',lat:51.5138,lon:-2.54266,display:!0 },{ crs:'BRA',name:'Brora',lat:58.0129,lon:-3.8523,display:!0 },{ crs:'BRC',name:'Breich',lat:55.8273,lon:-3.66812,display:!0 },{ crs:'BRE',name:'Brentwood',lat:51.6136,lon:.300154,display:!0 },{ crs:'BRF',name:'Brierfield',lat:53.8246,lon:-2.23695,display:!0 },{ crs:'BRG',name:'Borough Green & Wrotham',lat:51.2932,lon:.30626,display:!0 },{ crs:'BRH',name:'Borth',lat:52.491,lon:-4.05019,display:!0 },{ crs:'BRI',name:'Bristol Temple Meads',lat:51.4491,lon:-2.58132,display:!0 },{ crs:'BRK',name:'Berwick (Sussex)',lat:50.8404,lon:.166026,display:!0 },{ crs:'BRL',name:'Barrhill',lat:55.097,lon:-4.78178,display:!0 },{ crs:'BRM',name:'Barmouth',lat:52.7229,lon:-4.05661,display:!0 },{ crs:'BRN',name:'Bearsden',lat:55.9171,lon:-4.3329,display:!0 },{ crs:'BRO',name:'Bridge of Orchy',lat:56.5158,lon:-4.76298,display:!0 },{ crs:'BRP',name:'Brampton (Suffolk)',lat:52.3955,lon:1.54382,display:!0 },{ crs:'BRR',name:'Barrhead',lat:55.8037,lon:-4.39728,display:!0 },{ crs:'BRS',name:'Berrylands',lat:51.399,lon:-.280714,display:!0 },{ crs:'BRT',name:'Barlaston',lat:52.9429,lon:-2.16811,display:!0 },{ crs:'BRU',name:'Bruton',lat:51.1116,lon:-2.44708,display:!0 },{ crs:'BRV',name:'Bournville',lat:52.427,lon:-1.92642,display:!0 },{ crs:'BRW',name:'Brunswick',lat:53.3822,lon:-2.97565,display:!0 },{ crs:'BRX',name:'Brixton',lat:51.4633,lon:-.114179,display:!0 },{ crs:'BRY',name:'Barry',lat:51.3968,lon:-3.285,display:!0 },{ crs:'BSB',name:'Bleasby',lat:53.0417,lon:-.942482,display:!0 },{ crs:'BSC',name:'Bescot Stadium',lat:52.5627,lon:-1.9911,display:!0 },{ crs:'BSD',name:'Bearsted',lat:51.2758,lon:.577589,display:!0 },{ crs:'BSE',name:'Bury St Edmunds',lat:52.2538,lon:.71331,display:!0 },{ crs:'BSH',name:'Bushey',lat:51.6458,lon:-.385324,display:!0 },{ crs:'BSI',name:'Balmossie',lat:56.4746,lon:-2.83895,display:!0 },{ crs:'BSJ',name:'Bedford St Johns',lat:52.1295,lon:-.467503,display:!0 },{ crs:'BSK',name:'Basingstoke',lat:51.2684,lon:-1.08726,display:!0 },{ crs:'BSL',name:'Beasdale',lat:56.8995,lon:-5.76379,display:!0 },{ crs:'BSM',name:'Branksome',lat:50.7276,lon:-1.9192,display:!0 },{ crs:'BSN',name:'Boston',lat:52.9781,lon:-.0310023,display:!0 },{ crs:'BSO',name:'Basildon',lat:51.5681,lon:.456796,display:!0 },{ crs:'BSP',name:'Brondesbury Park',lat:51.5404,lon:-.2105,display:!0 },{ crs:'BSR',name:'Broadstairs',lat:51.3607,lon:1.43358,display:!0 },{ crs:'BSS',name:'Barassie',lat:55.561,lon:-4.65113,display:!0 },{ crs:'BSU',name:'Brunstane',lat:55.9425,lon:-3.10098,display:!0 },{ crs:'BSV',name:'Buckshaw Parkway',lat:53.6728,lon:-2.66447,display:!0 },{ crs:'BSW',name:'Birmingham Snow Hill',lat:52.4836,lon:-1.89982,display:!0 },{ crs:'BSY',name:'Brondesbury',lat:51.5456,lon:-.203081,display:!0 },{ crs:'BTB',name:'Barnetby',lat:53.5742,lon:-.409706,display:!0 },{ crs:'BTD',name:'Bolton-upon-Dearne',lat:53.519,lon:-1.31223,display:!0 },{ crs:'BTE',name:'Bitterne',lat:50.9184,lon:-1.37699,display:!0 },{ crs:'BTF',name:'Bottesford',lat:52.945,lon:-.796015,display:!0 },{ crs:'BTG',name:'Barnt Green',lat:52.3611,lon:-1.99247,display:!0 },{ crs:'BTH',name:'Bath Spa',lat:51.3777,lon:-2.35703,display:!0 },{ crs:'BTL',name:'Batley',lat:53.7091,lon:-1.62273,display:!0 },{ crs:'BTN',name:'Brighton',lat:50.829,lon:-.141225,display:!0 },{ crs:'BTO',name:'Betchworth',lat:51.2482,lon:-.266974,display:!0 },{ crs:'BTP',name:'Braintree Freeport',lat:51.869,lon:.567449,display:!0 },{ crs:'BTR',name:'Braintree',lat:51.8754,lon:.556699,display:!0 },{ crs:'BTS',name:'Burntisland',lat:56.0571,lon:-3.23319,display:!0 },{ crs:'BTT',name:'Battersby',lat:54.4577,lon:-1.09298,display:!0 },{ crs:'BTY',name:'Bentley (Hampshire)',lat:51.1812,lon:-.868131,display:!0 },{ crs:'BUB',name:'Burnley Barracks',lat:53.7912,lon:-2.25801,display:!0 },{ crs:'BUC',name:'Buckenham',lat:52.5978,lon:1.47034,display:!0 },{ crs:'BUD',name:'Burneside (Cumbria)',lat:54.3553,lon:-2.76622,display:!0 },{ crs:'BUE',name:'Bures',lat:51.971,lon:.769005,display:!0 },{ crs:'BUG',name:'Burgess Hill',lat:50.9536,lon:-.127769,display:!0 },{ crs:'BUH',name:'Brough',lat:53.7272,lon:-.579439,display:!0 },{ crs:'BUI',name:'Burnside (South Lanarkshire)',lat:55.8171,lon:-4.20399,display:!0 },{ crs:'BUJ',name:'Burton Joyce',lat:52.9841,lon:-1.04071,display:!0 },{ crs:'BUK',name:'Bucknell',lat:52.3576,lon:-2.94852,display:!0 },{ crs:'BUL',name:'Butlers Lane',lat:52.5925,lon:-1.83801,display:!0 },{ crs:'BUO',name:'Bursledon',lat:50.8844,lon:-1.30528,display:!0 },{ crs:'BUS',name:'Busby',lat:55.7803,lon:-4.26219,display:!0 },{ crs:'BUT',name:'Burton-on-Trent',lat:52.8058,lon:-1.64246,display:!0 },{ crs:'BUU',name:'Burnham-on-Crouch',lat:51.6337,lon:.814045,display:!0 },{ crs:'BUW',name:'Burley-in-Wharfedale',lat:53.9084,lon:-1.75352,display:!0 },{ crs:'BUX',name:'Buxton',lat:53.2607,lon:-1.91287,display:!0 },{ crs:'BUY',name:'Burley Park',lat:53.8122,lon:-1.57791,display:!0 },{ crs:'BVD',name:'Belvedere',lat:51.492,lon:.152076,display:!0 },{ crs:'BWB',name:'Bow Brickhill',lat:52.0043,lon:-.696072,display:!0 },{ crs:'BWD',name:'Birchwood',lat:53.412,lon:-2.52802,display:!0 },{ crs:'BWG',name:'Bowling',lat:55.9311,lon:-4.49382,display:!0 },{ crs:'BWK',name:'Berwick-upon-Tweed',lat:55.7748,lon:-2.01113,display:!0 },{ crs:'BWN',name:'Bloxwich North',lat:52.6257,lon:-2.01916,display:!0 },{ crs:'BWO',name:'Bricket Wood',lat:51.7054,lon:-.359116,display:!0 },{ crs:'BWS',name:'Barrow-upon-Soar',lat:52.7503,lon:-1.14957,display:!0 },{ crs:'BWT',name:'Bridgwater',lat:51.1281,lon:-2.99029,display:!0 },{ crs:'BXB',name:'Broxbourne',lat:51.7469,lon:-.0110779,display:!0 },{ crs:'BXD',name:'Buxted',lat:50.99,lon:.131448,display:!0 },{ crs:'BXH',name:'Bexleyheath',lat:51.4636,lon:.133461,display:!0 },{ crs:'BXW',name:'Box Hill & Westhumble',lat:51.254,lon:-.328478,display:!0 },{ crs:'BXY',name:'Bexley',lat:51.4408,lon:.148229,display:!0 },{ crs:'BYA',name:'Berney Arms',lat:52.5898,lon:1.63039,display:!0 },{ crs:'BYB',name:'Blythe Bridge',lat:52.9682,lon:-2.06696,display:!0 },{ crs:'BYC',name:'Betws-y-Coed',lat:53.0921,lon:-3.80088,display:!0 },{ crs:'BYD',name:'Barry Docks',lat:51.4024,lon:-3.26072,display:!0 },{ crs:'BYE',name:'Bynea',lat:51.672,lon:-4.0989,display:!0 },{ crs:'BYF',name:'Broughty Ferry',lat:56.4672,lon:-2.87315,display:!0 },{ crs:'BYI',name:'Barry Island',lat:51.3924,lon:-3.27338,display:!0 },{ crs:'BYK',name:'Bentley (South Yorkshire)',lat:53.5437,lon:-1.15156,display:!0 },{ crs:'BYL',name:'Barry Links',lat:56.4931,lon:-2.74544,display:!0 },{ crs:'BYM',name:'Burnley Manchester Road',lat:53.785,lon:-2.24887,display:!0 },{ crs:'BYN',name:'Bryn',lat:53.4995,lon:-2.64818,display:!0 },{ crs:'BYS',name:'Braystones',lat:54.4395,lon:-3.54337,display:!0 },{ crs:'CAA',name:'Coventry Arena',lat:52.4485,lon:-1.49663,display:!0 },{ crs:'CAC',name:'Caldercruix',lat:55.8879,lon:-3.88979,display:!0 },{ crs:'CAD',name:'Cadoxton',lat:51.4123,lon:-3.24891,display:!0 },{ crs:'CAG',name:'Carrbridge',lat:57.2795,lon:-3.82801,display:!0 },{ crs:'CAK',name:'Cark & Cartmel',lat:54.1776,lon:-2.97283,display:!0 },{ crs:'CAM',name:'Camberley',lat:51.3365,lon:-.74467,display:!0 },{ crs:'CAN',name:'Carnoustie',lat:56.5006,lon:-2.70659,display:!0 },{ crs:'CAO',name:'Cannock',lat:52.6862,lon:-2.02215,display:!0 },{ crs:'CAR',name:'Carlisle',lat:54.8906,lon:-2.93381,display:!0 },{ crs:'CAS',name:'Castleton (Manchester)',lat:53.5919,lon:-2.17823,display:!0 },{ crs:'CAT',name:'Caterham',lat:51.2821,lon:-.0783028,display:!0 },{ crs:'CAU',name:'Causeland',lat:50.4057,lon:-4.46649,display:!0 },{ crs:'CAY',name:'Carntyne',lat:55.855,lon:-4.17865,display:!0 },{ crs:'CBB',name:'Carbis Bay',lat:50.1972,lon:-5.46404,display:!0 },{ crs:'CBC',name:'Coatbridge Central',lat:55.8632,lon:-4.0324,display:!0 },{ crs:'CBD',name:'Conon Bridge',lat:57.5617,lon:-4.4404,display:!0 },{ crs:'CBE',name:'Canterbury East',lat:51.2743,lon:1.07598,display:!0 },{ crs:'CBG',name:'Cambridge',lat:52.1946,lon:.137555,display:!0 },{ crs:'CBH',name:'Cambridge Heath',lat:51.532,lon:-.0572726,display:!0 },{ crs:'CBK',name:'Cranbrook (Devon)',lat:50.7497,lon:-3.42227,display:!0 },{ crs:'CBL',name:'Cambuslang',lat:55.8196,lon:-4.173,display:!0 },{ crs:'CBN',name:'Camborne',lat:50.2104,lon:-5.29747,display:!0 },{ crs:'CBP',name:'Castle Bar Park',lat:51.523,lon:-.331405,display:!0 },{ crs:'CBR',name:'Cooksbridge',lat:50.9038,lon:-.00919842,display:!0 },{ crs:'CBS',name:'Coatbridge Sunnyside',lat:55.8669,lon:-4.02828,display:!0 },{ crs:'CBW',name:'Canterbury West',lat:51.2843,lon:1.07531,display:!0 },{ crs:'CBY',name:'Charlbury',lat:51.8724,lon:-1.4897,display:!0 },{ crs:'CCC',name:'Criccieth',lat:52.9184,lon:-4.23753,display:!0 },{ crs:'CCH',name:'Chichester',lat:50.832,lon:-.781753,display:!0 },{ crs:'CCT',name:'Cathcart',lat:55.8177,lon:-4.26053,display:!0 },{ crs:'CDB',name:'Cardiff Bay',lat:51.4671,lon:-3.16643,display:!0 },{ crs:'CDD',name:'Cardenden',lat:56.1412,lon:-3.26164,display:!0 },{ crs:'CDF',name:'Cardiff Central',lat:51.476,lon:-3.17931,display:!0 },{ crs:'CDI',name:'Crediton',lat:50.7834,lon:-3.64688,display:!0 },{ crs:'CDN',name:'Coulsdon Town',lat:51.3224,lon:-.13432,display:!0 },{ crs:'CDO',name:'Cardonald',lat:55.8526,lon:-4.34069,display:!0 },{ crs:'CDQ',name:'Cardiff Queen Street',lat:51.482,lon:-3.1702,display:!0 },{ crs:'CDR',name:'Cardross',lat:55.9604,lon:-4.65306,display:!0 },{ crs:'CDS',name:'Coulsdon South',lat:51.3158,lon:-.137884,display:!0 },{ crs:'CDT',name:'Caldicot',lat:51.5848,lon:-2.76059,display:!0 },{ crs:'CDU',name:'Cam & Dursley',lat:51.7176,lon:-2.3591,display:!0 },{ crs:'CDY',name:'Cartsdyke',lat:55.9422,lon:-4.73158,display:!0 },{ crs:'CEA',name:'Cleland',lat:55.8046,lon:-3.91024,display:!0 },{ crs:'CED',name:'Cheddington',lat:51.8579,lon:-.662146,display:!0 },{ crs:'CEF',name:'Chapel-en-le-Frith',lat:53.3122,lon:-1.91877,display:!0 },{ crs:'CEH',name:'Coleshill Parkway',lat:52.5165,lon:-1.70818,display:!0 },{ crs:'CEL',name:'Chelford (Cheshire)',lat:53.2709,lon:-2.27961,display:!0 },{ crs:'CES',name:'Cressing (Essex)',lat:51.8523,lon:.577973,display:!0 },{ crs:'CET',name:'Colchester Town',lat:51.8865,lon:.904149,display:!0 },{ crs:'CEY',name:'Cononley',lat:53.9173,lon:-2.01124,display:!0 },{ crs:'CFB',name:'Catford Bridge',lat:51.4447,lon:-.0248562,display:!0 },{ crs:'CFD',name:'Castleford',lat:53.7241,lon:-1.35466,display:!0 },{ crs:'CFF',name:'Croftfoot',lat:55.8182,lon:-4.22832,display:!0 },{ crs:'CFH',name:'Chafford Hundred Lakeside',lat:51.4856,lon:.287237,display:!0 },{ crs:'CFL',name:'Crossflatts',lat:53.8585,lon:-1.84489,display:!0 },{ crs:'CFN',name:'Clifton Down',lat:51.4645,lon:-2.61175,display:!0 },{ crs:'CFO',name:'Chalfont & Latimer',lat:51.6681,lon:-.560519,display:!0 },{ crs:'CFR',name:'Chandlers Ford',lat:50.983,lon:-1.3844,display:!0 },{ crs:'CFT',name:'Crofton Park',lat:51.4552,lon:-.0364964,display:!0 },{ crs:'CGD',name:'Craigendoran',lat:55.9948,lon:-4.71123,display:!0 },{ crs:'CGM',name:'Cottingham',lat:53.7817,lon:-.406425,display:!0 },{ crs:'CGN',name:'Cogan',lat:51.446,lon:-3.1891,display:!0 },{ crs:'CGW',name:'Caergwrle',lat:53.1079,lon:-3.03292,display:!0 },{ crs:'CHC',name:'Charing Cross (Glasgow)',lat:55.8647,lon:-4.26981,display:!0 },{ crs:'CHD',name:'Chesterfield',lat:53.2382,lon:-1.42011,display:!0 },{ crs:'CHE',name:'Cheam',lat:51.3555,lon:-.214167,display:!0 },{ crs:'CHF',name:'Church Fenton',lat:53.8263,lon:-1.22744,display:!0 },{ crs:'CHG',name:'Charing (Kent)',lat:51.2081,lon:.790346,display:!0 },{ crs:'CHH',name:'Christs Hospital',lat:51.0507,lon:-.363547,display:!0 },{ crs:'CHI',name:'Chingford',lat:51.6331,lon:.00990609,display:!0 },{ crs:'CHK',name:'Chiswick',lat:51.4811,lon:-.267835,display:!0 },{ crs:'CHL',name:'Chilworth',lat:51.2152,lon:-.524818,display:!0 },{ crs:'CHM',name:'Chelmsford',lat:51.7364,lon:.46858,display:!0 },{ crs:'CHN',name:'Cheshunt',lat:51.7029,lon:-.0239516,display:!0 },{ crs:'CHO',name:'Cholsey',lat:51.5702,lon:-1.15802,display:!0 },{ crs:'CHP',name:'Chipstead',lat:51.3093,lon:-.169428,display:!0 },{ crs:'CHR',name:'Christchurch',lat:50.7382,lon:-1.78455,display:!0 },{ crs:'CHT',name:'Chathill',lat:55.5367,lon:-1.70638,display:!0 },{ crs:'CHU',name:'Cheadle Hulme',lat:53.3759,lon:-2.1883,display:!0 },{ crs:'CHW',name:'Chalkwell',lat:51.5387,lon:.670605,display:!0 },{ crs:'CHX',name:'London Charing Cross',lat:51.5077,lon:-.124106,display:!0 },{ crs:'CHY',name:'Chertsey',lat:51.3872,lon:-.509666,display:!0 },{ crs:'CIL',name:'Chilham',lat:51.2446,lon:.975915,display:!0 },{ crs:'CIM',name:'Cilmeri',lat:52.1505,lon:-3.45655,display:!0 },{ crs:'CIR',name:'Caledonian Road & Barnsbury',lat:51.5434,lon:-.115197,display:!0 },{ crs:'CIT',name:'Chislehurst',lat:51.4056,lon:.0574269,display:!0 },{ crs:'CKH',name:'Corkerhill',lat:55.8375,lon:-4.33429,display:!0 },{ crs:'CKL',name:'Corkickle',lat:54.5417,lon:-3.58216,display:!0 },{ crs:'CKN',name:'Crewkerne',lat:50.872,lon:-2.77849,display:!0 },{ crs:'CKS',name:'Clarkston',lat:55.7893,lon:-4.27564,display:!0 },{ crs:'CKT',name:'Crookston',lat:55.8422,lon:-4.36594,display:!0 },{ crs:'CKY',name:'Crosskeys',lat:51.6209,lon:-3.12619,display:!0 },{ crs:'CLA',name:'Clandon',lat:51.264,lon:-.502759,display:!0 },{ crs:'CLC',name:'Castle Cary',lat:51.0998,lon:-2.5228,display:!0 },{ crs:'CLD',name:'Chelsfield',lat:51.3563,lon:.10908,display:!0 },{ crs:'CLE',name:'Cleethorpes',lat:53.5619,lon:-.0292174,display:!0 },{ crs:'CLG',name:'Claygate',lat:51.3612,lon:-.348236,display:!0 },{ crs:'CLH',name:'Clitheroe',lat:53.8735,lon:-2.39434,display:!0 },{ crs:'CLI',name:'Clifton (Manchester)',lat:53.5222,lon:-2.31414,display:!0 },{ crs:'CLJ',name:'Clapham Junction',lat:51.4642,lon:-.170247,display:!0 },{ crs:'CLK',name:'Clock House',lat:51.4086,lon:-.0406509,display:!0 },{ crs:'CLL',name:'Collington',lat:50.8393,lon:.457878,display:!0 },{ crs:'CLM',name:'Collingham',lat:53.1441,lon:-.750383,display:!0 },{ crs:'CLN',name:'Chapeltown (South Yorkshire)',lat:53.4624,lon:-1.46627,display:!0 },{ crs:'CLP',name:'Clapham High Street',lat:51.4655,lon:-.132518,display:!0 },{ crs:'CLR',name:'Clarbeston Road',lat:51.8517,lon:-4.88357,display:!0 },{ crs:'CLS',name:'Chester-le-Street',lat:54.8546,lon:-1.57802,display:!0 },{ crs:'CLT',name:'Clacton-on-Sea',lat:51.794,lon:1.15411,display:!0 },{ crs:'CLU',name:'Carluke',lat:55.7313,lon:-3.84892,display:!0 },{ crs:'CLV',name:'Claverdon',lat:52.2771,lon:-1.69657,display:!0 },{ crs:'CLW',name:'Chorleywood',lat:51.6542,lon:-.518312,display:!0 },{ crs:'CLY',name:'Chinley',lat:53.3403,lon:-1.9444,display:!0 },{ crs:'CMB',name:'Cambridge North',lat:52.227,lon:.1611,display:!0 },{ crs:'CMD',name:'Camden Road',lat:51.5419,lon:-.139772,display:!0 },{ crs:'CME',name:'Combe (Oxon)',lat:51.8323,lon:-1.3929,display:!0 },{ crs:'CMF',name:'Cromford',lat:53.1129,lon:-1.54879,display:!0 },{ crs:'CMH',name:'Cwmbach',lat:51.7019,lon:-3.41374,display:!0 },{ crs:'CML',name:'Carmyle',lat:55.8343,lon:-4.15817,display:!0 },{ crs:'CMN',name:'Carmarthen',lat:51.8534,lon:-4.30599,display:!0 },{ crs:'CMO',name:'Camelon',lat:56.0061,lon:-3.8176,display:!0 },{ crs:'CMR',name:'Cromer',lat:52.9301,lon:1.29283,display:!0 },{ crs:'CMY',name:'Crossmyloof',lat:55.8339,lon:-4.28431,display:!0 },{ crs:'CNE',name:'Colne',lat:53.8548,lon:-2.18117,display:!0 },{ crs:'CNF',name:'Carnforth',lat:54.1297,lon:-2.77123,display:!0 },{ crs:'CNG',name:'Congleton',lat:53.1579,lon:-2.19258,display:!0 },{ crs:'CNL',name:'Canley',lat:52.3993,lon:-1.54758,display:!0 },{ crs:'CNM',name:'Cheltenham Spa',lat:51.8974,lon:-2.09963,display:!0 },{ crs:'CNN',name:'Canonbury',lat:51.5484,lon:-.0919121,display:!0 },{ crs:'CNO',name:'Chetnole',lat:50.8665,lon:-2.57405,display:!0 },{ crs:'CNP',name:'Conway Park',lat:53.3934,lon:-3.02268,display:!0 },{ crs:'CNR',name:'Crianlarich',lat:56.3905,lon:-4.61842,display:!0 },{ crs:'CNS',name:'Conisbrough',lat:53.4893,lon:-1.23433,display:!0 },{ crs:'CNW',name:'Conwy',lat:53.2801,lon:-3.83054,display:!0 },{ crs:'CNY',name:'Cantley',lat:52.5788,lon:1.51343,display:!0 },{ crs:'COA',name:'Coatdyke',lat:55.8643,lon:-4.00497,display:!0 },{ crs:'COB',name:'Cooden Beach',lat:50.8334,lon:.426875,display:!0 },{ crs:'COE',name:'Coombe Junction Halt',lat:50.4455,lon:-4.48194,display:!0 },{ crs:'COH',name:'Crowborough',lat:51.0464,lon:.188023,display:!0 },{ crs:'COI',name:'Crosshill',lat:55.8333,lon:-4.2568,display:!0 },{ crs:'COL',name:'Colchester',lat:51.9006,lon:.89347,display:!0 },{ crs:'COM',name:'Commondale',lat:54.4818,lon:-.974984,display:!0 },{ crs:'CON',name:'Connel Ferry',lat:56.4523,lon:-5.38543,display:!0 },{ crs:'COO',name:'Cookham',lat:51.5575,lon:-.722077,display:!0 },{ crs:'COP',name:'Copplestone',lat:50.8145,lon:-3.7516,display:!0 },{ crs:'COR',name:'Corby',lat:52.4881,lon:-.689243,display:!0 },{ crs:'COS',name:'Cosford',lat:52.645,lon:-2.30619,display:!0 },{ crs:'COT',name:'Cottingley',lat:53.7678,lon:-1.5877,display:!0 },{ crs:'COV',name:'Coventry',lat:52.4008,lon:-1.51346,display:!0 },{ crs:'COW',name:'Cowdenbeath',lat:56.1121,lon:-3.34318,display:!0 },{ crs:'COY',name:'Coryton',lat:51.5204,lon:-3.23154,display:!0 },{ crs:'CPA',name:'Corpach',lat:56.8428,lon:-5.12195,display:!0 },{ crs:'CPH',name:'Caerphilly',lat:51.5716,lon:-3.21849,display:!0 },{ crs:'CPK',name:'Carpenders Park',lat:51.6283,lon:-.385942,display:!0 },{ crs:'CPM',name:'Chippenham',lat:51.4625,lon:-2.1154,display:!0 },{ crs:'CPN',name:'Chapelton (Devon)',lat:51.0158,lon:-4.02437,display:!0 },{ crs:'CPT',name:'Clapton',lat:51.5616,lon:-.057018,display:!0 },{ crs:'CPU',name:'Capenhurst',lat:53.2602,lon:-2.94229,display:!0 },{ crs:'CPW',name:'Chepstow',lat:51.6402,lon:-2.67191,display:!0 },{ crs:'CPY',name:'Clapham (North Yorkshire)',lat:54.1054,lon:-2.40984,display:!0 },{ crs:'CRA',name:'Cradley Heath',lat:52.4697,lon:-2.09049,display:!0 },{ crs:'CRB',name:'Corbridge',lat:54.9663,lon:-2.01856,display:!0 },{ crs:'CRD',name:'Chester Road',lat:52.5357,lon:-1.83247,display:!0 },{ crs:'CRE',name:'Crewe',lat:53.0896,lon:-2.43298,display:!0 },{ crs:'CRF',name:'Carfin',lat:55.8073,lon:-3.95625,display:!0 },{ crs:'CRG',name:'Cross Gates',lat:53.8049,lon:-1.4503,display:!0 },{ crs:'CRH',name:'Crouch Hill',lat:51.5713,lon:-.116929,display:!0 },{ crs:'CRI',name:'Cricklewood',lat:51.5587,lon:-.21223,display:!0 },{ crs:'CRK',name:'Chirk',lat:52.9331,lon:-3.06566,display:!0 },{ crs:'CRL',name:'Chorley',lat:53.6526,lon:-2.62678,display:!0 },{ crs:'CRM',name:'Cramlington',lat:55.0878,lon:-1.5986,display:!0 },{ crs:'CRN',name:'Crowthorne',lat:51.3667,lon:-.819275,display:!0 },{ crs:'CRO',name:'Croy',lat:55.9557,lon:-4.03596,display:!0 },{ crs:'CRR',name:'Corrour',lat:56.7602,lon:-4.6906,display:!0 },{ crs:'CRS',name:'Carstairs',lat:55.691,lon:-3.66847,display:!0 },{ crs:'CRT',name:'Chartham',lat:51.2573,lon:1.01806,display:!0 },{ crs:'CRV',name:'Craven Arms',lat:52.442,lon:-2.83705,display:!0 },{ crs:'CRW',name:'Crawley',lat:51.1122,lon:-.186673,display:!0 },{ crs:'CRY',name:'Crayford',lat:51.4483,lon:.178807,display:!0 },{ crs:'CSA',name:'Cosham',lat:50.8421,lon:-1.06755,display:!0 },{ crs:'CSB',name:'Carshalton Beeches',lat:51.3574,lon:-.169795,display:!0 },{ crs:'CSD',name:'Cobham & Stoke d\'Abernon',lat:51.3181,lon:-.389336,display:!0 },{ crs:'CSG',name:'Cressington',lat:53.3588,lon:-2.91201,display:!0 },{ crs:'CSH',name:'Carshalton',lat:51.3685,lon:-.166366,display:!0 },{ crs:'CSK',name:'Calstock',lat:50.4976,lon:-4.20871,display:!0 },{ crs:'CSL',name:'Codsall',lat:52.6273,lon:-2.20177,display:!0 },{ crs:'CSM',name:'Castleton Moor',lat:54.4673,lon:-.946648,display:!0 },{ crs:'CSN',name:'Chessington North',lat:51.3643,lon:-.300405,display:!0 },{ crs:'CSO',name:'Croston',lat:53.6676,lon:-2.77775,display:!0 },{ crs:'CSR',name:'Chassen Road',lat:53.4462,lon:-2.36824,display:!0 },{ crs:'CSS',name:'Chessington South',lat:51.3566,lon:-.308159,display:!0 },{ crs:'CST',name:'London Cannon Street',lat:51.5106,lon:-.0906094,display:!0 },{ crs:'CSW',name:'Chestfield & Swalecliffe',lat:51.3603,lon:1.06771,display:!0 },{ crs:'CSY',name:'Coseley',lat:52.5451,lon:-2.08578,display:!0 },{ crs:'CTE',name:'Chatelherault',lat:55.7652,lon:-4.00466,display:!0 },{ crs:'CTF',name:'Catford',lat:51.4444,lon:-.0263098,display:!0 },{ crs:'CTH',name:'Chadwell Heath',lat:51.568,lon:.12897,display:!0 },{ crs:'CTK',name:'City Thameslink',lat:51.5139,lon:-.10358,display:!0 },{ crs:'CTL',name:'Cattal',lat:53.9975,lon:-1.31977,display:!0 },{ crs:'CTM',name:'Chatham',lat:51.3804,lon:.521158,display:!0 },{ crs:'CTN',name:'Charlton',lat:51.4869,lon:.0309803,display:!0 },{ crs:'CTO',name:'Carlton',lat:52.965,lon:-1.07925,display:!0 },{ crs:'CTR',name:'Chester',lat:53.1968,lon:-2.88013,display:!0 },{ crs:'CTT',name:'Church Stretton',lat:52.5374,lon:-2.8037,display:!0 },{ crs:'CTW',name:'Church & Oswaldtwistle',lat:53.7504,lon:-2.39091,display:!0 },{ crs:'CUA',name:'Culrain',lat:57.9195,lon:-4.40428,display:!0 },{ crs:'CUB',name:'Cumbernauld',lat:55.942,lon:-3.98032,display:!0 },{ crs:'CUD',name:'Cuddington',lat:53.2399,lon:-2.5993,display:!0 },{ crs:'CUF',name:'Cuffley',lat:51.7087,lon:-.10978,display:!0 },{ crs:'CUH',name:'Curriehill',lat:55.9006,lon:-3.31875,display:!0 },{ crs:'CUM',name:'Culham',lat:51.6538,lon:-1.23651,display:!0 },{ crs:'CUP',name:'Cupar',lat:56.317,lon:-3.00876,display:!0 },{ crs:'CUW',name:'Clunderwen',lat:51.8405,lon:-4.73188,display:!0 },{ crs:'CUX',name:'Cuxton',lat:51.3739,lon:.461714,display:!0 },{ crs:'CWB',name:'Colwyn Bay',lat:53.2964,lon:-3.72543,display:!0 },{ crs:'CWC',name:'Chappel & Wakes Colne',lat:51.9259,lon:.758519,display:!0 },{ crs:'CWD',name:'Creswell',lat:53.264,lon:-1.21587,display:!0 },{ crs:'CWE',name:'Crowle',lat:53.5898,lon:-.817363,display:!0 },{ crs:'CWH',name:'Crews Hill',lat:51.6845,lon:-.10688,display:!0 },{ crs:'CWL',name:'Colwall',lat:52.0799,lon:-2.35696,display:!0 },{ crs:'CWM',name:'Cwmbran',lat:51.6566,lon:-3.01622,display:!0 },{ crs:'CWN',name:'Cowden (Kent)',lat:51.1556,lon:.110042,display:!0 },{ crs:'CWS',name:'Caersws',lat:52.5161,lon:-3.43251,display:!0 },{ crs:'CWU',name:'Crowhurst',lat:50.8886,lon:.501355,display:!0 },{ crs:'CYB',name:'Cefn-y-Bedd',lat:53.0988,lon:-3.03106,display:!0 },{ crs:'CYK',name:'Clydebank',lat:55.9007,lon:-4.40422,display:!0 },{ crs:'CYN',name:'Cynghordy',lat:52.0515,lon:-3.74823,display:!0 },{ crs:'CYP',name:'Crystal Palace',lat:51.4181,lon:-.0726045,display:!0 },{ crs:'CYS',name:'Cathays',lat:51.4889,lon:-3.17869,display:!0 },{ crs:'CYT',name:'Cherry Tree',lat:53.7329,lon:-2.51839,display:!0 },{ crs:'DAG',name:'Dalgety Bay',lat:56.0421,lon:-3.36772,display:!0 },{ crs:'DAK',name:'Dalmarnock',lat:55.8421,lon:-4.2177,display:!0 },{ crs:'DAL',name:'Dalmally',lat:56.4012,lon:-4.98354,display:!0 },{ crs:'DAM',name:'Dalmeny',lat:55.9863,lon:-3.38162,display:!0 },{ crs:'DAN',name:'Darnall',lat:53.3811,lon:-1.41065,display:!0 },{ crs:'DAR',name:'Darlington',lat:54.5205,lon:-1.54733,display:!0 },{ crs:'DAT',name:'Datchet',lat:51.4831,lon:-.579416,display:!0 },{ crs:'DBC',name:'Dumbarton Central',lat:55.9466,lon:-4.56691,display:!0 },{ crs:'DBD',name:'Denby Dale',lat:53.5726,lon:-1.66321,display:!0 },{ crs:'DBE',name:'Dumbarton East',lat:55.9422,lon:-4.55412,display:!0 },{ crs:'DBG',name:'Mottisfont & Dunbridge',lat:51.0338,lon:-1.54672,display:!0 },{ crs:'DBL',name:'Dunblane',lat:56.1859,lon:-3.96548,display:!0 },{ crs:'DBR',name:'Derby Road (Ipswich)',lat:52.0506,lon:1.18266,display:!0 },{ crs:'DBY',name:'Derby',lat:52.9162,lon:-1.46307,display:!0 },{ crs:'DCG',name:'Duncraig',lat:57.3371,lon:-5.63693,display:!0 },{ crs:'DCH',name:'Dorchester South',lat:50.7093,lon:-2.43725,display:!0 },{ crs:'DCT',name:'Danescourt',lat:51.5005,lon:-3.23393,display:!0 },{ crs:'DCW',name:'Dorchester West',lat:50.7109,lon:-2.44255,display:!0 },{ crs:'DDG',name:'Dorridge',lat:52.3721,lon:-1.75291,display:!0 },{ crs:'DDK',name:'Dagenham Dock',lat:51.5263,lon:.145043,display:!0 },{ crs:'DDP',name:'Dudley Port',lat:52.5247,lon:-2.04948,display:!0 },{ crs:'DEA',name:'Deal',lat:51.223,lon:1.39886,display:!0 },{ crs:'DEE',name:'Dundee',lat:56.4565,lon:-2.9712,display:!0 },{ crs:'DEN',name:'Dean (Wilts)',lat:51.0422,lon:-1.63481,display:!0 },{ crs:'DEP',name:'Deptford',lat:51.4789,lon:-.0262632,display:!0 },{ crs:'DEW',name:'Dewsbury',lat:53.6921,lon:-1.63348,display:!0 },{ crs:'DFD',name:'Dartford',lat:51.4474,lon:.219262,display:!0 },{ crs:'DFE',name:'Dunfermline Town',lat:56.0682,lon:-3.45253,display:!0 },{ crs:'DFI',name:'Duffield',lat:52.9878,lon:-1.48604,display:!0 },{ crs:'DFL',name:'Dunfermline Queen Margaret',lat:56.0806,lon:-3.42147,display:!0 },{ crs:'DFP',name:'Dublin Ferryport',lat:53.3494,lon:-6.26008,display:!1 },{ crs:'DFR',name:'Drumfrochar',lat:55.9412,lon:-4.77476,display:!0 },{ crs:'DGC',name:'Denham Golf Club',lat:51.5806,lon:-.517779,display:!0 },{ crs:'DGL',name:'Dingle Road',lat:51.4401,lon:-3.18061,display:!0 },{ crs:'DGT',name:'Deansgate',lat:53.4741,lon:-2.25107,display:!0 },{ crs:'DGY',name:'Deganwy',lat:53.2948,lon:-3.8334,display:!0 },{ crs:'DHM',name:'Durham',lat:54.7794,lon:-1.58176,display:!0 },{ crs:'DHN',name:'Deighton',lat:53.6689,lon:-1.7522,display:!0 },{ crs:'DID',name:'Didcot Parkway',lat:51.611,lon:-1.24289,display:!0 },{ crs:'DIG',name:'Digby & Sowton',lat:50.7137,lon:-3.47389,display:!0 },{ crs:'DIN',name:'Dingwall',lat:57.5941,lon:-4.42207,display:!0 },{ crs:'DIS',name:'Diss',lat:52.3737,lon:1.12371,display:!0 },{ crs:'DKD',name:'Dunkeld & Birnam',lat:56.557,lon:-3.5784,display:!0 },{ crs:'DKG',name:'Dorking (Main)',lat:51.2409,lon:-.324239,display:!0 },{ crs:'DKT',name:'Dorking West',lat:51.2362,lon:-.339967,display:!0 },{ crs:'DLG',name:'Dolgarrog',lat:53.1864,lon:-3.82265,display:!0 },{ crs:'DLH',name:'Doleham',lat:50.9187,lon:.610703,display:!0 },{ crs:'DLJ',name:'Dalston Junction',lat:51.5445,lon:-.076215,display:!0 },{ crs:'DLK',name:'Dalston Kingsland',lat:51.5483,lon:-.0757611,display:!0 },{ crs:'DLM',name:'Delamere',lat:53.2288,lon:-2.66656,display:!0 },{ crs:'DLR',name:'Dalreoch',lat:55.9474,lon:-4.57785,display:!0 },{ crs:'DLS',name:'Dalston (Cumbria)',lat:54.8462,lon:-2.98885,display:!0 },{ crs:'DLT',name:'Dalton (Cumbria)',lat:54.1542,lon:-3.17901,display:!0 },{ crs:'DLW',name:'Dalwhinnie',lat:56.9352,lon:-4.2462,display:!0 },{ crs:'DLY',name:'Dalry',lat:55.7062,lon:-4.71107,display:!0 },{ crs:'DMC',name:'Drumchapel',lat:55.9048,lon:-4.36287,display:!0 },{ crs:'DMF',name:'Dumfries',lat:55.0726,lon:-3.6043,display:!0 },{ crs:'DMG',name:'Dinas (Rhondda)',lat:51.6178,lon:-3.43756,display:!0 },{ crs:'DMH',name:'Dilton Marsh',lat:51.248,lon:-2.20742,display:!0 },{ crs:'DMK',name:'Denmark Hill',lat:51.4682,lon:-.0893557,display:!0 },{ crs:'DMP',name:'Dumpton Park',lat:51.3457,lon:1.42584,display:!0 },{ crs:'DMR',name:'Dalmuir',lat:55.9119,lon:-4.42668,display:!0 },{ crs:'DMS',name:'Dormans',lat:51.1558,lon:-.00430263,display:!0 },{ crs:'DMY',name:'Drumry',lat:55.9046,lon:-4.38547,display:!0 },{ crs:'DND',name:'Dinsdale',lat:54.5147,lon:-1.46707,display:!0 },{ crs:'DNG',name:'Dunton Green',lat:51.2965,lon:.170949,display:!0 },{ crs:'DNL',name:'Dunlop',lat:55.7119,lon:-4.53237,display:!0 },{ crs:'DNM',name:'Denham',lat:51.5788,lon:-.497428,display:!0 },{ crs:'DNO',name:'Dunrobin Castle',lat:57.9856,lon:-3.94945,display:!0 },{ crs:'DNS',name:'Dinas Powys',lat:51.4317,lon:-3.21836,display:!0 },{ crs:'DNT',name:'Dent',lat:54.2824,lon:-2.3636,display:!0 },{ crs:'DNY',name:'Danby',lat:54.4664,lon:-.910719,display:!0 },{ crs:'DOC',name:'Dockyard (Devonport)',lat:50.3822,lon:-4.17592,display:!0 },{ crs:'DOD',name:'Dodworth',lat:53.5442,lon:-1.53093,display:!0 },{ crs:'DOL',name:'Dolau',lat:52.2954,lon:-3.26363,display:!0 },{ crs:'DON',name:'Doncaster',lat:53.5215,lon:-1.14023,display:!0 },{ crs:'DOR',name:'Dore & Totley',lat:53.3275,lon:-1.51545,display:!0 },{ crs:'DOT',name:'Dunston',lat:54.9501,lon:-1.64103,display:!0 },{ crs:'DOW',name:'Downham Market',lat:52.6041,lon:.365691,display:!0 },{ crs:'DPD',name:'Dorking Deepdene',lat:51.2388,lon:-.324632,display:!0 },{ crs:'DPS',name:'Dublin Port - Stena',lat:53.3511,lon:-6.2145,display:!1 },{ crs:'DPT',name:'Devonport',lat:50.3782,lon:-4.17151,display:!0 },{ crs:'DRF',name:'Driffield',lat:54.0015,lon:-.434671,display:!0 },{ crs:'DRG',name:'Drayton Green',lat:51.516,lon:-.329641,display:!0 },{ crs:'DRI',name:'Drigg',lat:54.377,lon:-3.44341,display:!0 },{ crs:'DRM',name:'Drem',lat:56.0051,lon:-2.78605,display:!0 },{ crs:'DRN',name:'Duirinish',lat:57.3194,lon:-5.69201,display:!0 },{ crs:'DRO',name:'Dronfield',lat:53.3014,lon:-1.46877,display:!0 },{ crs:'DRT',name:'Darton',lat:53.5884,lon:-1.53165,display:!0 },{ crs:'DRU',name:'Drumgelloch',lat:55.8658,lon:-3.95408,display:!0 },{ crs:'DSL',name:'Disley',lat:53.3582,lon:-2.04248,display:!0 },{ crs:'DSM',name:'Darsham',lat:52.273,lon:1.52348,display:!0 },{ crs:'DST',name:'Duke Street',lat:55.8584,lon:-4.21304,display:!0 },{ crs:'DSY',name:'Daisy Hill',lat:53.5395,lon:-2.51587,display:!0 },{ crs:'DTG',name:'Dinting',lat:53.4493,lon:-1.97031,display:!0 },{ crs:'DTN',name:'Denton',lat:53.4569,lon:-2.13023,display:!0 },{ crs:'DTW',name:'Droitwich Spa',lat:52.2682,lon:-2.15837,display:!0 },{ crs:'DUD',name:'Duddeston',lat:52.4884,lon:-1.87139,display:!0 },{ crs:'DUL',name:'Dullingham',lat:52.2017,lon:.366672,display:!0 },{ crs:'DUM',name:'Dumbreck',lat:55.845,lon:-4.30094,display:!0 },{ crs:'DUN',name:'Dunbar',lat:55.9983,lon:-2.51335,display:!0 },{ crs:'DUR',name:'Durrington-on-Sea',lat:50.8175,lon:-.411462,display:!0 },{ crs:'DVC',name:'Dovercourt',lat:51.9388,lon:1.28063,display:!0 },{ crs:'DVH',name:'Dove Holes',lat:53.2998,lon:-1.89043,display:!0 },{ crs:'DVN',name:'Davenport',lat:53.3908,lon:-2.15258,display:!0 },{ crs:'DVP',name:'Dover Priory',lat:51.1257,lon:1.30531,display:!0 },{ crs:'DVY',name:'Dovey Junction',lat:52.5644,lon:-3.92391,display:!0 },{ crs:'DWD',name:'Dolwyddelan',lat:53.052,lon:-3.88514,display:!0 },{ crs:'DWL',name:'Dawlish',lat:50.5808,lon:-3.46465,display:!0 },{ crs:'DWN',name:'Darwen',lat:53.698,lon:-2.46495,display:!0 },{ crs:'DWW',name:'Dawlish Warren',lat:50.5991,lon:-3.44402,display:!0 },{ crs:'DYC',name:'Dyce',lat:57.2056,lon:-2.19233,display:!0 },{ crs:'DYF',name:'Dyffryn Ardudwy',lat:52.7889,lon:-4.10466,display:!0 },{ crs:'DYP',name:'Drayton Park',lat:51.5531,lon:-.10571,display:!0 },{ crs:'DZY',name:'Danzey',lat:52.3244,lon:-1.82124,display:!0 },{ crs:'EAD',name:'Earlsfield',lat:51.442,lon:-.188446,display:!0 },{ crs:'EAG',name:'Eaglescliffe',lat:54.5294,lon:-1.34944,display:!0 },{ crs:'EAL',name:'Ealing Broadway',lat:51.5148,lon:-.301752,display:!0 },{ crs:'EAR',name:'Earley',lat:51.4411,lon:-.917992,display:!0 },{ crs:'EBA',name:'Euxton Balshaw Lane',lat:53.6701,lon:-2.67502,display:!0 },{ crs:'EBB',name:'Ebbw Vale Town',lat:51.7773,lon:-3.20229,display:!0 },{ crs:'EBD',name:'Ebbsfleet International',lat:51.4429,lon:.321002,display:!0 },{ crs:'EBK',name:'Eastbrook',lat:51.4376,lon:-3.20615,display:!0 },{ crs:'EBN',name:'Eastbourne',lat:50.7694,lon:.281258,display:!0 },{ crs:'EBR',name:'Edenbridge(Kent)',lat:51.2084,lon:.060654,display:!0 },{ crs:'EBT',name:'Edenbridge Town',lat:51.2001,lon:.0671809,display:!0 },{ crs:'EBV',name:'Ebbw Vale Parkway',lat:51.7571,lon:-3.19611,display:!0 },{ crs:'ECC',name:'Eccles (Manchester)',lat:53.4854,lon:-2.33452,display:!0 },{ crs:'ECL',name:'Eccleston Park',lat:53.4308,lon:-2.78004,display:!0 },{ crs:'ECP',name:'Energlyn & Churchill Park',lat:51.5838,lon:-3.22973,display:!0 },{ crs:'ECR',name:'East Croydon',lat:51.375,lon:-.0922765,display:!0 },{ crs:'ECS',name:'Eccles Road',lat:52.4709,lon:.969929,display:!0 },{ crs:'EDB',name:'Edinburgh',lat:55.9524,lon:-3.18822,display:!0 },{ crs:'EDG',name:'Edge Hill',lat:53.4026,lon:-2.94649,display:!0 },{ crs:'EDL',name:'Edale',lat:53.3648,lon:-1.81633,display:!0 },{ crs:'EDN',name:'Eden Park',lat:51.3908,lon:-.026605,display:!0 },{ crs:'EDP',name:'Edinburgh Park',lat:55.9275,lon:-3.30766,display:!0 },{ crs:'EDR',name:'Edmonton Green',lat:51.6249,lon:-.0611055,display:!0 },{ crs:'EDW',name:'East Dulwich',lat:51.4613,lon:-.0807177,display:!0 },{ crs:'EDY',name:'East Didsbury',lat:53.4093,lon:-2.222,display:!0 },{ crs:'EFF',name:'Effingham Junction',lat:51.2915,lon:-.419956,display:!0 },{ crs:'EFL',name:'East Farleigh',lat:51.2552,lon:.484735,display:!0 },{ crs:'EGF',name:'East Garforth',lat:53.7921,lon:-1.37031,display:!0 },{ crs:'EGG',name:'Eggesford',lat:50.8877,lon:-3.87478,display:!0 },{ crs:'EGH',name:'Egham',lat:51.4296,lon:-.546506,display:!0 },{ crs:'EGN',name:'Eastrington',lat:53.7552,lon:-.787633,display:!0 },{ crs:'EGR',name:'East Grinstead',lat:51.1263,lon:-.017895,display:!0 },{ crs:'EGT',name:'Egton',lat:54.4377,lon:-.76192,display:!0 },{ crs:'EGY',name:'Edinburgh Gateway',lat:55.941,lon:-3.32,display:!0 },{ crs:'EKB',name:'Eskbank',lat:55.8838,lon:-3.03144,display:!0 },{ crs:'EKL',name:'East Kilbride',lat:55.766,lon:-4.18022,display:!0 },{ crs:'ELD',name:'Earlswood (Surrey)',lat:51.2273,lon:-.170822,display:!0 },{ crs:'ELE',name:'Elmers End',lat:51.3983,lon:-.0494288,display:!0 },{ crs:'ELG',name:'Elgin',lat:57.6429,lon:-3.31125,display:!0 },{ crs:'ELO',name:'Elton & Orston',lat:52.9519,lon:-.855364,display:!0 },{ crs:'ELP',name:'Ellesmere Port',lat:53.2822,lon:-2.89643,display:!0 },{ crs:'ELR',name:'Elsecar',lat:53.4987,lon:-1.42742,display:!0 },{ crs:'ELS',name:'Elstree & Borehamwood',lat:51.6529,lon:-.2798,display:!0 },{ crs:'ELW',name:'Eltham',lat:51.4557,lon:.0523376,display:!0 },{ crs:'ELY',name:'Ely',lat:52.3913,lon:.266834,display:!0 },{ crs:'EMD',name:'East Midlands Parkway',lat:52.8643,lon:-1.26469,display:!0 },{ crs:'EML',name:'East Malling',lat:51.2858,lon:.439285,display:!0 },{ crs:'EMP',name:'Emerson Park',lat:51.569,lon:.220648,display:!0 },{ crs:'EMS',name:'Emsworth',lat:50.8514,lon:-.938784,display:!0 },{ crs:'ENC',name:'Enfield Chase',lat:51.6528,lon:-.09071,display:!0 },{ crs:'ENF',name:'Enfield Town',lat:51.6518,lon:-.0774506,display:!0 },{ crs:'ENL',name:'Enfield Lock',lat:51.6709,lon:-.0283383,display:!0 },{ crs:'ENT',name:'Entwistle',lat:53.656,lon:-2.41455,display:!0 },{ crs:'EPD',name:'Epsom Downs',lat:51.3237,lon:-.238955,display:!0 },{ crs:'EPH',name:'Elephant & Castle',lat:51.4941,lon:-.09951,display:!0 },{ crs:'EPS',name:'Epsom (Surrey)',lat:51.3344,lon:-.268778,display:!0 },{ crs:'ERA',name:'Eastham Rake',lat:53.3076,lon:-2.98117,display:!0 },{ crs:'ERD',name:'Erdington',lat:52.5285,lon:-1.83928,display:!0 },{ crs:'ERH',name:'Erith',lat:51.4817,lon:.174635,display:!0 },{ crs:'ERI',name:'Eridge',lat:51.089,lon:.201443,display:!0 },{ crs:'ERL',name:'Earlestown',lat:53.4511,lon:-2.63766,display:!0 },{ crs:'ESD',name:'Elmstead Woods',lat:51.4171,lon:.0442827,display:!0 },{ crs:'ESH',name:'Esher',lat:51.3799,lon:-.353326,display:!0 },{ crs:'ESL',name:'Eastleigh',lat:50.9692,lon:-1.35009,display:!0 },{ crs:'ESM',name:'Elsenham (Essex)',lat:51.9206,lon:.228072,display:!0 },{ crs:'EST',name:'Easterhouse',lat:55.8597,lon:-4.10716,display:!0 },{ crs:'ESW',name:'Elmswell',lat:52.2381,lon:.912598,display:!0 },{ crs:'ETC',name:'Etchingham',lat:51.0105,lon:.442374,display:!0 },{ crs:'ETL',name:'East Tilbury',lat:51.4848,lon:.412933,display:!0 },{ crs:'EUS',name:'London Euston',lat:51.5284,lon:-.134558,display:!0 },{ crs:'EVE',name:'Evesham',lat:52.0984,lon:-1.94731,display:!0 },{ crs:'EWD',name:'Earlswood (West Midlands)',lat:52.3666,lon:-1.86117,display:!0 },{ crs:'EWE',name:'Ewell East',lat:51.3453,lon:-.241529,display:!0 },{ crs:'EWR',name:'East Worthing',lat:50.8216,lon:-.354885,display:!0 },{ crs:'EWW',name:'Ewell West',lat:51.35,lon:-.256987,display:!0 },{ crs:'EXC',name:'Exeter Central',lat:50.7265,lon:-3.53295,display:!0 },{ crs:'EXD',name:'Exeter St David\'s',lat:50.7292,lon:-3.54366,display:!0 },{ crs:'EXG',name:'Exhibition Centre (Glasgow)',lat:55.8615,lon:-4.28358,display:!0 },{ crs:'EXM',name:'Exmouth',lat:50.6216,lon:-3.41499,display:!0 },{ crs:'EXN',name:'Exton',lat:50.6683,lon:-3.44412,display:!0 },{ crs:'EXR',name:'Essex Road',lat:51.5407,lon:-.09627,display:!0 },{ crs:'EXT',name:'Exeter St Thomas',lat:50.7166,lon:-3.53982,display:!0 },{ crs:'EYN',name:'Eynsford',lat:51.3627,lon:.204406,display:!0 },{ crs:'FAL',name:'Falmouth Docks',lat:50.1507,lon:-5.05608,display:!0 },{ crs:'FAV',name:'Faversham',lat:51.3117,lon:.891062,display:!0 },{ crs:'FAZ',name:'Fazakerley',lat:53.4688,lon:-2.93546,display:!0 },{ crs:'FBY',name:'Formby',lat:53.5535,lon:-3.07092,display:!0 },{ crs:'FCN',name:'Falconwood',lat:51.4591,lon:.0785508,display:!0 },{ crs:'FEA',name:'Featherstone',lat:53.6787,lon:-1.35944,display:!0 },{ crs:'FEL',name:'Feltham',lat:51.4479,lon:-.409828,display:!0 },{ crs:'FEN',name:'Fenny Stratford',lat:51.9999,lon:-.717673,display:!0 },{ crs:'FER',name:'Fernhill',lat:51.6865,lon:-3.3959,display:!0 },{ crs:'FFA',name:'Ffairfach',lat:51.8725,lon:-3.99289,display:!0 },{ crs:'FFD',name:'Freshford',lat:51.342,lon:-2.30102,display:!0 },{ crs:'FGH',name:'Fishguard Harbour',lat:52.0116,lon:-4.98567,display:!0 },{ crs:'FGT',name:'Faygate',lat:51.0959,lon:-.263021,display:!0 },{ crs:'FGW',name:'Fishguard & Goodwick',lat:52.0041,lon:-4.99484,display:!0 },{ crs:'FIL',name:'Filey',lat:54.2099,lon:-.29385,display:!0 },{ crs:'FIN',name:'Finstock',lat:51.8528,lon:-1.46935,display:!0 },{ crs:'FIT',name:'Filton Abbey Wood',lat:51.5049,lon:-2.56244,display:!0 },{ crs:'FKC',name:'Folkestone Central',lat:51.0829,lon:1.16949,display:!0 },{ crs:'FKG',name:'Falkirk Grahamston',lat:56.0026,lon:-3.78504,display:!0 },{ crs:'FKK',name:'Falkirk High',lat:55.9918,lon:-3.79224,display:!0 },{ crs:'FKW',name:'Folkestone West',lat:51.0846,lon:1.15391,display:!0 },{ crs:'FLD',name:'Fauldhouse',lat:55.8225,lon:-3.71931,display:!0 },{ crs:'FLE',name:'Fleet',lat:51.2906,lon:-.830808,display:!0 },{ crs:'FLF',name:'Flowery Field',lat:53.4616,lon:-2.08084,display:!0 },{ crs:'FLI',name:'Flixton',lat:53.444,lon:-2.38388,display:!0 },{ crs:'FLM',name:'Flimby',lat:54.6897,lon:-3.52105,display:!0 },{ crs:'FLN',name:'Flint',lat:53.2495,lon:-3.13301,display:!0 },{ crs:'FLT',name:'Flitwick',lat:52.0037,lon:-.49526,display:!0 },{ crs:'FLW',name:'Fulwell',lat:51.4339,lon:-.34947,display:!0 },{ crs:'FLX',name:'Felixstowe',lat:51.9671,lon:1.35046,display:!0 },{ crs:'FML',name:'Frimley',lat:51.3119,lon:-.746991,display:!0 },{ crs:'FMR',name:'Falmer',lat:50.8621,lon:-.0873836,display:!0 },{ crs:'FMT',name:'Falmouth Town',lat:50.1484,lon:-5.06527,display:!0 },{ crs:'FNB',name:'Farnborough (Main)',lat:51.2966,lon:-.755726,display:!0 },{ crs:'FNC',name:'Farncombe',lat:51.1972,lon:-.604545,display:!0 },{ crs:'FNH',name:'Farnham',lat:51.2119,lon:-.792429,display:!0 },{ crs:'FNN',name:'Farnborough North',lat:51.302,lon:-.743027,display:!0 },{ crs:'FNR',name:'Farningham Road',lat:51.4014,lon:.235525,display:!0 },{ crs:'FNT',name:'Feniton',lat:50.7864,lon:-3.28536,display:!0 },{ crs:'FNV',name:'Furness Vale',lat:53.3488,lon:-1.98884,display:!0 },{ crs:'FNW',name:'Farnworth',lat:53.55,lon:-2.38785,display:!0 },{ crs:'FNY',name:'Finchley Road & Frognal',lat:51.5503,lon:-.183138,display:!0 },{ crs:'FOC',name:'Falls of Cruachan',lat:56.3939,lon:-5.11246,display:!0 },{ crs:'FOD',name:'Ford',lat:50.8296,lon:-.578616,display:!0 },{ crs:'FOG',name:'Forest Gate',lat:51.5494,lon:.0243617,display:!0 },{ crs:'FOH',name:'Forest Hill',lat:51.4389,lon:-.0533101,display:!0 },{ crs:'FOK',name:'Four Oaks',lat:52.5798,lon:-1.82804,display:!0 },{ crs:'FOR',name:'Forres',lat:57.6098,lon:-3.62596,display:!0 },{ crs:'FOX',name:'Foxfield',lat:54.2588,lon:-3.21607,display:!0 },{ crs:'FPK',name:'Finsbury Park',lat:51.5648,lon:-.10565,display:!0 },{ crs:'FRB',name:'Fairbourne',lat:52.6961,lon:-4.04943,display:!0 },{ crs:'FRD',name:'Frodsham',lat:53.2959,lon:-2.72312,display:!0 },{ crs:'FRE',name:'Freshfield',lat:53.5661,lon:-3.07184,display:!0 },{ crs:'FRF',name:'Fairfield',lat:53.4715,lon:-2.14458,display:!0 },{ crs:'FRI',name:'Frinton-on-Sea',lat:51.8377,lon:1.24319,display:!0 },{ crs:'FRL',name:'Fairlie',lat:55.7519,lon:-4.85326,display:!0 },{ crs:'FRM',name:'Fareham',lat:50.853,lon:-1.19204,display:!0 },{ crs:'FRN',name:'Fearn',lat:57.7781,lon:-3.99373,display:!0 },{ crs:'FRO',name:'Frome',lat:51.2273,lon:-2.31001,display:!0 },{ crs:'FRS',name:'Forsinard',lat:58.3569,lon:-3.89689,display:!0 },{ crs:'FRT',name:'Frant',lat:51.104,lon:.294557,display:!0 },{ crs:'FRW',name:'Fairwater',lat:51.4939,lon:-3.23385,display:!0 },{ crs:'FRY',name:'Ferriby',lat:53.7172,lon:-.507825,display:!0 },{ crs:'FSB',name:'Fishbourne (Sussex)',lat:50.839,lon:-.815089,display:!0 },{ crs:'FSG',name:'Fishersgate',lat:50.8342,lon:-.219411,display:!0 },{ crs:'FSK',name:'Fiskerton',lat:53.0603,lon:-.912182,display:!0 },{ crs:'FST',name:'London Fenchurch Street',lat:51.5116,lon:-.0785916,display:!0 },{ crs:'FTM',name:'Fort Matilda',lat:55.959,lon:-4.79526,display:!0 },{ crs:'FTN',name:'Fratton',lat:50.7963,lon:-1.07398,display:!0 },{ crs:'FTW',name:'Fort William',lat:56.8204,lon:-5.10613,display:!0 },{ crs:'FWY',name:'Five Ways',lat:52.4711,lon:-1.91295,display:!0 },{ crs:'FXN',name:'Foxton',lat:52.1191,lon:.056536,display:!0 },{ crs:'FYS',name:'Ferryside',lat:51.7684,lon:-4.36949,display:!0 },{ crs:'FZH',name:'Frizinghall',lat:53.8195,lon:-1.76863,display:!0 },{ crs:'FZP',name:'Furze Platt',lat:51.533,lon:-.728471,display:!0 },{ crs:'FZW',name:'Fitzwilliam',lat:53.6325,lon:-1.3736,display:!0 },{ crs:'GAL',name:'Galashiels',lat:55.6178,lon:-2.8064,display:!0 },{ crs:'GAR',name:'Garrowhill',lat:55.8552,lon:-4.12945,display:!0 },{ crs:'GBD',name:'Gilberdyke',lat:53.748,lon:-.732244,display:!0 },{ crs:'GBG',name:'Gorebridge',lat:55.8398,lon:-3.04746,display:!0 },{ crs:'GBK',name:'Greenbank',lat:53.2516,lon:-2.53307,display:!0 },{ crs:'GBL',name:'Gainsborough Lea Road',lat:53.3861,lon:-.768583,display:!0 },{ crs:'GBS',name:'Goring-by-Sea',lat:50.8177,lon:-.433077,display:!0 },{ crs:'GCH',name:'Garelochhead',lat:56.0798,lon:-4.82571,display:!0 },{ crs:'GCR',name:'Gloucester',lat:51.8654,lon:-2.23866,display:!0 },{ crs:'GCT',name:'Great Coates',lat:53.5758,lon:-.13023,display:!0 },{ crs:'GCW',name:'Glan Conwy',lat:53.2674,lon:-3.79774,display:!0 },{ crs:'GDH',name:'Gordon Hill',lat:51.6635,lon:-.09431,display:!0 },{ crs:'GDL',name:'Godley',lat:53.4517,lon:-2.05477,display:!0 },{ crs:'GDN',name:'Godstone',lat:51.2182,lon:-.0500803,display:!0 },{ crs:'GDP',name:'Gidea Park',lat:51.5819,lon:.205979,display:!0 },{ crs:'GEA',name:'Gretna Green',lat:55.0019,lon:-3.06459,display:!0 },{ crs:'GER',name:'Gerrards Cross',lat:51.589,lon:-.555268,display:!0 },{ crs:'GFD',name:'Greenford',lat:51.5423,lon:-.344542,display:!0 },{ crs:'GFF',name:'Gilfach Fargoed',lat:51.6842,lon:-3.22658,display:!0 },{ crs:'GFN',name:'Giffnock',lat:55.804,lon:-4.29357,display:!0 },{ crs:'GGJ',name:'Georgemas Junction',lat:58.5136,lon:-3.45213,display:!0 },{ crs:'GGV',name:'Gargrave',lat:53.9784,lon:-2.10516,display:!0 },{ crs:'GIG',name:'Giggleswick',lat:54.0617,lon:-2.30399,display:!0 },{ crs:'GIL',name:'Gillingham (Dorset)',lat:51.034,lon:-2.27264,display:!0 },{ crs:'GIP',name:'Gipsy Hill',lat:51.4245,lon:-.0838308,display:!0 },{ crs:'GIR',name:'Girvan',lat:55.2463,lon:-4.84838,display:!0 },{ crs:'GKC',name:'Greenock Central',lat:55.9453,lon:-4.75262,display:!0 },{ crs:'GKW',name:'Greenock West',lat:55.9473,lon:-4.76782,display:!0 },{ crs:'GLC',name:'Glasgow Central',lat:55.8597,lon:-4.25764,display:!0 },{ crs:'GLD',name:'Guildford',lat:51.237,lon:-.580421,display:!0 },{ crs:'GLE',name:'Gleneagles',lat:56.2748,lon:-3.73116,display:!0 },{ crs:'GLF',name:'Glenfinnan',lat:56.8724,lon:-5.44962,display:!0 },{ crs:'GLG',name:'Glengarnock',lat:55.7389,lon:-4.67449,display:!0 },{ crs:'GLH',name:'Glasshoughton',lat:53.7092,lon:-1.34185,display:!0 },{ crs:'GLM',name:'Gillingham (Kent)',lat:51.3867,lon:.550514,display:!0 },{ crs:'GLO',name:'Glossop',lat:53.4445,lon:-1.94908,display:!0 },{ crs:'GLQ',name:'Glasgow Queen Street',lat:55.8623,lon:-4.25066,display:!0 },{ crs:'GLS',name:'Glaisdale',lat:54.4394,lon:-.793939,display:!0 },{ crs:'GLT',name:'Glenrothes with Thornton',lat:56.1623,lon:-3.14301,display:!0 },{ crs:'GLY',name:'Glynde',lat:50.8592,lon:.0700836,display:!0 },{ crs:'GLZ',name:'Glazebrook',lat:53.4284,lon:-2.46049,display:!0 },{ crs:'GMB',name:'Grimsby Town',lat:53.5641,lon:-.0869517,display:!0 },{ crs:'GMD',name:'Grimsby Docks',lat:53.5743,lon:-.075615,display:!0 },{ crs:'GMG',name:'Garth (Mid Glamorgan)',lat:51.5965,lon:-3.64147,display:!0 },{ crs:'GMN',name:'Great Missenden',lat:51.7035,lon:-.709138,display:!0 },{ crs:'GMT',name:'Grosmont',lat:54.4361,lon:-.724963,display:!0 },{ crs:'GMV',name:'Great Malvern',lat:52.1092,lon:-2.31828,display:!0 },{ crs:'GMY',name:'Goodmayes',lat:51.5662,lon:.111713,display:!0 },{ crs:'GNB',name:'Gainsborough Central',lat:53.3996,lon:-.769698,display:!0 },{ crs:'GNF',name:'Greenfield',lat:53.5391,lon:-2.01444,display:!0 },{ crs:'GNH',name:'Greenhithe for Bluewater',lat:51.4508,lon:.278857,display:!0 },{ crs:'GNL',name:'Green Lane',lat:53.3833,lon:-3.01642,display:!0 },{ crs:'GNR',name:'Green Road',lat:54.2445,lon:-3.24558,display:!0 },{ crs:'GNT',name:'Gunton',lat:52.8661,lon:1.34877,display:!0 },{ crs:'GNW',name:'Greenwich',lat:51.4778,lon:-.0142096,display:!0 },{ crs:'GOB',name:'Gobowen',lat:52.8935,lon:-3.036,display:!0 },{ crs:'GOD',name:'Godalming',lat:51.1866,lon:-.618859,display:!0 },{ crs:'GOE',name:'Goldthorpe',lat:53.5334,lon:-1.3135,display:!0 },{ crs:'GOF',name:'Golf Street',lat:56.4978,lon:-2.71954,display:!0 },{ crs:'GOL',name:'Golspie',lat:57.9715,lon:-3.98688,display:!0 },{ crs:'GOM',name:'Gomshall',lat:51.2195,lon:-.442056,display:!0 },{ crs:'GOO',name:'Goole',lat:53.7049,lon:-.874219,display:!0 },{ crs:'GOR',name:'Goring & Streatley',lat:51.5215,lon:-1.13304,display:!0 },{ crs:'GOS',name:'Grange-over-Sands',lat:54.1953,lon:-2.90274,display:!0 },{ crs:'GOX',name:'Goxhill',lat:53.6767,lon:-.337125,display:!0 },{ crs:'GPK',name:'Grange Park',lat:51.6426,lon:-.09735,display:!0 },{ crs:'GPO',name:'Gospel Oak',lat:51.5553,lon:-.150766,display:!0 },{ crs:'GRA',name:'Grantham',lat:52.9065,lon:-.642453,display:!0 },{ crs:'GRB',name:'Great Bentley',lat:51.8518,lon:1.06516,display:!0 },{ crs:'GRC',name:'Great Chesterford',lat:52.0598,lon:.193523,display:!0 },{ crs:'GRF',name:'Garforth',lat:53.7962,lon:-1.38209,display:!0 },{ crs:'GRH',name:'Gartcosh',lat:55.8856,lon:-4.07948,display:!0 },{ crs:'GRK',name:'Gourock',lat:55.9623,lon:-4.81665,display:!0 },{ crs:'GRL',name:'Greenfaulds',lat:55.9349,lon:-3.9937,display:!0 },{ crs:'GRN',name:'Grindleford',lat:53.3056,lon:-1.6263,display:!0 },{ crs:'GRP',name:'Grove Park',lat:51.4304,lon:.0225783,display:!0 },{ crs:'GRS',name:'Garscadden',lat:55.8877,lon:-4.365,display:!0 },{ crs:'GRT',name:'Grateley',lat:51.1701,lon:-1.62078,display:!0 },{ crs:'GRV',name:'Gravesend',lat:51.4413,lon:.366646,display:!0 },{ crs:'GRY',name:'Grays',lat:51.4762,lon:.321835,display:!0 },{ crs:'GSC',name:'Gilshochill',lat:55.8973,lon:-4.282,display:!0 },{ crs:'GSD',name:'Garsdale',lat:54.3214,lon:-2.32589,display:!0 },{ crs:'GSL',name:'Gunnislake',lat:50.5161,lon:-4.21945,display:!0 },{ crs:'GSN',name:'Garston (Hertfordshire)',lat:51.6867,lon:-.381667,display:!0 },{ crs:'GST',name:'Gathurst',lat:53.5594,lon:-2.69439,display:!0 },{ crs:'GSW',name:'Garswood',lat:53.4885,lon:-2.67213,display:!0 },{ crs:'GSY',name:'Guiseley',lat:53.8759,lon:-1.71508,display:!0 },{ crs:'GTA',name:'Great Ayton',lat:54.4893,lon:-1.11636,display:!0 },{ crs:'GTH',name:'Garth (Powys)',lat:52.1332,lon:-3.52992,display:!0 },{ crs:'GTN',name:'Grangetown (Cardiff)',lat:51.467,lon:-3.18907,display:!0 },{ crs:'GTO',name:'Gorton',lat:53.4687,lon:-2.16717,display:!0 },{ crs:'GTR',name:'Goostrey',lat:53.2226,lon:-2.32647,display:!0 },{ crs:'GTW',name:'Gatwick Airport',lat:51.1565,lon:-.16104,display:!0 },{ crs:'GTY',name:'Gatley',lat:53.3933,lon:-2.23064,display:!0 },{ crs:'GUI',name:'Guide Bridge',lat:53.4746,lon:-2.11371,display:!0 },{ crs:'GUN',name:'Gunnersbury',lat:51.4919,lon:-.275783,display:!0 },{ crs:'GVE',name:'Garve',lat:57.613,lon:-4.6884,display:!0 },{ crs:'GVH',name:'Gravelly Hill',lat:52.515,lon:-1.85259,display:!0 },{ crs:'GWE',name:'Gwersyllt',lat:53.0726,lon:-3.0179,display:!0 },{ crs:'GWN',name:'Gowerton',lat:51.6487,lon:-4.03597,display:!0 },{ crs:'GYM',name:'Great Yarmouth',lat:52.6122,lon:1.72091,display:!0 },{ crs:'GYP',name:'Gypsy Lane',lat:54.5329,lon:-1.17939,display:!0 },{ crs:'HAB',name:'Habrough',lat:53.6055,lon:-.267976,display:!0 },{ crs:'HAC',name:'Hackney Downs',lat:51.5488,lon:-.0601639,display:!0 },{ crs:'HAD',name:'Haddiscoe',lat:52.5289,lon:1.62241,display:!0 },{ crs:'HAF',name:'Heathrow Terminal 4 (Rail Station Only)',lat:51.4583,lon:-.445454,display:!0 },{ crs:'HAG',name:'Hagley',lat:52.4224,lon:-2.14701,display:!0 },{ crs:'HAI',name:'Halling',lat:51.3525,lon:.444937,display:!0 },{ crs:'HAL',name:'Hale (Manchester)',lat:53.3787,lon:-2.34736,display:!0 },{ crs:'HAM',name:'Hamworthy',lat:50.7252,lon:-2.01937,display:!0 },{ crs:'HAN',name:'Hanwell',lat:51.5119,lon:-.338726,display:!0 },{ crs:'HAP',name:'Hatfield Peverel',lat:51.7799,lon:.592136,display:!0 },{ crs:'HAS',name:'Halesworth',lat:52.3467,lon:1.5057,display:!0 },{ crs:'HAT',name:'Hatfield (Herts)',lat:51.7639,lon:-.21559,display:!0 },{ crs:'HAV',name:'Havant',lat:50.8544,lon:-.981606,display:!0 },{ crs:'HAY',name:'Hayes & Harlington',lat:51.5031,lon:-.420673,display:!0 },{ crs:'HAZ',name:'Hazel Grove',lat:53.3776,lon:-2.12202,display:!0 },{ crs:'HBB',name:'Hubberts Bridge',lat:52.9756,lon:-.110072,display:!0 },{ crs:'HBD',name:'Hebden Bridge',lat:53.7376,lon:-2.00907,display:!0 },{ crs:'HBN',name:'Hollingbourne',lat:51.2652,lon:.627858,display:!0 },{ crs:'HBP',name:'Hornbeam Park',lat:53.9799,lon:-1.52683,display:!0 },{ crs:'HBY',name:'Hartlebury',lat:52.3345,lon:-2.22069,display:!0 },{ crs:'HCB',name:'Hackbridge',lat:51.3779,lon:-.153905,display:!0 },{ crs:'HCH',name:'Holmes Chapel',lat:53.199,lon:-2.35115,display:!0 },{ crs:'HCN',name:'Headcorn',lat:51.1657,lon:.627491,display:!0 },{ crs:'HCT',name:'Huncoat',lat:53.7722,lon:-2.3459,display:!0 },{ crs:'HDB',name:'Haydon Bridge',lat:54.9749,lon:-2.2479,display:!0 },{ crs:'HDE',name:'Hedge End',lat:50.9323,lon:-1.29451,display:!0 },{ crs:'HDF',name:'Hadfield',lat:53.4608,lon:-1.96533,display:!0 },{ crs:'HDG',name:'Heald Green',lat:53.3697,lon:-2.23742,display:!0 },{ crs:'HDH',name:'Hampstead Heath',lat:51.5558,lon:-.165172,display:!0 },{ crs:'HDL',name:'Headstone Lane',lat:51.6027,lon:-.356785,display:!0 },{ crs:'HDM',name:'Haddenham & Thame Parkway',lat:51.7709,lon:-.94214,display:!0 },{ crs:'HDN',name:'Harlesden',lat:51.5366,lon:-.258233,display:!0 },{ crs:'HDW',name:'Hadley Wood',lat:51.6684,lon:-.17653,display:!0 },{ crs:'HDY',name:'Headingley',lat:53.8182,lon:-1.59365,display:!0 },{ crs:'HEC',name:'Heckington',lat:52.9773,lon:-.293937,display:!0 },{ crs:'HED',name:'Halewood',lat:53.3653,lon:-2.82498,display:!0 },{ crs:'HEI',name:'Heighington',lat:54.597,lon:-1.58208,display:!0 },{ crs:'HEL',name:'Hensall',lat:53.6986,lon:-1.11452,display:!0 },{ crs:'HEN',name:'Hendon',lat:51.5801,lon:-.23867,display:!0 },{ crs:'HER',name:'Hersham',lat:51.377,lon:-.389799,display:!0 },{ crs:'HES',name:'Hessle',lat:53.7176,lon:-.442189,display:!0 },{ crs:'HEV',name:'Hever',lat:51.1814,lon:.0950779,display:!0 },{ crs:'HEW',name:'Heworth',lat:54.9516,lon:-1.55577,display:!0 },{ crs:'HEX',name:'Hexham',lat:54.9742,lon:-2.09527,display:!0 },{ crs:'HFD',name:'Hereford',lat:52.0612,lon:-2.70822,display:!0 },{ crs:'HFE',name:'Hertford East',lat:51.799,lon:-.0729341,display:!0 },{ crs:'HFN',name:'Hertford North',lat:51.7989,lon:-.09178,display:!0 },{ crs:'HFS',name:'Hatfield & Stainforth',lat:53.5889,lon:-1.02405,display:!0 },{ crs:'HFX',name:'Halifax',lat:53.7204,lon:-1.85449,display:!0 },{ crs:'HGD',name:'Hungerford',lat:51.4149,lon:-1.51229,display:!0 },{ crs:'HGF',name:'Hag Fold',lat:53.5339,lon:-2.49483,display:!0 },{ crs:'HGG',name:'Haggerston',lat:51.5391,lon:-.076443,display:!0 },{ crs:'HGM',name:'Higham',lat:51.4266,lon:.466284,display:!0 },{ crs:'HGN',name:'Hough Green',lat:53.3724,lon:-2.77507,display:!0 },{ crs:'HGR',name:'Hither Green',lat:51.4524,lon:-918992e-9,display:!0 },{ crs:'HGS',name:'Hastings',lat:50.8576,lon:.576461,display:!0 },{ crs:'HGT',name:'Harrogate',lat:53.9932,lon:-1.53762,display:!0 },{ crs:'HGY',name:'Harringay',lat:51.5774,lon:-.10513,display:!0 },{ crs:'HHB',name:'Heysham Port',lat:54.0332,lon:-2.91312,display:!0 },{ crs:'HHD',name:'Holyhead',lat:53.3077,lon:-4.63101,display:!0 },{ crs:'HHE',name:'Haywards Heath',lat:51.0053,lon:-.105307,display:!0 },{ crs:'HHL',name:'Heath High Level',lat:51.5166,lon:-3.18171,display:!0 },{ crs:'HHY',name:'Highbury & Islington',lat:51.5467,lon:-.102077,display:!0 },{ crs:'HIA',name:'Hampton-in-Arden',lat:52.4291,lon:-1.69994,display:!0 },{ crs:'HIB',name:'High Brooms',lat:51.1494,lon:.277346,display:!0 },{ crs:'HID',name:'Hall-i\'-th\'-Wood',lat:53.5976,lon:-2.41398,display:!0 },{ crs:'HIG',name:'Highbridge & Burnham',lat:51.2182,lon:-2.97217,display:!0 },{ crs:'HIL',name:'Hillside',lat:53.6221,lon:-3.02472,display:!0 },{ crs:'HIN',name:'Hindley',lat:53.5423,lon:-2.5755,display:!0 },{ crs:'HIP',name:'Highams Park',lat:51.6089,lon:170835e-9,display:!0 },{ crs:'HIR',name:'Horton-in-Ribblesdale',lat:54.1494,lon:-2.30203,display:!0 },{ crs:'HIT',name:'Hitchin',lat:51.9533,lon:-.26348,display:!0 },{ crs:'HKC',name:'Hackney Central',lat:51.5469,lon:-.0559164,display:!0 },{ crs:'HKH',name:'Hawkhead',lat:55.8422,lon:-4.39885,display:!0 },{ crs:'HKM',name:'Hykeham',lat:53.1954,lon:-.598164,display:!0 },{ crs:'HKN',name:'Hucknall',lat:53.0383,lon:-1.19581,display:!0 },{ crs:'HKW',name:'Hackney Wick',lat:51.5437,lon:-.0257662,display:!0 },{ crs:'HLB',name:'Hildenborough',lat:51.2145,lon:.227602,display:!0 },{ crs:'HLC',name:'Helensburgh Central',lat:56.0042,lon:-4.73275,display:!0 },{ crs:'HLD',name:'Hellifield',lat:54.0109,lon:-2.22784,display:!0 },{ crs:'HLE',name:'Hillington East',lat:55.8547,lon:-4.35472,display:!0 },{ crs:'HLF',name:'Hillfoot',lat:55.9201,lon:-4.32027,display:!0 },{ crs:'HLG',name:'Hall Green',lat:52.4368,lon:-1.8455,display:!0 },{ crs:'HLI',name:'Healing',lat:53.5818,lon:-.16063,display:!0 },{ crs:'HLL',name:'Heath Low Level',lat:51.5157,lon:-3.18198,display:!0 },{ crs:'HLM',name:'Holmwood',lat:51.181,lon:-.321091,display:!0 },{ crs:'HLN',name:'Harlington (Bedfordshire)',lat:51.9621,lon:-.49568,display:!0 },{ crs:'HLR',name:'Hall Road',lat:53.4984,lon:-3.05068,display:!0 },{ crs:'HLS',name:'Hilsea',lat:50.8281,lon:-1.05858,display:!0 },{ crs:'HLU',name:'Helensburgh Upper',lat:56.0123,lon:-4.72979,display:!0 },{ crs:'HLW',name:'Hillington West',lat:55.856,lon:-4.37158,display:!0 },{ crs:'HLY',name:'Holytown',lat:55.8129,lon:-3.97391,display:!0 },{ crs:'HMC',name:'Hampton Court',lat:51.4026,lon:-.34275,display:!0 },{ crs:'HMD',name:'Hampden Park (Sussex)',lat:50.7964,lon:.279367,display:!0 },{ crs:'HME',name:'Hamble',lat:50.8714,lon:-1.32917,display:!0 },{ crs:'HML',name:'Hemel Hempstead',lat:51.7423,lon:-.490764,display:!0 },{ crs:'HMM',name:'Hammerton',lat:53.9961,lon:-1.28303,display:!0 },{ crs:'HMN',name:'Homerton',lat:51.5466,lon:-.0386209,display:!0 },{ crs:'HMP',name:'Hampton (London)',lat:51.4159,lon:-.372109,display:!0 },{ crs:'HMS',name:'Helmsdale',lat:58.1177,lon:-3.65905,display:!0 },{ crs:'HMT',name:'Ham Street',lat:51.0684,lon:.854522,display:!0 },{ crs:'HMW',name:'Hampton Wick',lat:51.4145,lon:-.312491,display:!0 },{ crs:'HMY',name:'Hairmyres',lat:55.762,lon:-4.22,display:!0 },{ crs:'HNA',name:'Hinton Admiral',lat:50.7526,lon:-1.71413,display:!0 },{ crs:'HNB',name:'Herne Bay',lat:51.3646,lon:1.11774,display:!0 },{ crs:'HNC',name:'Hamilton Central',lat:55.7732,lon:-4.03887,display:!0 },{ crs:'HND',name:'Hanborough',lat:51.8252,lon:-1.37353,display:!0 },{ crs:'HNF',name:'Hednesford',lat:52.7097,lon:-2.00232,display:!0 },{ crs:'HNG',name:'Hengoed',lat:51.6474,lon:-3.22414,display:!0 },{ crs:'HNH',name:'Herne Hill',lat:51.4532,lon:-.101641,display:!0 },{ crs:'HNK',name:'Hinckley (Leics)',lat:52.535,lon:-1.37192,display:!0 },{ crs:'HNL',name:'Henley-in-Arden',lat:52.291,lon:-1.78444,display:!0 },{ crs:'HNT',name:'Huntly',lat:57.4443,lon:-2.77636,display:!0 },{ crs:'HNW',name:'Hamilton West',lat:55.779,lon:-4.05416,display:!0 },{ crs:'HNX',name:'Hunts Cross',lat:53.3606,lon:-2.85495,display:!0 },{ crs:'HOC',name:'Hockley',lat:51.6036,lon:.659014,display:!0 },{ crs:'HOH',name:'Harrow-on-the-Hill',lat:51.5791,lon:-.33599,display:!0 },{ crs:'HOK',name:'Hook',lat:51.28,lon:-.961642,display:!0 },{ crs:'HOL',name:'Holton Heath',lat:50.7114,lon:-2.07786,display:!0 },{ crs:'HON',name:'Honiton',lat:50.7966,lon:-3.18675,display:!0 },{ crs:'HOO',name:'Hooton',lat:53.2972,lon:-2.97702,display:!0 },{ crs:'HOP',name:'Hope (Derbyshire)',lat:53.3459,lon:-1.72854,display:!0 },{ crs:'HOR',name:'Horley',lat:51.1688,lon:-.161052,display:!0 },{ crs:'HOT',name:'Henley-on-Thames',lat:51.5342,lon:-.900215,display:!0 },{ crs:'HOU',name:'Hounslow',lat:51.4625,lon:-.361827,display:!0 },{ crs:'HOV',name:'Hove',lat:50.8352,lon:-.170688,display:!0 },{ crs:'HOW',name:'Howden',lat:53.7645,lon:-.8607,display:!0 },{ crs:'HOX',name:'Hoxton',lat:51.5319,lon:-.076746,display:!0 },{ crs:'HOY',name:'Honley',lat:53.6082,lon:-1.78097,display:!0 },{ crs:'HOZ',name:'Howwood (Renfrewshire)',lat:55.8106,lon:-4.56304,display:!0 },{ crs:'HPA',name:'Honor Oak Park',lat:51.4505,lon:-.0456218,display:!0 },{ crs:'HPD',name:'Harpenden',lat:51.8149,lon:-.35198,display:!0 },{ crs:'HPE',name:'Hope (Flintshire)',lat:53.1174,lon:-3.03689,display:!0 },{ crs:'HPL',name:'Hartlepool',lat:54.6868,lon:-1.20731,display:!0 },{ crs:'HPN',name:'Hapton',lat:53.7818,lon:-2.31669,display:!0 },{ crs:'HPQ',name:'Harwich International',lat:51.9473,lon:1.25514,display:!0 },{ crs:'HPT',name:'Hopton Heath',lat:52.3914,lon:-2.91192,display:!0 },{ crs:'HRD',name:'Harling Road',lat:52.4537,lon:.909153,display:!0 },{ crs:'HRH',name:'Horsham',lat:51.0661,lon:-.319259,display:!0 },{ crs:'HRL',name:'Harlech',lat:52.8613,lon:-4.1092,display:!0 },{ crs:'HRM',name:'Harrietsham',lat:51.2448,lon:.67241,display:!0 },{ crs:'HRN',name:'Hornsey',lat:51.5865,lon:-.11197,display:!0 },{ crs:'HRO',name:'Harold Wood',lat:51.5932,lon:.23425,display:!0 },{ crs:'HRR',name:'Harrington',lat:54.6133,lon:-3.56574,display:!0 },{ crs:'HRS',name:'Horsforth',lat:53.8476,lon:-1.63061,display:!0 },{ crs:'HRW',name:'Harrow & Wealdstone',lat:51.5916,lon:-.334073,display:!0 },{ crs:'HRY',name:'Harringay Green Lanes',lat:51.5772,lon:-.0979192,display:!0 },{ crs:'HSB',name:'Helsby',lat:53.2752,lon:-2.77076,display:!0 },{ crs:'HSC',name:'Hoscar',lat:53.5974,lon:-2.80381,display:!0 },{ crs:'HSD',name:'Hamstead (Birmingham)',lat:52.5311,lon:-1.9289,display:!0 },{ crs:'HSG',name:'Hathersage',lat:53.3258,lon:-1.65119,display:!0 },{ crs:'HSK',name:'Hassocks',lat:50.9246,lon:-.145952,display:!0 },{ crs:'HSL',name:'Haslemere',lat:51.0888,lon:-.719372,display:!0 },{ crs:'HST',name:'High Street (Glasgow)',lat:55.8596,lon:-4.24011,display:!0 },{ crs:'HSW',name:'Heswall',lat:53.3297,lon:-3.07371,display:!0 },{ crs:'HSY',name:'Horsley',lat:51.2793,lon:-.4354,display:!0 },{ crs:'HTC',name:'Heaton Chapel',lat:53.4256,lon:-2.17904,display:!0 },{ crs:'HTE',name:'Hatch End',lat:51.6101,lon:-.369518,display:!0 },{ crs:'HTF',name:'Hartford (Cheshire)',lat:53.2418,lon:-2.55363,display:!0 },{ crs:'HTH',name:'Handforth',lat:53.3464,lon:-2.21326,display:!0 },{ crs:'HTN',name:'Hatton',lat:52.2953,lon:-1.67298,display:!0 },{ crs:'HTO',name:'Hightown',lat:53.5251,lon:-3.05708,display:!0 },{ crs:'HTW',name:'Hartwood',lat:55.8115,lon:-3.83932,display:!0 },{ crs:'HTY',name:'Hattersley',lat:53.4453,lon:-2.04031,display:!0 },{ crs:'HUB',name:'Hunmanby',lat:54.1743,lon:-.314774,display:!0 },{ crs:'HUD',name:'Huddersfield',lat:53.6484,lon:-1.78515,display:!0 },{ crs:'HUL',name:'Hull',lat:53.7442,lon:-.346155,display:!0 },{ crs:'HUN',name:'Huntingdon',lat:52.3287,lon:-.19206,display:!0 },{ crs:'HUP',name:'Humphrey Park',lat:53.4522,lon:-2.32754,display:!0 },{ crs:'HUR',name:'Hurst Green',lat:51.2444,lon:.00394575,display:!0 },{ crs:'HUT',name:'Hutton Cranswick',lat:53.9557,lon:-.433326,display:!0 },{ crs:'HUY',name:'Huyton',lat:53.4097,lon:-2.84299,display:!0 },{ crs:'HVF',name:'Haverfordwest',lat:51.8026,lon:-4.96023,display:!0 },{ crs:'HVN',name:'Havenhouse',lat:53.1145,lon:.273178,display:!0 },{ crs:'HWB',name:'Hawarden Bridge',lat:53.2181,lon:-3.03273,display:!0 },{ crs:'HWC',name:'Harwich Town',lat:51.9442,lon:1.2867,display:!0 },{ crs:'HWD',name:'Hawarden',lat:53.1854,lon:-3.03209,display:!0 },{ crs:'HWH',name:'Haltwhistle',lat:54.9678,lon:-2.46356,display:!0 },{ crs:'HWI',name:'Horwich Parkway',lat:53.5781,lon:-2.53967,display:!0 },{ crs:'HWM',name:'Harlow Mill',lat:51.7904,lon:.132321,display:!0 },{ crs:'HWN',name:'Harlow Town',lat:51.7811,lon:.0951438,display:!0 },{ crs:'HWV',name:'Heathrow Terminal 5 (Rail Station Only)',lat:51.4701,lon:-.490581,display:!0 },{ crs:'HWW',name:'How Wood (Herts)',lat:51.7177,lon:-.344671,display:!0 },{ crs:'HWY',name:'High Wycombe',lat:51.6296,lon:-.745408,display:!0 },{ crs:'HXM',name:'Hoveton & Wroxham',lat:52.7156,lon:1.40801,display:!0 },{ crs:'HXX',name:'Heathrow Terminals 2 & 3 (Rail Station Only)',lat:51.4727,lon:-.45072,display:!0 },{ crs:'HYB',name:'Honeybourne',lat:52.1014,lon:-1.83498,display:!0 },{ crs:'HYC',name:'Hyde Central',lat:53.4517,lon:-2.08579,display:!0 },{ crs:'HYD',name:'Heyford',lat:51.9192,lon:-1.29927,display:!0 },{ crs:'HYH',name:'Hythe (Essex)',lat:51.8857,lon:.927535,display:!0 },{ crs:'HYK',name:'Hoylake',lat:53.3902,lon:-3.17884,display:!0 },{ crs:'HYL',name:'Hayle',lat:50.1862,lon:-5.41953,display:!0 },{ crs:'HYM',name:'Haymarket',lat:55.9458,lon:-3.21844,display:!0 },{ crs:'HYN',name:'Hyndland',lat:55.8797,lon:-4.31466,display:!0 },{ crs:'HYR',name:'Haydons Road',lat:51.4254,lon:-.18881,display:!0 },{ crs:'HYS',name:'Hayes (Kent)',lat:51.3758,lon:.0101098,display:!0 },{ crs:'HYT',name:'Hyde North',lat:53.4643,lon:-2.08581,display:!0 },{ crs:'HYW',name:'Hinchley Wood',lat:51.375,lon:-.340527,display:!0 },{ crs:'IBM',name:'IBM',lat:55.9294,lon:-4.82723,display:!0 },{ crs:'IFD',name:'Ilford',lat:51.5591,lon:.0686806,display:!0 },{ crs:'IFI',name:'Ifield',lat:51.1156,lon:-.214773,display:!0 },{ crs:'IGD',name:'Invergordon',lat:57.6885,lon:-4.17554,display:!0 },{ crs:'ILK',name:'Ilkley',lat:53.925,lon:-1.8221,display:!0 },{ crs:'ILN',name:'Ilkeston',lat:52.9794,lon:-1.2949,display:!0 },{ crs:'IMW',name:'Imperial Wharf',lat:51.4743,lon:-.181411,display:!0 },{ crs:'INC',name:'Ince (Manchester)',lat:53.5392,lon:-2.61258,display:!0 },{ crs:'INE',name:'Ince & Elton',lat:53.2768,lon:-2.81623,display:!0 },{ crs:'ING',name:'Invergowrie',lat:56.4565,lon:-3.0574,display:!0 },{ crs:'INH',name:'Invershin',lat:57.9249,lon:-4.39958,display:!0 },{ crs:'INK',name:'Inverkeithing',lat:56.0347,lon:-3.39619,display:!0 },{ crs:'INP',name:'Inverkip',lat:55.9061,lon:-4.87258,display:!0 },{ crs:'INR',name:'Inverurie',lat:57.2863,lon:-2.37355,display:!0 },{ crs:'INS',name:'Insch',lat:57.3375,lon:-2.61711,display:!0 },{ crs:'INT',name:'Ingatestone',lat:51.667,lon:.384252,display:!0 },{ crs:'INV',name:'Inverness',lat:57.4801,lon:-4.22319,display:!0 },{ crs:'IPS',name:'Ipswich',lat:52.0506,lon:1.14444,display:!0 },{ crs:'IRL',name:'Irlam',lat:53.4348,lon:-2.43347,display:!0 },{ crs:'IRV',name:'Irvine',lat:55.6109,lon:-4.67514,display:!0 },{ crs:'ISL',name:'Isleworth',lat:51.4748,lon:-.336909,display:!0 },{ crs:'ISP',name:'Islip',lat:51.8258,lon:-1.23818,display:!0 },{ crs:'IVR',name:'Iver',lat:51.5085,lon:-.506718,display:!0 },{ crs:'IVY',name:'Ivybridge',lat:50.3936,lon:-3.90446,display:!0 },{ crs:'JCH',name:'James Cook University Hospital',lat:54.5515,lon:-1.2076,display:!0 },{ crs:'JEQ',name:'Jewellery Quarter',lat:52.4894,lon:-1.91321,display:!0 },{ crs:'JHN',name:'Johnstone (Renfrewshire)',lat:55.8347,lon:-4.50362,display:!0 },{ crs:'JOH',name:'Johnston (Pembs)',lat:51.7568,lon:-4.99636,display:!0 },{ crs:'JOR',name:'Jordanhill',lat:55.8822,lon:-4.326,display:!0 },{ crs:'KBC',name:'Kinbrace',lat:58.2583,lon:-3.94105,display:!0 },{ crs:'KBF',name:'Kirkby-in-Furness',lat:54.2323,lon:-3.18891,display:!0 },{ crs:'KBK',name:'Kents Bank',lat:54.1729,lon:-2.92523,display:!0 },{ crs:'KBN',name:'Kilburn High Road',lat:51.5374,lon:-.191871,display:!0 },{ crs:'KBW',name:'Knebworth',lat:51.8669,lon:-.18728,display:!0 },{ crs:'KBX',name:'Kirby Cross',lat:51.8414,lon:1.21501,display:!0 },{ crs:'KCK',name:'Knockholt',lat:51.3458,lon:.130858,display:!0 },{ crs:'KDB',name:'Kidbrooke',lat:51.4627,lon:.0283243,display:!0 },{ crs:'KDG',name:'Kidsgrove',lat:53.0866,lon:-2.24482,display:!0 },{ crs:'KDY',name:'Kirkcaldy',lat:56.112,lon:-3.16702,display:!0 },{ crs:'KEH',name:'Keith',lat:57.5509,lon:-2.95408,display:!0 },{ crs:'KEI',name:'Keighley',lat:53.8679,lon:-1.90112,display:!0 },{ crs:'KEL',name:'Kelvedon',lat:51.8407,lon:.702401,display:!0 },{ crs:'KEM',name:'Kemble',lat:51.6763,lon:-2.0231,display:!0 },{ crs:'KEN',name:'Kendal',lat:54.3321,lon:-2.73964,display:!0 },{ crs:'KET',name:'Kettering',lat:52.3936,lon:-.731556,display:!0 },{ crs:'KEY',name:'Keyham',lat:50.3897,lon:-4.17907,display:!0 },{ crs:'KGE',name:'Kingsknowe',lat:55.9193,lon:-3.26562,display:!0 },{ crs:'KGH',name:'Kinghorn',lat:56.0693,lon:-3.17415,display:!0 },{ crs:'KGL',name:'Kings Langley',lat:51.7064,lon:-.438411,display:!0 },{ crs:'KGM',name:'Kingham',lat:51.9023,lon:-1.62879,display:!0 },{ crs:'KGN',name:'Kings Nympton',lat:50.936,lon:-3.90561,display:!0 },{ crs:'KGP',name:'Kings Park',lat:55.8199,lon:-4.24725,display:!0 },{ crs:'KGS',name:'Kings Sutton',lat:52.0214,lon:-1.28093,display:!0 },{ crs:'KGT',name:'Kilgetty',lat:51.7321,lon:-4.71519,display:!0 },{ crs:'KGX',name:'London Kings Cross',lat:51.5309,lon:-.122921,display:!0 },{ crs:'KID',name:'Kidderminster',lat:52.3845,lon:-2.23945,display:!0 },{ crs:'KIL',name:'Kildonan',lat:58.1713,lon:-3.87,display:!0 },{ crs:'KIN',name:'Kingussie',lat:57.0778,lon:-4.05218,display:!0 },{ crs:'KIR',name:'Kirkby (Merseyside)',lat:53.4862,lon:-2.90283,display:!0 },{ crs:'KIT',name:'Kintbury',lat:51.4025,lon:-1.44599,display:!0 },{ crs:'KIV',name:'Kiveton Bridge',lat:53.341,lon:-1.26718,display:!0 },{ crs:'KKB',name:'Kirkby-in-Ashfield',lat:53.1001,lon:-1.25306,display:!0 },{ crs:'KKD',name:'Kirkdale',lat:53.4405,lon:-2.98151,display:!0 },{ crs:'KKH',name:'Kirkhill',lat:55.8141,lon:-4.1687,display:!0 },{ crs:'KKM',name:'Kirkham & Wesham',lat:53.7874,lon:-2.88181,display:!0 },{ crs:'KKN',name:'Kirknewton',lat:55.8887,lon:-3.43251,display:!0 },{ crs:'KKS',name:'Kirk Sandall',lat:53.5634,lon:-1.07491,display:!0 },{ crs:'KLD',name:'Kildale',lat:54.4773,lon:-1.06785,display:!0 },{ crs:'KLF',name:'Kirkstall Forge',lat:53.824,lon:-1.61851,display:!0 },{ crs:'KLM',name:'Kilmaurs',lat:55.6372,lon:-4.53048,display:!0 },{ crs:'KLN',name:'Kings Lynn',lat:52.7538,lon:.403525,display:!0 },{ crs:'KLY',name:'Kenley',lat:51.3246,lon:-.101216,display:!0 },{ crs:'KMH',name:'Kempston Hardwick',lat:52.0922,lon:-.503917,display:!0 },{ crs:'KMK',name:'Kilmarnock',lat:55.6121,lon:-4.49867,display:!0 },{ crs:'KML',name:'Kemsley',lat:51.3624,lon:.735371,display:!0 },{ crs:'KMP',name:'Kempton Park Racecourse',lat:51.421,lon:-.409741,display:!0 },{ crs:'KMS',name:'Kemsing',lat:51.2972,lon:.247442,display:!0 },{ crs:'KNA',name:'Knaresborough',lat:54.0088,lon:-1.4705,display:!0 },{ crs:'KND',name:'Kingswood',lat:51.2949,lon:-.211457,display:!0 },{ crs:'KNE',name:'Kennett',lat:52.2773,lon:.490476,display:!0 },{ crs:'KNF',name:'Knutsford',lat:53.302,lon:-2.3721,display:!0 },{ crs:'KNG',name:'Kingston',lat:51.4128,lon:-.301167,display:!0 },{ crs:'KNI',name:'Knighton',lat:52.3451,lon:-3.04221,display:!0 },{ crs:'KNL',name:'Kensal Green',lat:51.5307,lon:-.223856,display:!0 },{ crs:'KNN',name:'Kings Norton',lat:52.4135,lon:-1.9338,display:!0 },{ crs:'KNO',name:'Knottingley',lat:53.7066,lon:-1.25918,display:!0 },{ crs:'KNR',name:'Kensal Rise',lat:51.5342,lon:-.220834,display:!0 },{ crs:'KNS',name:'Kennishead',lat:55.813,lon:-4.32507,display:!0 },{ crs:'KNT',name:'Kenton',lat:51.5815,lon:-.317137,display:!0 },{ crs:'KNU',name:'Knucklas',lat:52.3599,lon:-3.09689,display:!0 },{ crs:'KNW',name:'Kenilworth',lat:52.3422,lon:1.5724,display:!1 },{ crs:'KPA',name:'Kensington Olympia',lat:51.4972,lon:-.20931,display:!0 },{ crs:'KPT',name:'Kilpatrick',lat:55.9247,lon:-4.45339,display:!0 },{ crs:'KRK',name:'Kirkconnel',lat:55.3883,lon:-3.99849,display:!0 },{ crs:'KSL',name:'Kearsley (Manchester)',lat:53.5447,lon:-2.37573,display:!0 },{ crs:'KSN',name:'Kearsney (Kent)',lat:51.1494,lon:1.27207,display:!0 },{ crs:'KSW',name:'Kirkby Stephen',lat:54.4551,lon:-2.3686,display:!0 },{ crs:'KTH',name:'Kent House',lat:51.4127,lon:-.0457951,display:!0 },{ crs:'KTL',name:'Kirton Lindsey',lat:53.4849,lon:-.593912,display:!0 },{ crs:'KTN',name:'Kentish Town',lat:51.55,lon:-.139442,display:!0 },{ crs:'KTW',name:'Kentish Town West',lat:51.5466,lon:-.146796,display:!0 },{ crs:'KVD',name:'Kelvindale',lat:55.8936,lon:-4.30981,display:!0 },{ crs:'KVP',name:'Kiveton Park',lat:53.3368,lon:-1.2395,display:!0 },{ crs:'KWB',name:'Kew Bridge',lat:51.4894,lon:-.288842,display:!0 },{ crs:'KWD',name:'Kirkwood',lat:55.8542,lon:-4.04839,display:!0 },{ crs:'KWG',name:'Kew Gardens',lat:51.4776,lon:-.284962,display:!0 },{ crs:'KWL',name:'Kidwelly',lat:51.7343,lon:-4.31701,display:!0 },{ crs:'KWN',name:'Kilwinning',lat:55.6559,lon:-4.71001,display:!0 },{ crs:'KYL',name:'Kyle of Lochalsh',lat:57.2797,lon:-5.71382,display:!0 },{ crs:'KYN',name:'Keynsham',lat:51.4172,lon:-2.49463,display:!0 },{ crs:'LAC',name:'Lancing',lat:50.8271,lon:-.3231,display:!0 },{ crs:'LAD',name:'Ladywell',lat:51.4562,lon:-.0190336,display:!0 },{ crs:'LAG',name:'Langwith-Whaley Thorns',lat:53.2325,lon:-1.20971,display:!0 },{ crs:'LAI',name:'Laindon',lat:51.5678,lon:.423644,display:!0 },{ crs:'LAK',name:'Lakenheath',lat:52.4475,lon:.533893,display:!0 },{ crs:'LAM',name:'Lamphey',lat:51.6672,lon:-4.8733,display:!0 },{ crs:'LAN',name:'Lancaster',lat:54.0486,lon:-2.80791,display:!0 },{ crs:'LAP',name:'Lapford',lat:50.8574,lon:-3.81147,display:!0 },{ crs:'LAR',name:'Largs',lat:55.7927,lon:-4.86719,display:!0 },{ crs:'LAS',name:'Llansamlet',lat:51.6615,lon:-3.88471,display:!0 },{ crs:'LAU',name:'Laurencekirk',lat:56.8287,lon:-2.47845,display:!0 },{ crs:'LAW',name:'Landywood',lat:52.6571,lon:-2.02065,display:!0 },{ crs:'LAY',name:'Layton (Lancs)',lat:53.8356,lon:-3.03023,display:!0 },{ crs:'LBG',name:'London Bridge',lat:51.5051,lon:-.0850604,display:!0 },{ crs:'LBK',name:'Long Buckby',lat:52.2947,lon:-1.08647,display:!0 },{ crs:'LBO',name:'Loughborough',lat:52.779,lon:-1.19593,display:!0 },{ crs:'LBR',name:'Llanbedr',lat:52.8209,lon:-4.11021,display:!0 },{ crs:'LBT',name:'Larbert',lat:56.0227,lon:-3.83058,display:!0 },{ crs:'LBZ',name:'Leighton Buzzard',lat:51.9163,lon:-.677002,display:!0 },{ crs:'LCC',name:'Lochluichart',lat:57.6212,lon:-4.8096,display:!0 },{ crs:'LCG',name:'Lochgelly',lat:56.1353,lon:-3.31294,display:!0 },{ crs:'LCK',name:'Lockwood',lat:53.6346,lon:-1.80064,display:!0 },{ crs:'LCL',name:'Lochailort',lat:56.8809,lon:-5.66338,display:!0 },{ crs:'LCN',name:'Lincoln',lat:53.2261,lon:-.53992,display:!0 },{ crs:'LCS',name:'Locheilside',lat:56.8554,lon:-5.29003,display:!0 },{ crs:'LDN',name:'Llandanwg',lat:52.8362,lon:-4.12387,display:!0 },{ crs:'LDS',name:'Leeds',lat:53.7949,lon:-1.54744,display:!0 },{ crs:'LDY',name:'Ladybank',lat:56.2738,lon:-3.12227,display:!0 },{ crs:'LEA',name:'Leagrave',lat:51.9052,lon:-.45851,display:!0 },{ crs:'LEB',name:'Lea Bridge',lat:51.5677,lon:-.035556,display:!0 },{ crs:'LED',name:'Ledbury',lat:52.0449,lon:-2.42498,display:!0 },{ crs:'LEE',name:'Lee (London)',lat:51.4495,lon:.0133451,display:!0 },{ crs:'LEG',name:'Lea Green',lat:53.4271,lon:-2.72384,display:!0 },{ crs:'LEH',name:'Lea Hall',lat:52.4807,lon:-1.78602,display:!0 },{ crs:'LEI',name:'Leicester',lat:52.6314,lon:-1.12528,display:!0 },{ crs:'LEL',name:'Lelant',lat:50.1841,lon:-5.43661,display:!0 },{ crs:'LEM',name:'Leyton Midland Road',lat:51.5694,lon:-.00704883,display:!0 },{ crs:'LEN',name:'Lenham',lat:51.2345,lon:.707771,display:!0 },{ crs:'LEO',name:'Leominster',lat:52.2251,lon:-2.73049,display:!0 },{ crs:'LER',name:'Leytonstone High Road',lat:51.5638,lon:.00829068,display:!0 },{ crs:'LES',name:'Leigh-on-Sea',lat:51.5414,lon:.640428,display:!0 },{ crs:'LET',name:'Letchworth Garden City',lat:51.98,lon:-.22926,display:!0 },{ crs:'LEU',name:'Leuchars (for St. Andrews)',lat:56.3751,lon:-2.89371,display:!0 },{ crs:'LEW',name:'Lewisham',lat:51.4657,lon:-.0140171,display:!0 },{ crs:'LEY',name:'Leyland',lat:53.6989,lon:-2.68714,display:!0 },{ crs:'LFD',name:'Lingfield',lat:51.1764,lon:-.00715894,display:!0 },{ crs:'LGB',name:'Langbank',lat:55.9245,lon:-4.58526,display:!0 },{ crs:'LGD',name:'Lingwood',lat:52.6222,lon:1.48986,display:!0 },{ crs:'LGE',name:'Long Eaton',lat:52.8851,lon:-1.2881,display:!0 },{ crs:'LGF',name:'Longfield',lat:51.3962,lon:.30038,display:!0 },{ crs:'LGG',name:'Langley Green',lat:52.4939,lon:-2.00496,display:!0 },{ crs:'LGJ',name:'Loughborough Junction',lat:51.4667,lon:-.10252,display:!0 },{ crs:'LGK',name:'Longbeck',lat:54.5892,lon:-1.03094,display:!0 },{ crs:'LGM',name:'Langley Mill',lat:53.0181,lon:-1.33124,display:!0 },{ crs:'LGN',name:'Longton',lat:52.9897,lon:-2.13701,display:!0 },{ crs:'LGO',name:'Llangynllo',lat:52.3496,lon:-3.16137,display:!0 },{ crs:'LGS',name:'Langside',lat:55.8211,lon:-4.27733,display:!0 },{ crs:'LGW',name:'Langwathby',lat:54.6944,lon:-2.66369,display:!0 },{ crs:'LHA',name:'Loch Awe',lat:56.402,lon:-5.04197,display:!0 },{ crs:'LHD',name:'Leatherhead',lat:51.2988,lon:-.333065,display:!0 },{ crs:'LHE',name:'Loch Eil Outward Bound',lat:56.8552,lon:-5.19157,display:!0 },{ crs:'LHM',name:'Lealholm',lat:54.4606,lon:-.825715,display:!0 },{ crs:'LHO',name:'Langho',lat:53.805,lon:-2.44791,display:!0 },{ crs:'LHS',name:'Limehouse',lat:51.5128,lon:-.0393527,display:!0 },{ crs:'LHW',name:'Lochwinnoch',lat:55.7871,lon:-4.61606,display:!0 },{ crs:'LIC',name:'Lichfield City',lat:52.6804,lon:-1.82543,display:!0 },{ crs:'LID',name:'Lidlington',lat:52.0415,lon:-.558919,display:!0 },{ crs:'LIH',name:'Leigh (Kent)',lat:51.1939,lon:.210507,display:!0 },{ crs:'LIN',name:'Linlithgow',lat:55.9764,lon:-3.59584,display:!0 },{ crs:'LIP',name:'Liphook',lat:51.0713,lon:-.800231,display:!0 },{ crs:'LIS',name:'Liss',lat:51.0436,lon:-.892873,display:!0 },{ crs:'LIT',name:'Littlehampton',lat:50.8101,lon:-.545992,display:!0 },{ crs:'LIV',name:'Liverpool Lime Street',lat:53.4073,lon:-2.97773,display:!0 },{ crs:'LKE',name:'Lake',lat:50.6465,lon:-1.16635,display:!0 },{ crs:'LLA',name:'Llanaber',lat:52.7415,lon:-4.07719,display:!0 },{ crs:'LLC',name:'Llandecwyn',lat:52.9207,lon:-4.05705,display:!0 },{ crs:'LLD',name:'Llandudno',lat:53.3209,lon:-3.82702,display:!0 },{ crs:'LLE',name:'Llanelli',lat:51.6739,lon:-4.16132,display:!0 },{ crs:'LLF',name:'Llanfairfechan',lat:53.2573,lon:-3.98321,display:!0 },{ crs:'LLG',name:'Llangadog',lat:51.9402,lon:-3.89317,display:!0 },{ crs:'LLH',name:'Llangennech',lat:51.6911,lon:-4.07895,display:!0 },{ crs:'LLI',name:'Llandybie',lat:51.821,lon:-4.00368,display:!0 },{ crs:'LLJ',name:'Llandudno Junction',lat:53.284,lon:-3.80912,display:!0 },{ crs:'LLL',name:'Llandeilo',lat:51.8853,lon:-3.98692,display:!0 },{ crs:'LLM',name:'Llangammarch',lat:52.1143,lon:-3.55483,display:!0 },{ crs:'LLN',name:'Llandaf',lat:51.5085,lon:-3.22891,display:!0 },{ crs:'LLO',name:'Llandrindod',lat:52.2424,lon:-3.37915,display:!0 },{ crs:'LLR',name:'Llanharan',lat:51.5376,lon:-3.4408,display:!0 },{ crs:'LLS',name:'Llanishen',lat:51.5327,lon:-3.18199,display:!0 },{ crs:'LLT',name:'Llanbister Road',lat:52.3364,lon:-3.21343,display:!0 },{ crs:'LLV',name:'Llandovery',lat:51.9953,lon:-3.80285,display:!0 },{ crs:'LLW',name:'Llwyngwril',lat:52.6668,lon:-4.08769,display:!0 },{ crs:'LLY',name:'Llwynypia',lat:51.634,lon:-3.45353,display:!0 },{ crs:'LMR',name:'Low Moor',lat:53.75,lon:-1.75288,display:!0 },{ crs:'LMS',name:'Leamington Spa',lat:52.2845,lon:-1.53621,display:!0 },{ crs:'LNB',name:'Llanbradach',lat:51.6033,lon:-3.23306,display:!0 },{ crs:'LND',name:'Longniddry',lat:55.9765,lon:-2.88834,display:!0 },{ crs:'LNG',name:'Longcross',lat:51.3852,lon:-.594565,display:!0 },{ crs:'LNK',name:'Lanark',lat:55.6731,lon:-3.77287,display:!0 },{ crs:'LNR',name:'Llanwrda',lat:51.9626,lon:-3.8717,display:!0 },{ crs:'LNW',name:'Llanwrtyd',lat:52.1047,lon:-3.63218,display:!0 },{ crs:'LNY',name:'Langley (Berks)',lat:51.5081,lon:-.541749,display:!0 },{ crs:'LNZ',name:'Lenzie',lat:55.9213,lon:-4.15388,display:!0 },{ crs:'LOB',name:'Longbridge',lat:52.3964,lon:-1.98129,display:!0 },{ crs:'LOC',name:'Lockerbie',lat:55.1231,lon:-3.35354,display:!0 },{ crs:'LOF',name:'London Fields',lat:51.5412,lon:-.0577468,display:!0 },{ crs:'LOH',name:'Lostock Hall',lat:53.7239,lon:-2.68709,display:!0 },{ crs:'LOO',name:'Looe',lat:50.3592,lon:-4.4562,display:!0 },{ crs:'LOS',name:'Lostwithiel',lat:50.4075,lon:-4.66546,display:!0 },{ crs:'LOT',name:'Lostock',lat:53.573,lon:-2.49378,display:!0 },{ crs:'LOW',name:'Lowdham',lat:53.0069,lon:-.997582,display:!0 },{ crs:'LPG',name:'Llanfairpwll',lat:53.221,lon:-4.20923,display:!0 },{ crs:'LPR',name:'Long Preston',lat:54.0168,lon:-2.25559,display:!0 },{ crs:'LPT',name:'Longport',lat:53.0417,lon:-2.21623,display:!0 },{ crs:'LPW',name:'Lapworth',lat:52.3413,lon:-1.72548,display:!0 },{ crs:'LPY',name:'Liverpool South Parkway',lat:53.3576,lon:-2.88929,display:!0 },{ crs:'LRB',name:'London Road (Brighton)',lat:50.8367,lon:-.136502,display:!0 },{ crs:'LRD',name:'London Road (Guildford)',lat:51.2406,lon:-.565064,display:!0 },{ crs:'LRG',name:'Lairg',lat:58.0016,lon:-4.40099,display:!0 },{ crs:'LRH',name:'Larkhall',lat:55.7386,lon:-3.9755,display:!0 },{ crs:'LSK',name:'Liskeard',lat:50.4468,lon:-4.4675,display:!0 },{ crs:'LSN',name:'Livingston North',lat:55.9014,lon:-3.54434,display:!0 },{ crs:'LST',name:'London Liverpool Street',lat:51.518,lon:-.0819957,display:!0 },{ crs:'LSW',name:'Leasowe',lat:53.4081,lon:-3.0996,display:!0 },{ crs:'LSY',name:'Lower Sydenham',lat:51.4248,lon:-.033339,display:!0 },{ crs:'LTG',name:'Lostock Gralam',lat:53.2677,lon:-2.46521,display:!0 },{ crs:'LTH',name:'Llanhilleth',lat:51.7003,lon:-3.13521,display:!0 },{ crs:'LTK',name:'Little Kimble',lat:51.7522,lon:-.808452,display:!0 },{ crs:'LTL',name:'Littleborough',lat:53.643,lon:-2.09465,display:!0 },{ crs:'LTM',name:'Lytham',lat:53.7393,lon:-2.96404,display:!0 },{ crs:'LTN',name:'Luton Airport Parkway',lat:51.8729,lon:-.3962,display:!0 },{ crs:'LTP',name:'Littleport',lat:52.4624,lon:.316567,display:!0 },{ crs:'LTS',name:'Lelant Saltings',lat:50.1793,lon:-5.44145,display:!0 },{ crs:'LTT',name:'Little Sutton',lat:53.2855,lon:-2.9433,display:!0 },{ crs:'LTV',name:'Lichfield Trent Valley',lat:52.6869,lon:-1.80024,display:!0 },{ crs:'LUD',name:'Ludlow',lat:52.3709,lon:-2.71526,display:!0 },{ crs:'LUT',name:'Luton',lat:51.8823,lon:-.41404,display:!0 },{ crs:'LUX',name:'Luxulyan',lat:50.3903,lon:-4.74752,display:!0 },{ crs:'LVC',name:'Liverpool Central',lat:53.4046,lon:-2.97916,display:!0 },{ crs:'LVG',name:'Livingston South',lat:55.8717,lon:-3.50156,display:!0 },{ crs:'LVJ',name:'Liverpool James Street',lat:53.4048,lon:-2.99196,display:!0 },{ crs:'LVM',name:'Levenshulme',lat:53.4444,lon:-2.19267,display:!0 },{ crs:'LVN',name:'Littlehaven',lat:51.0797,lon:-.30797,display:!0 },{ crs:'LVT',name:'Lisvane & Thornhill',lat:51.5446,lon:-3.18561,display:!0 },{ crs:'LWH',name:'Lawrence Hill',lat:51.4582,lon:-2.56417,display:!0 },{ crs:'LWM',name:'Llantwit Major',lat:51.4097,lon:-3.48164,display:!0 },{ crs:'LWR',name:'Llanrwst',lat:53.1442,lon:-3.80306,display:!0 },{ crs:'LWS',name:'Lewes',lat:50.8706,lon:.0113352,display:!0 },{ crs:'LWT',name:'Lowestoft',lat:52.4745,lon:1.74973,display:!0 },{ crs:'LYC',name:'Lympstone Commando',lat:50.6622,lon:-3.44086,display:!0 },{ crs:'LYD',name:'Lydney',lat:51.7146,lon:-2.53116,display:!0 },{ crs:'LYE',name:'Lye (West Midlands)',lat:52.4599,lon:-2.11593,display:!0 },{ crs:'LYM',name:'Lympstone Village',lat:50.6487,lon:-3.43139,display:!0 },{ crs:'LYP',name:'Lymington Pier',lat:50.7583,lon:-1.52946,display:!0 },{ crs:'LYT',name:'Lymington Town',lat:50.7609,lon:-1.53717,display:!0 },{ crs:'LZB',name:'Lazonby & Kirkoswald',lat:54.7502,lon:-2.7022,display:!0 },{ crs:'MAC',name:'Macclesfield',lat:53.2594,lon:-2.12138,display:!0 },{ crs:'MAG',name:'Maghull',lat:53.5065,lon:-2.93086,display:!0 },{ crs:'MAI',name:'Maidenhead',lat:51.5187,lon:-.722659,display:!0 },{ crs:'MAL',name:'Malden Manor',lat:51.3846,lon:-.261134,display:!0 },{ crs:'MAN',name:'Manchester Piccadilly',lat:53.4767,lon:-2.22898,display:!0 },{ crs:'MAO',name:'Martins Heron',lat:51.4076,lon:-.724678,display:!0 },{ crs:'MAR',name:'Margate',lat:51.3854,lon:1.37202,display:!0 },{ crs:'MAS',name:'Manors',lat:54.9728,lon:-1.60474,display:!0 },{ crs:'MAT',name:'Matlock',lat:53.1382,lon:-1.55899,display:!0 },{ crs:'MAU',name:'Mauldeth Road',lat:53.4336,lon:-2.20918,display:!0 },{ crs:'MAX',name:'Maxwell Park',lat:55.8377,lon:-4.28869,display:!0 },{ crs:'MAY',name:'Maybole',lat:55.3547,lon:-4.68528,display:!0 },{ crs:'MBK',name:'Millbrook (Hants)',lat:50.9115,lon:-1.43385,display:!0 },{ crs:'MBR',name:'Middlesbrough',lat:54.5791,lon:-1.23471,display:!0 },{ crs:'MCB',name:'Moulsecoomb',lat:50.8467,lon:-.118841,display:!0 },{ crs:'MCE',name:'MetroCentre',lat:54.9587,lon:-1.66563,display:!0 },{ crs:'MCH',name:'March',lat:52.5599,lon:.0911996,display:!0 },{ crs:'MCM',name:'Morecambe',lat:54.0704,lon:-2.86996,display:!0 },{ crs:'MCN',name:'Machynlleth',lat:52.5952,lon:-3.85455,display:!0 },{ crs:'MCO',name:'Manchester Oxford Road',lat:53.474,lon:-2.24252,display:!0 },{ crs:'MCV',name:'Manchester Victoria',lat:53.4875,lon:-2.2426,display:!0 },{ crs:'MDB',name:'Maidstone Barracks',lat:51.2772,lon:.513967,display:!0 },{ crs:'MDE',name:'Maidstone East',lat:51.2778,lon:.521302,display:!0 },{ crs:'MDG',name:'Midgham',lat:51.396,lon:-1.17771,display:!0 },{ crs:'MDL',name:'Middlewood',lat:53.36,lon:-2.08335,display:!0 },{ crs:'MDN',name:'Maiden Newton',lat:50.78,lon:-2.56944,display:!0 },{ crs:'MDS',name:'Morden South',lat:51.3963,lon:-.20031,display:!0 },{ crs:'MDW',name:'Maidstone West',lat:51.2705,lon:.51578,display:!0 },{ crs:'MEC',name:'Meols Cop',lat:53.6462,lon:-2.97538,display:!0 },{ crs:'MEL',name:'Meldreth',lat:52.0907,lon:.008953,display:!0 },{ crs:'MEN',name:'Menheniot',lat:50.4262,lon:-4.40926,display:!0 },{ crs:'MEO',name:'Meols',lat:53.3995,lon:-3.15428,display:!0 },{ crs:'MEP',name:'Meopham',lat:51.3864,lon:.356954,display:!0 },{ crs:'MER',name:'Merthyr Tydfil',lat:51.7446,lon:-3.37729,display:!0 },{ crs:'MES',name:'Melton (Suffolk)',lat:52.1045,lon:1.33826,display:!0 },{ crs:'MEV',name:'Merthyr Vale',lat:51.6866,lon:-3.33659,display:!0 },{ crs:'MEW',name:'Maesteg (Ewenny Road)',lat:51.6053,lon:-3.64901,display:!0 },{ crs:'MEX',name:'Mexborough',lat:53.491,lon:-1.28856,display:!0 },{ crs:'MEY',name:'Merryton',lat:55.7487,lon:-3.97824,display:!0 },{ crs:'MFA',name:'Morfa Mawddach',lat:52.7071,lon:-4.03218,display:!0 },{ crs:'MFF',name:'Minffordd',lat:52.9262,lon:-4.08498,display:!0 },{ crs:'MFH',name:'Milford Haven',lat:51.715,lon:-5.041,display:!0 },{ crs:'MFL',name:'Mount Florida',lat:55.8268,lon:-4.26202,display:!0 },{ crs:'MFT',name:'Mansfield',lat:53.1426,lon:-1.19716,display:!0 },{ crs:'MGM',name:'Metheringham',lat:53.1389,lon:-.391447,display:!0 },{ crs:'MGN',name:'Marston Green',lat:52.4672,lon:-1.75561,display:!0 },{ crs:'MHM',name:'Merstham',lat:51.2642,lon:-.150223,display:!0 },{ crs:'MHR',name:'Market Harborough',lat:52.4804,lon:-.908872,display:!0 },{ crs:'MHS',name:'Meadowhall',lat:53.4169,lon:-1.41362,display:!0 },{ crs:'MIA',name:'Manchester Airport',lat:53.3651,lon:-2.27298,display:!0 },{ crs:'MIC',name:'Micheldever',lat:51.1824,lon:-1.26068,display:!0 },{ crs:'MIH',name:'Mills Hill (Manchester)',lat:53.5505,lon:-2.17202,display:!0 },{ crs:'MIJ',name:'Mitcham Junction',lat:51.3929,lon:-.157323,display:!0 },{ crs:'MIK',name:'Micklefield',lat:53.7891,lon:-1.32436,display:!0 },{ crs:'MIL',name:'Mill Hill Broadway',lat:51.6129,lon:-.24954,display:!0 },{ crs:'MIM',name:'Moreton-in-Marsh',lat:51.9923,lon:-1.70039,display:!0 },{ crs:'MIN',name:'Milliken Park',lat:55.8251,lon:-4.53334,display:!0 },{ crs:'MIR',name:'Mirfield',lat:53.6716,lon:-1.69179,display:!0 },{ crs:'MIS',name:'Mistley',lat:51.9436,lon:1.08141,display:!0 },{ crs:'MKC',name:'Milton Keynes Central',lat:52.0343,lon:-.774143,display:!0 },{ crs:'MKM',name:'Melksham',lat:51.3798,lon:-2.14451,display:!0 },{ crs:'MKR',name:'Market Rasen',lat:53.3845,lon:-.337094,display:!0 },{ crs:'MKT',name:'Marks Tey',lat:51.881,lon:.783346,display:!0 },{ crs:'MLB',name:'Millbrook (Bedfordshire)',lat:52.0538,lon:-.532693,display:!0 },{ crs:'MLD',name:'Mouldsworth',lat:53.2318,lon:-2.73223,display:!0 },{ crs:'MLF',name:'Milford (Surrey)',lat:51.1633,lon:-.636946,display:!0 },{ crs:'MLG',name:'Mallaig',lat:57.006,lon:-5.82959,display:!0 },{ crs:'MLH',name:'Mill Hill (Lancashire)',lat:53.7355,lon:-2.50174,display:!0 },{ crs:'MLM',name:'Millom',lat:54.2108,lon:-3.27109,display:!0 },{ crs:'MLN',name:'Milngavie',lat:55.9408,lon:-4.3151,display:!0 },{ crs:'MLT',name:'Malton',lat:54.1321,lon:-.797223,display:!0 },{ crs:'MLW',name:'Marlow',lat:51.571,lon:-.76643,display:!0 },{ crs:'MLY',name:'Morley',lat:53.7499,lon:-1.59097,display:!0 },{ crs:'MMO',name:'Melton Mowbray',lat:52.7607,lon:-.885578,display:!0 },{ crs:'MNC',name:'Markinch',lat:56.201,lon:-3.13078,display:!0 },{ crs:'MNE',name:'Manea',lat:52.4979,lon:.177698,display:!0 },{ crs:'MNG',name:'Manningtree',lat:51.9491,lon:1.04525,display:!0 },{ crs:'MNN',name:'Menston',lat:53.8924,lon:-1.73551,display:!0 },{ crs:'MNP',name:'Manor Park',lat:51.5524,lon:.0452924,display:!0 },{ crs:'MNR',name:'Manor Road',lat:53.3948,lon:-3.17145,display:!0 },{ crs:'MOB',name:'Mobberley',lat:53.33,lon:-2.3333,display:!0 },{ crs:'MOG',name:'Moorgate',lat:51.5196,lon:-.09024,display:!0 },{ crs:'MON',name:'Monifieth',lat:56.4801,lon:-2.81824,display:!0 },{ crs:'MOO',name:'Muir of Ord',lat:57.5179,lon:-4.46094,display:!0 },{ crs:'MOR',name:'Mortimer',lat:51.3721,lon:-1.0355,display:!0 },{ crs:'MOS',name:'Moss Side',lat:53.7644,lon:-2.94353,display:!0 },{ crs:'MOT',name:'Motspur Park',lat:51.3951,lon:-.239175,display:!0 },{ crs:'MPK',name:'Mosspark',lat:55.8408,lon:-4.34781,display:!0 },{ crs:'MPL',name:'Marple',lat:53.4007,lon:-2.05726,display:!0 },{ crs:'MPT',name:'Morpeth',lat:55.1625,lon:-1.68292,display:!0 },{ crs:'MRB',name:'Manorbier',lat:51.6602,lon:-4.79187,display:!0 },{ crs:'MRD',name:'Morchard Road',lat:50.8319,lon:-3.7764,display:!0 },{ crs:'MRF',name:'Moorfields',lat:53.4086,lon:-2.98918,display:!0 },{ crs:'MRN',name:'Marden (Kent)',lat:51.1752,lon:.493175,display:!0 },{ crs:'MRP',name:'Moorthorpe',lat:53.5945,lon:-1.30496,display:!0 },{ crs:'MRR',name:'Morar',lat:56.9697,lon:-5.82191,display:!0 },{ crs:'MRS',name:'Monks Risborough',lat:51.7358,lon:-.829334,display:!0 },{ crs:'MRT',name:'Moreton (Merseyside)',lat:53.4079,lon:-3.11314,display:!0 },{ crs:'MRY',name:'Maryport',lat:54.7116,lon:-3.4947,display:!0 },{ crs:'MSD',name:'Moorside',lat:53.516,lon:-2.35286,display:!0 },{ crs:'MSH',name:'Mossley Hill',lat:53.3791,lon:-2.91545,display:!0 },{ crs:'MSK',name:'Marske',lat:54.5874,lon:-1.01891,display:!0 },{ crs:'MSL',name:'Mossley (Manchester)',lat:53.5147,lon:-2.04218,display:!0 },{ crs:'MSN',name:'Marsden (Yorkshire)',lat:53.6032,lon:-1.93076,display:!0 },{ crs:'MSO',name:'Moston',lat:53.5227,lon:-2.17191,display:!0 },{ crs:'MSR',name:'Minster',lat:51.3292,lon:1.31723,display:!0 },{ crs:'MSS',name:'Moses Gate',lat:53.556,lon:-2.40119,display:!0 },{ crs:'MST',name:'Maesteg',lat:51.6099,lon:-3.65467,display:!0 },{ crs:'MSW',name:'Mansfield Woodhouse',lat:53.1615,lon:-1.1998,display:!0 },{ crs:'MTA',name:'Mountain Ash',lat:51.6813,lon:-3.37636,display:!0 },{ crs:'MTB',name:'Matlock Bath',lat:53.122,lon:-1.55766,display:!0 },{ crs:'MTC',name:'Mitcham Eastfields',lat:51.4084,lon:-.153969,display:!0 },{ crs:'MTG',name:'Mottingham',lat:51.4399,lon:.0503344,display:!0 },{ crs:'MTH',name:'Motherwell',lat:55.7917,lon:-3.99431,display:!0 },{ crs:'MTL',name:'Mortlake',lat:51.4684,lon:-.266592,display:!0 },{ crs:'MTM',name:'Martin Mill',lat:51.1707,lon:1.34823,display:!0 },{ crs:'MTN',name:'Moreton (Dorset)',lat:50.7011,lon:-2.3129,display:!0 },{ crs:'MTO',name:'Marton',lat:54.5438,lon:-1.19772,display:!0 },{ crs:'MTP',name:'Montpelier',lat:51.4689,lon:-2.58733,display:!0 },{ crs:'MTS',name:'Montrose',lat:56.7128,lon:-2.47207,display:!0 },{ crs:'MTV',name:'Mount Vernon',lat:55.8398,lon:-4.13659,display:!0 },{ crs:'MUB',name:'Musselburgh',lat:55.9336,lon:-3.07319,display:!0 },{ crs:'MUF',name:'Manchester United Football Ground',lat:53.4622,lon:-2.29065,display:!0 },{ crs:'MUI',name:'Muirend',lat:55.8104,lon:-4.27383,display:!0 },{ crs:'MVL',name:'Malvern Link',lat:52.1254,lon:-2.31986,display:!0 },{ crs:'MYB',name:'London Marylebone',lat:51.5225,lon:-.163628,display:!0 },{ crs:'MYH',name:'Maryhill',lat:55.8971,lon:-4.30194,display:!0 },{ crs:'MYL',name:'Maryland',lat:51.5458,lon:.00605784,display:!0 },{ crs:'MYT',name:'Mytholmroyd',lat:53.729,lon:-1.98143,display:!0 },{ crs:'MZH',name:'Maze Hill',lat:51.4829,lon:.00329561,display:!0 },{ crs:'NAN',name:'Nantwich',lat:53.0632,lon:-2.51925,display:!0 },{ crs:'NAR',name:'Narberth',lat:51.7994,lon:-4.72721,display:!0 },{ crs:'NAY',name:'Newton Aycliffe',lat:54.6137,lon:-1.58965,display:!0 },{ crs:'NBA',name:'New Barnet',lat:51.6486,lon:-.17299,display:!0 },{ crs:'NBC',name:'New Beckenham',lat:51.4168,lon:-.0352671,display:!0 },{ crs:'NBE',name:'Newbridge',lat:51.6658,lon:-3.14291,display:!0 },{ crs:'NBN',name:'New Brighton',lat:53.4373,lon:-3.04917,display:!0 },{ crs:'NBR',name:'Narborough',lat:52.5713,lon:-1.20335,display:!0 },{ crs:'NBT',name:'Norbiton',lat:51.4125,lon:-.284092,display:!0 },{ crs:'NBW',name:'North Berwick',lat:56.057,lon:-2.73074,display:!0 },{ crs:'NBY',name:'Newbury',lat:51.3976,lon:-1.32286,display:!0 },{ crs:'NCE',name:'New Clee',lat:53.5745,lon:-.0591456,display:!0 },{ crs:'NCK',name:'New Cumnock',lat:55.4027,lon:-4.18434,display:!0 },{ crs:'NCL',name:'Newcastle',lat:54.9682,lon:-1.61729,display:!0 },{ crs:'NCM',name:'North Camp',lat:51.2758,lon:-.731198,display:!0 },{ crs:'NCO',name:'Newcourt',lat:50.7027,lon:-3.47255,display:!0 },{ crs:'NCT',name:'Newark Castle',lat:53.08,lon:-.813152,display:!0 },{ crs:'NDL',name:'North Dulwich',lat:51.4545,lon:-.0879124,display:!0 },{ crs:'NEG',name:'Newtongrange',lat:55.8649,lon:-3.06854,display:!0 },{ crs:'NEH',name:'New Eltham',lat:51.4377,lon:.0703826,display:!0 },{ crs:'NEI',name:'Neilston',lat:55.783,lon:-4.42695,display:!0 },{ crs:'NEL',name:'Nelson',lat:53.835,lon:-2.21376,display:!0 },{ crs:'NEM',name:'New Malden',lat:51.4041,lon:-.25594,display:!0 },{ crs:'NES',name:'Neston',lat:53.2924,lon:-3.06378,display:!0 },{ crs:'NET',name:'Netherfield',lat:52.9615,lon:-1.07963,display:!0 },{ crs:'NEW',name:'Newcraighall',lat:55.9348,lon:-3.09276,display:!0 },{ crs:'NFA',name:'North Fambridge',lat:51.6486,lon:.681673,display:!0 },{ crs:'NFD',name:'Northfield',lat:52.4082,lon:-1.96585,display:!0 },{ crs:'NFL',name:'Northfleet',lat:51.4458,lon:.324336,display:!0 },{ crs:'NFN',name:'Nafferton',lat:54.0117,lon:-.386979,display:!0 },{ crs:'NGT',name:'Newington',lat:51.3533,lon:.668582,display:!0 },{ crs:'NHD',name:'Nunhead',lat:51.467,lon:-.0526923,display:!0 },{ crs:'NHE',name:'New Hythe',lat:51.313,lon:.454935,display:!0 },{ crs:'NHL',name:'New Holland',lat:53.7019,lon:-.360204,display:!0 },{ crs:'NIT',name:'Nitshill',lat:55.8119,lon:-4.35995,display:!0 },{ crs:'NLN',name:'New Lane',lat:53.6113,lon:-2.86756,display:!0 },{ crs:'NLR',name:'North Llanrwst',lat:53.1438,lon:-3.80275,display:!0 },{ crs:'NLS',name:'Nailsea & Backwell',lat:51.4194,lon:-2.75065,display:!0 },{ crs:'NLT',name:'Northolt Park',lat:51.5576,lon:-.359421,display:!0 },{ crs:'NLW',name:'Newton-le-Willows',lat:53.4531,lon:-2.61359,display:!0 },{ crs:'NMC',name:'New Mills Central',lat:53.3649,lon:-2.00567,display:!0 },{ crs:'NMK',name:'Newmarket',lat:52.238,lon:.406217,display:!0 },{ crs:'NMN',name:'New Mills Newtown',lat:53.3596,lon:-2.00852,display:!0 },{ crs:'NMP',name:'Northampton',lat:52.2375,lon:-.906652,display:!0 },{ crs:'NMT',name:'Needham Market',lat:52.1526,lon:1.05527,display:!0 },{ crs:'NNG',name:'Newark North Gate',lat:53.0819,lon:-.800111,display:!0 },{ crs:'NNP',name:'Ninian Park',lat:51.4764,lon:-3.20141,display:!0 },{ crs:'NNT',name:'Nunthorpe',lat:54.5279,lon:-1.16944,display:!0 },{ crs:'NOA',name:'Newton-on-Ayr',lat:55.474,lon:-4.62582,display:!0 },{ crs:'NOR',name:'Normanton',lat:53.6999,lon:-1.42349,display:!0 },{ crs:'NOT',name:'Nottingham',lat:52.9472,lon:-1.14689,display:!0 },{ crs:'NPD',name:'New Pudsey',lat:53.8045,lon:-1.68079,display:!0 },{ crs:'NQU',name:'North Queensferry',lat:56.0125,lon:-3.39458,display:!0 },{ crs:'NQY',name:'Newquay',lat:50.4151,lon:-5.07571,display:!0 },{ crs:'NRB',name:'Norbury',lat:51.4114,lon:-.121922,display:!0 },{ crs:'NRC',name:'Newbury Racecourse',lat:51.3985,lon:-1.3078,display:!0 },{ crs:'NRD',name:'North Road (Darlington)',lat:54.5362,lon:-1.55395,display:!0 },{ crs:'NRN',name:'Nairn',lat:57.5801,lon:-3.873,display:!0 },{ crs:'NRT',name:'Nethertown',lat:54.457,lon:-3.5664,display:!0 },{ crs:'NRW',name:'Norwich',lat:52.6272,lon:1.30683,display:!0 },{ crs:'NSB',name:'Normans Bay',lat:50.8261,lon:.389477,display:!0 },{ crs:'NSD',name:'Newstead',lat:53.0717,lon:-1.22236,display:!0 },{ crs:'NSG',name:'New Southgate',lat:51.6141,lon:-.14303,display:!0 },{ crs:'NSH',name:'North Sheen',lat:51.4654,lon:-.286427,display:!0 },{ crs:'NTA',name:'Newton Abbot',lat:50.5296,lon:-3.59919,display:!0 },{ crs:'NTB',name:'Norton Bridge',lat:52.8667,lon:-2.19055,display:!0 },{ crs:'NTC',name:'Newton St Cyres',lat:50.7789,lon:-3.58941,display:!0 },{ crs:'NTH',name:'Neath',lat:51.6624,lon:-3.80725,display:!0 },{ crs:'NTL',name:'Netley',lat:50.8749,lon:-1.34177,display:!0 },{ crs:'NTN',name:'Newton (Lanark)',lat:55.8188,lon:-4.13304,display:!0 },{ crs:'NTR',name:'Northallerton',lat:54.3331,lon:-1.44128,display:!0 },{ crs:'NUF',name:'Nutfield',lat:51.2269,lon:-.133758,display:!0 },{ crs:'NUM',name:'Northumberland Park',lat:51.6017,lon:-.0535756,display:!0 },{ crs:'NUN',name:'Nuneaton',lat:52.5264,lon:-1.46387,display:!0 },{ crs:'NUT',name:'Nutbourne',lat:50.8461,lon:-.882952,display:!0 },{ crs:'NVH',name:'Newhaven Harbour',lat:50.7898,lon:.0549984,display:!0 },{ crs:'NVN',name:'Newhaven Town',lat:50.7948,lon:.0549509,display:!0 },{ crs:'NVR',name:'Navigation Road',lat:53.3955,lon:-2.34359,display:!0 },{ crs:'NWA',name:'North Walsham',lat:52.8169,lon:1.38447,display:!0 },{ crs:'NWB',name:'North Wembley',lat:51.5626,lon:-.303984,display:!0 },{ crs:'NWD',name:'Norwood Junction',lat:51.397,lon:-.0752164,display:!0 },{ crs:'NWE',name:'Newport (Essex)',lat:51.9799,lon:.215143,display:!0 },{ crs:'NWI',name:'Northwich',lat:53.2615,lon:-2.49693,display:!0 },{ crs:'NWM',name:'New Milton',lat:50.7557,lon:-1.65781,display:!0 },{ crs:'NWN',name:'Newton for Hyde',lat:53.4567,lon:-2.06697,display:!0 },{ crs:'NWP',name:'Newport (South Wales)',lat:51.5897,lon:-2.99865,display:!0 },{ crs:'NWR',name:'Newtonmore',lat:57.0591,lon:-4.1191,display:!0 },{ crs:'NWT',name:'Newtown (Powys)',lat:52.5123,lon:-3.3114,display:!0 },{ crs:'NWX',name:'New Cross',lat:51.4764,lon:-.0329953,display:!0 },{ crs:'NXG',name:'New Cross Gate',lat:51.4753,lon:-.0403847,display:!0 },{ crs:'OBN',name:'Oban',lat:56.4125,lon:-5.47392,display:!0 },{ crs:'OCK',name:'Ockendon',lat:51.522,lon:.290471,display:!0 },{ crs:'OHL',name:'Old Hill',lat:52.4709,lon:-2.05619,display:!0 },{ crs:'OKE',name:'Okehampton',lat:50.7375,lon:-3.9953,display:!0 },{ crs:'OKL',name:'Oakleigh Park',lat:51.6377,lon:-.16621,display:!0 },{ crs:'OKM',name:'Oakham',lat:52.6722,lon:-.734163,display:!0 },{ crs:'OKN',name:'Oakengates',lat:52.6934,lon:-2.45019,display:!0 },{ crs:'OLD',name:'Old Street',lat:51.5258,lon:-.0885296,display:!0 },{ crs:'OLF',name:'Oldfield Park',lat:51.3792,lon:-2.38029,display:!0 },{ crs:'OLT',name:'Olton',lat:52.4385,lon:-1.80432,display:!0 },{ crs:'OLY',name:'Ockley',lat:51.1515,lon:-.336003,display:!0 },{ crs:'OMS',name:'Ormskirk',lat:53.569,lon:-2.88179,display:!0 },{ crs:'OPK',name:'Orrell Park',lat:53.4619,lon:-2.96332,display:!0 },{ crs:'ORE',name:'Ore',lat:50.8669,lon:.591575,display:!0 },{ crs:'ORN',name:'Old Roan',lat:53.4869,lon:-2.95108,display:!0 },{ crs:'ORP',name:'Orpington',lat:51.3735,lon:.0890385,display:!0 },{ crs:'ORR',name:'Orrell',lat:53.5299,lon:-2.7093,display:!0 },{ crs:'OTF',name:'Otford',lat:51.3132,lon:.196791,display:!0 },{ crs:'OUN',name:'Oulton Broad North',lat:52.4778,lon:1.71573,display:!0 },{ crs:'OUS',name:'Oulton Broad South',lat:52.4697,lon:1.70798,display:!0 },{ crs:'OUT',name:'Outwood',lat:53.715,lon:-1.50994,display:!0 },{ crs:'OVE',name:'Overpool',lat:53.2841,lon:-2.92482,display:!0 },{ crs:'OVR',name:'Overton',lat:51.2541,lon:-1.26002,display:!0 },{ crs:'OXF',name:'Oxford',lat:51.7535,lon:-1.27015,display:!0 },{ crs:'OXN',name:'Oxenholme Lake District',lat:54.3052,lon:-2.72225,display:!0 },{ crs:'OXP',name:'Oxford Parkway',lat:51.8041,lon:-1.2745,display:!0 },{ crs:'OXS',name:'Oxshott',lat:51.3364,lon:-.362408,display:!0 },{ crs:'OXT',name:'Oxted',lat:51.2579,lon:-.004813,display:!0 },{ crs:'PAD',name:'London Paddington',lat:51.5165,lon:-.176845,display:!0 },{ crs:'PAL',name:'Palmers Green',lat:51.6188,lon:-.11034,display:!0 },{ crs:'PAN',name:'Pangbourne',lat:51.4854,lon:-1.09046,display:!0 },{ crs:'PAR',name:'Par',lat:50.3553,lon:-4.70472,display:!0 },{ crs:'PAT',name:'Patricroft',lat:53.4851,lon:-2.35697,display:!0 },{ crs:'PBL',name:'Parbold',lat:53.591,lon:-2.7706,display:!0 },{ crs:'PBO',name:'Peterborough',lat:52.575,lon:-.24983,display:!0 },{ crs:'PBR',name:'Potters Bar',lat:51.6973,lon:-.19236,display:!0 },{ crs:'PBY',name:'Pembrey & Burry Port',lat:51.6835,lon:-4.24787,display:!0 },{ crs:'PCD',name:'Pencoed',lat:51.5246,lon:-3.5005,display:!0 },{ crs:'PCN',name:'Paisley Canal',lat:55.8401,lon:-4.4238,display:!0 },{ crs:'PDG',name:'Padgate',lat:53.4058,lon:-2.55681,display:!0 },{ crs:'PDW',name:'Paddock Wood',lat:51.1823,lon:.389165,display:!0 },{ crs:'PEA',name:'Peartree',lat:52.8981,lon:-1.47268,display:!0 },{ crs:'PEB',name:'Pevensey Bay',lat:50.8175,lon:.34292,display:!0 },{ crs:'PEG',name:'Pegswood',lat:55.1777,lon:-1.64449,display:!0 },{ crs:'PEM',name:'Pemberton',lat:53.5303,lon:-2.66932,display:!0 },{ crs:'PEN',name:'Penarth',lat:51.4359,lon:-3.17446,display:!0 },{ crs:'PER',name:'Penrhiwceiber',lat:51.6699,lon:-3.35996,display:!0 },{ crs:'PES',name:'Pensarn (Gwynedd)',lat:52.8307,lon:-4.11217,display:!0 },{ crs:'PET',name:'Petts Wood',lat:51.3886,lon:.0744902,display:!0 },{ crs:'PEV',name:'Pevensey & Westham',lat:50.8158,lon:.32482,display:!0 },{ crs:'PEW',name:'Pewsey',lat:51.3422,lon:-1.77068,display:!0 },{ crs:'PFL',name:'Purfleet',lat:51.481,lon:.236781,display:!0 },{ crs:'PFM',name:'Pontefract Monkhill',lat:53.6991,lon:-1.30263,display:!0 },{ crs:'PFR',name:'Pontefract Baghill',lat:53.6919,lon:-1.30336,display:!0 },{ crs:'PFY',name:'Poulton-le-Fylde',lat:53.8481,lon:-2.99029,display:!0 },{ crs:'PGM',name:'Pengam',lat:51.6705,lon:-3.23011,display:!0 },{ crs:'PGN',name:'Paignton',lat:50.4347,lon:-3.56434,display:!0 },{ crs:'PHG',name:'Penhelig',lat:52.5457,lon:-4.03504,display:!0 },{ crs:'PHR',name:'Penshurst',lat:51.1973,lon:.173483,display:!0 },{ crs:'PIL',name:'Pilning',lat:51.5566,lon:-2.62712,display:!0 },{ crs:'PIN',name:'Pinhoe',lat:50.7376,lon:-3.47152,display:!0 },{ crs:'PIT',name:'Pitlochry',lat:56.7025,lon:-3.73557,display:!0 },{ crs:'PKG',name:'Penkridge',lat:52.7235,lon:-2.1193,display:!0 },{ crs:'PKS',name:'Parkstone (Dorset)',lat:50.7231,lon:-1.94896,display:!0 },{ crs:'PKT',name:'Park Street',lat:51.7255,lon:-.340277,display:!0 },{ crs:'PLC',name:'Pluckley',lat:51.1565,lon:.747409,display:!0 },{ crs:'PLD',name:'Portslade',lat:50.8357,lon:-.205324,display:!0 },{ crs:'PLE',name:'Pollokshields East',lat:55.8411,lon:-4.2686,display:!0 },{ crs:'PLG',name:'Polegate',lat:50.8212,lon:.245732,display:!0 },{ crs:'PLK',name:'Plockton',lat:57.3335,lon:-5.666,display:!0 },{ crs:'PLM',name:'Plumley',lat:53.2747,lon:-2.41967,display:!0 },{ crs:'PLN',name:'Portlethen',lat:57.0614,lon:-2.12662,display:!0 },{ crs:'PLS',name:'Pleasington',lat:53.731,lon:-2.54413,display:!0 },{ crs:'PLT',name:'Pontlottyn',lat:51.7466,lon:-3.27897,display:!0 },{ crs:'PLU',name:'Plumstead',lat:51.4898,lon:.0842667,display:!0 },{ crs:'PLW',name:'Pollokshields West',lat:55.8377,lon:-4.27575,display:!0 },{ crs:'PLY',name:'Plymouth',lat:50.3778,lon:-4.14336,display:!0 },{ crs:'PMA',name:'Portsmouth Arms',lat:50.957,lon:-3.95061,display:!0 },{ crs:'PMB',name:'Pembroke',lat:51.6729,lon:-4.90607,display:!0 },{ crs:'PMD',name:'Pembroke Dock',lat:51.6939,lon:-4.93808,display:!0 },{ crs:'PMH',name:'Portsmouth Harbour',lat:50.7969,lon:-1.10784,display:!0 },{ crs:'PMP',name:'Plumpton',lat:50.9287,lon:-.0601781,display:!0 },{ crs:'PMR',name:'Peckham Rye',lat:51.47,lon:-.0693942,display:!0 },{ crs:'PMS',name:'Portsmouth & Southsea',lat:50.7985,lon:-1.09091,display:!0 },{ crs:'PMT',name:'Polmont',lat:55.9847,lon:-3.71497,display:!0 },{ crs:'PMW',name:'Penmaenmawr',lat:53.2705,lon:-3.92352,display:!0 },{ crs:'PNA',name:'Penally',lat:51.6589,lon:-4.72209,display:!0 },{ crs:'PNC',name:'Penychain',lat:52.9029,lon:-4.33872,display:!0 },{ crs:'PNE',name:'Penge East',lat:51.4193,lon:-.0541428,display:!0 },{ crs:'PNF',name:'Penyffordd',lat:53.1431,lon:-3.05485,display:!0 },{ crs:'PNL',name:'Pannal',lat:53.9583,lon:-1.53346,display:!0 },{ crs:'PNM',name:'Penmere',lat:50.1498,lon:-5.083,display:!0 },{ crs:'PNR',name:'Penrith (North Lakes)',lat:54.6618,lon:-2.75804,display:!0 },{ crs:'PNS',name:'Penistone',lat:53.5255,lon:-1.62255,display:!0 },{ crs:'PNW',name:'Penge West',lat:51.4176,lon:-.0608342,display:!0 },{ crs:'PNY',name:'Pen-y-Bont',lat:52.2739,lon:-3.32194,display:!0 },{ crs:'PNZ',name:'Penzance',lat:50.1217,lon:-5.53247,display:!0 },{ crs:'POK',name:'Pokesdown',lat:50.7311,lon:-1.82511,display:!0 },{ crs:'POL',name:'Polsloe Bridge',lat:50.7311,lon:-3.5015,display:!0 },{ crs:'PON',name:'Ponders End',lat:51.6427,lon:-.0344735,display:!0 },{ crs:'POO',name:'Poole',lat:50.7194,lon:-1.98333,display:!0 },{ crs:'POP',name:'Poppleton',lat:53.9761,lon:-1.14859,display:!0 },{ crs:'POR',name:'Porth',lat:51.6125,lon:-3.4072,display:!0 },{ crs:'POT',name:'Pontefract Tanshelf',lat:53.6941,lon:-1.31892,display:!0 },{ crs:'PPD',name:'Pontypridd',lat:51.5994,lon:-3.34139,display:!0 },{ crs:'PPK',name:'Possilpark & Parkhouse',lat:55.8902,lon:-4.25803,display:!0 },{ crs:'PPL',name:'Pontypool & New Inn',lat:51.698,lon:-3.01425,display:!0 },{ crs:'PRA',name:'Prestwick International Airport',lat:55.509,lon:-4.61416,display:!0 },{ crs:'PRB',name:'Prestbury',lat:53.2934,lon:-2.14548,display:!0 },{ crs:'PRE',name:'Preston (Lancs)',lat:53.7569,lon:-2.70812,display:!0 },{ crs:'PRH',name:'Penrhyndeudraeth',lat:52.9288,lon:-4.06457,display:!0 },{ crs:'PRL',name:'Prittlewell',lat:51.5507,lon:.71069,display:!0 },{ crs:'PRN',name:'Parton',lat:54.5699,lon:-3.58202,display:!0 },{ crs:'PRP',name:'Preston Park',lat:50.8459,lon:-.155168,display:!0 },{ crs:'PRR',name:'Princes Risborough',lat:51.7179,lon:-.843881,display:!0 },{ crs:'PRS',name:'Prees',lat:52.8997,lon:-2.68974,display:!0 },{ crs:'PRT',name:'Prestatyn',lat:53.3365,lon:-3.40714,display:!0 },{ crs:'PRU',name:'Prudhoe',lat:54.9661,lon:-1.86486,display:!0 },{ crs:'PRW',name:'Perranwell',lat:50.2165,lon:-5.11184,display:!0 },{ crs:'PRY',name:'Perry Barr',lat:52.5165,lon:-1.90196,display:!0 },{ crs:'PSC',name:'Prescot',lat:53.4236,lon:-2.79917,display:!0 },{ crs:'PSE',name:'Pitsea',lat:51.5604,lon:.506301,display:!0 },{ crs:'PSH',name:'Pershore',lat:52.1303,lon:-2.07154,display:!0 },{ crs:'PSL',name:'Port Sunlight',lat:53.3493,lon:-2.99804,display:!0 },{ crs:'PSN',name:'Parson Street',lat:51.4335,lon:-2.60831,display:!0 },{ crs:'PST',name:'Prestonpans',lat:55.9531,lon:-2.97477,display:!0 },{ crs:'PSW',name:'Polesworth',lat:52.6259,lon:-1.60995,display:!0 },{ crs:'PTA',name:'Port Talbot Parkway',lat:51.5917,lon:-3.78134,display:!0 },{ crs:'PTB',name:'Pentre-Bach',lat:51.725,lon:-3.36233,display:!0 },{ crs:'PTC',name:'Portchester',lat:50.8487,lon:-1.12424,display:!0 },{ crs:'PTD',name:'Pontarddulais',lat:51.7176,lon:-4.04558,display:!0 },{ crs:'PTF',name:'Pantyffynnon',lat:51.7789,lon:-3.99746,display:!0 },{ crs:'PTG',name:'Port Glasgow',lat:55.9335,lon:-4.68981,display:!0 },{ crs:'PTH',name:'Perth',lat:56.3927,lon:-3.44004,display:!0 },{ crs:'PTK',name:'Partick',lat:55.8699,lon:-4.3088,display:!0 },{ crs:'PTL',name:'Priesthill & Darnley',lat:55.8122,lon:-4.34289,display:!0 },{ crs:'PTM',name:'Porthmadog',lat:52.9309,lon:-4.13446,display:!0 },{ crs:'PTR',name:'Petersfield',lat:51.0067,lon:-.941144,display:!0 },{ crs:'PTT',name:'Patterton',lat:55.7904,lon:-4.33488,display:!0 },{ crs:'PTW',name:'Prestwick Town',lat:55.5017,lon:-4.61515,display:!0 },{ crs:'PUL',name:'Pulborough',lat:50.9573,lon:-.516553,display:!0 },{ crs:'PUO',name:'Purley Oaks',lat:51.347,lon:-.098852,display:!0 },{ crs:'PUR',name:'Purley',lat:51.3374,lon:-.113609,display:!0 },{ crs:'PUT',name:'Putney',lat:51.4613,lon:-.216473,display:!0 },{ crs:'PWE',name:'Pollokshaws East',lat:55.8247,lon:-4.28744,display:!0 },{ crs:'PWL',name:'Pwllheli',lat:52.8879,lon:-4.41672,display:!0 },{ crs:'PWW',name:'Pollokshaws West',lat:55.8238,lon:-4.3016,display:!0 },{ crs:'PWY',name:'Patchway',lat:51.5259,lon:-2.5627,display:!0 },{ crs:'PYC',name:'Pontyclun',lat:51.5238,lon:-3.39293,display:!0 },{ crs:'PYE',name:'Pye Corner',lat:51.5795,lon:-3.0383,display:!0 },{ crs:'PYG',name:'Paisley Gilmour Street',lat:55.8473,lon:-4.4245,display:!0 },{ crs:'PYJ',name:'Paisley St James',lat:55.8521,lon:-4.44244,display:!0 },{ crs:'PYL',name:'Pyle',lat:51.5257,lon:-3.69808,display:!0 },{ crs:'PYN',name:'Penryn (Cornwall)',lat:50.1703,lon:-5.11094,display:!0 },{ crs:'PYP',name:'Pont-y-Pant',lat:53.0652,lon:-3.86274,display:!0 },{ crs:'PYT',name:'Poynton',lat:53.3504,lon:-2.13441,display:!0 },{ crs:'QBR',name:'Queenborough',lat:51.4156,lon:.74968,display:!0 },{ crs:'QPK',name:'Queens Park (Glasgow)',lat:55.8357,lon:-4.26732,display:!0 },{ crs:'QPW',name:'Queens Park (London)',lat:51.534,lon:-.204983,display:!0 },{ crs:'QRB',name:'Queenstown Road (Battersea)',lat:51.4746,lon:-.146833,display:!0 },{ crs:'QRP',name:'Queens Road (Peckham)',lat:51.4741,lon:-.0575742,display:!0 },{ crs:'QUI',name:'Quintrell Downs',lat:50.404,lon:-5.02981,display:!0 },{ crs:'QYD',name:'Quakers Yard',lat:51.6607,lon:-3.32281,display:!0 },{ crs:'RAD',name:'Radley',lat:51.6862,lon:-1.24048,display:!0 },{ crs:'RAI',name:'Rainham (Kent)',lat:51.3663,lon:.611347,display:!0 },{ crs:'RAM',name:'Ramsgate',lat:51.341,lon:1.40606,display:!0 },{ crs:'RAN',name:'Rannoch',lat:56.686,lon:-4.57686,display:!0 },{ crs:'RAU',name:'Rauceby',lat:52.9852,lon:-.456603,display:!0 },{ crs:'RAV',name:'Ravenglass for Eskdale',lat:54.3556,lon:-3.40896,display:!0 },{ crs:'RAY',name:'Raynes Park',lat:51.4094,lon:-.229999,display:!0 },{ crs:'RBR',name:'Robertsbridge',lat:50.9849,lon:.468786,display:!0 },{ crs:'RBS',name:'Redcar British Steel',lat:54.6099,lon:-1.11267,display:!0 },{ crs:'RCA',name:'Risca & Pontymister',lat:51.6058,lon:-3.09223,display:!0 },{ crs:'RCC',name:'Redcar Central',lat:54.6162,lon:-1.07087,display:!0 },{ crs:'RCD',name:'Rochdale',lat:53.6103,lon:-2.15352,display:!0 },{ crs:'RCE',name:'Redcar East',lat:54.6093,lon:-1.0523,display:!0 },{ crs:'RDA',name:'Redland',lat:51.4684,lon:-2.59913,display:!0 },{ crs:'RDB',name:'Redbridge',lat:50.9199,lon:-1.47017,display:!0 },{ crs:'RDC',name:'Redditch',lat:52.3063,lon:-1.94525,display:!0 },{ crs:'RDD',name:'Riddlesdown',lat:51.3327,lon:-.0994469,display:!0 },{ crs:'RDF',name:'Radcliffe (Nottinghamshire)',lat:52.9489,lon:-1.03658,display:!0 },{ crs:'RDG',name:'Reading',lat:51.4588,lon:-.971854,display:!0 },{ crs:'RDH',name:'Redhill',lat:51.2402,lon:-.165898,display:!0 },{ crs:'RDM',name:'Riding Mill',lat:54.949,lon:-1.97077,display:!0 },{ crs:'RDN',name:'Reddish North',lat:53.4494,lon:-2.15625,display:!0 },{ crs:'RDR',name:'Radyr',lat:51.5165,lon:-3.24801,display:!0 },{ crs:'RDS',name:'Reddish South',lat:53.4369,lon:-2.15786,display:!0 },{ crs:'RDT',name:'Radlett',lat:51.6852,lon:-.31724,display:!0 },{ crs:'RDW',name:'Reading West',lat:51.4555,lon:-.990295,display:!0 },{ crs:'REC',name:'Rectory Road',lat:51.5588,lon:-.0683933,display:!0 },{ crs:'RED',name:'Redruth',lat:50.2332,lon:-5.22597,display:!0 },{ crs:'REE',name:'Reedham (Norfolk)',lat:52.5645,lon:1.55967,display:!0 },{ crs:'REI',name:'Reigate',lat:51.242,lon:-.203825,display:!0 },{ crs:'RET',name:'Retford',lat:53.3152,lon:-.947878,display:!0 },{ crs:'RFD',name:'Rochford',lat:51.5817,lon:.702317,display:!0 },{ crs:'RFY',name:'Rock Ferry',lat:53.3729,lon:-3.01091,display:!0 },{ crs:'RGL',name:'Rugeley Trent Valley',lat:52.77,lon:-1.92955,display:!0 },{ crs:'RGT',name:'Rugeley Town',lat:52.7544,lon:-1.93684,display:!0 },{ crs:'RGW',name:'Ramsgreave & Wilpshire',lat:53.7801,lon:-2.47875,display:!0 },{ crs:'RHD',name:'Ribblehead',lat:54.2058,lon:-2.36085,display:!0 },{ crs:'RHI',name:'Rhiwbina',lat:51.5212,lon:-3.21398,display:!0 },{ crs:'RHL',name:'Rhyl',lat:53.3184,lon:-3.48911,display:!0 },{ crs:'RHM',name:'Reedham (London)',lat:51.3322,lon:-.123872,display:!0 },{ crs:'RHO',name:'Rhosneigr',lat:53.2349,lon:-4.50666,display:!0 },{ crs:'RHY',name:'Rhymney',lat:51.7588,lon:-3.28931,display:!0 },{ crs:'RIA',name:'Rhoose Cardiff International Airport',lat:51.3871,lon:-3.3494,display:!0 },{ crs:'RIC',name:'Rickmansworth',lat:51.6402,lon:-.473273,display:!0 },{ crs:'RID',name:'Ridgmont',lat:52.0264,lon:-.594548,display:!0 },{ crs:'RIL',name:'Rice Lane',lat:53.4578,lon:-2.96232,display:!0 },{ crs:'RIS',name:'Rishton',lat:53.7636,lon:-2.42016,display:!0 },{ crs:'RKT',name:'Ruskington',lat:53.0415,lon:-.380756,display:!0 },{ crs:'RLG',name:'Rayleigh',lat:51.5895,lon:.600639,display:!0 },{ crs:'RLN',name:'Rowlands Castle',lat:50.8922,lon:-.957465,display:!0 },{ crs:'RMB',name:'Roman Bridge',lat:53.0444,lon:-3.92165,display:!0 },{ crs:'RMC',name:'Rotherham Central',lat:53.4323,lon:-1.36044,display:!0 },{ crs:'RMD',name:'Richmond (London)',lat:51.4631,lon:-.30104,display:!0 },{ crs:'RMF',name:'Romford',lat:51.5748,lon:.183251,display:!0 },{ crs:'RML',name:'Romiley',lat:53.4142,lon:-2.08917,display:!0 },{ crs:'RNF',name:'Rainford',lat:53.5171,lon:-2.78947,display:!0 },{ crs:'RNH',name:'Rainhill',lat:53.4171,lon:-2.7664,display:!0 },{ crs:'RNM',name:'Rainham (Essex)',lat:51.5174,lon:.190749,display:!0 },{ crs:'RNR',name:'Roughton Road',lat:52.918,lon:1.2998,display:!0 },{ crs:'ROB',name:'Roby',lat:53.4101,lon:-2.85594,display:!0 },{ crs:'ROC',name:'Roche',lat:50.4183,lon:-4.83023,display:!0 },{ crs:'ROE',name:'Rotherhithe',lat:51.501,lon:-.053555,display:!0 },{ crs:'ROG',name:'Rogart',lat:57.9887,lon:-4.15819,display:!0 },{ crs:'ROL',name:'Rolleston',lat:53.0657,lon:-.898762,display:!0 },{ crs:'ROM',name:'Romsey',lat:50.9925,lon:-1.49315,display:!0 },{ crs:'ROO',name:'Roose',lat:54.1152,lon:-3.19458,display:!0 },{ crs:'ROR',name:'Rogerstone',lat:51.5956,lon:-3.06663,display:!0 },{ crs:'ROS',name:'Rosyth',lat:56.0455,lon:-3.42731,display:!0 },{ crs:'ROW',name:'Rowley Regis',lat:52.4773,lon:-2.03088,display:!0 },{ crs:'RRB',name:'Ryder Brow',lat:53.4571,lon:-2.17345,display:!0 },{ crs:'RSG',name:'Rose Grove',lat:53.7867,lon:-2.28227,display:!0 },{ crs:'RSH',name:'Rose Hill Marple',lat:53.3961,lon:-2.0759,display:!0 },{ crs:'RTN',name:'Renton',lat:55.9704,lon:-4.58611,display:!0 },{ crs:'RTR',name:'Rochester',lat:51.3855,lon:.510289,display:!0 },{ crs:'RUA',name:'Ruabon',lat:52.9602,lon:-3.0425,display:!0 },{ crs:'RUE',name:'Runcorn East',lat:53.3269,lon:-2.66509,display:!0 },{ crs:'RUF',name:'Rufford',lat:53.635,lon:-2.80694,display:!0 },{ crs:'RUG',name:'Rugby',lat:52.3791,lon:-1.25048,display:!0 },{ crs:'RUN',name:'Runcorn',lat:53.3387,lon:-2.73925,display:!0 },{ crs:'RUS',name:'Ruswarp',lat:54.4702,lon:-.627766,display:!0 },{ crs:'RUT',name:'Rutherglen',lat:55.8306,lon:-4.2121,display:!0 },{ crs:'RVB',name:'Ravensbourne',lat:51.4139,lon:-.00691665,display:!0 },{ crs:'RVN',name:'Ravensthorpe',lat:53.6755,lon:-1.65558,display:!0 },{ crs:'RWC',name:'Rawcliffe',lat:53.6891,lon:-.960856,display:!0 },{ crs:'RYB',name:'Roy Bridge',lat:56.8883,lon:-4.83724,display:!0 },{ crs:'RYD',name:'Ryde Esplanade',lat:50.7329,lon:-1.15977,display:!0 },{ crs:'RYE',name:'Rye (Sussex)',lat:50.9524,lon:.730706,display:!0 },{ crs:'RYH',name:'Rye House',lat:51.7694,lon:.00563757,display:!0 },{ crs:'RYN',name:'Roydon',lat:51.7755,lon:.036262,display:!0 },{ crs:'RYP',name:'Ryde Pier Head',lat:50.7392,lon:-1.16013,display:!0 },{ crs:'RYR',name:'Ryde St Johns Road',lat:50.7243,lon:-1.15657,display:!0 },{ crs:'RYS',name:'Royston',lat:52.0531,lon:-.02691,display:!0 },{ crs:'SAA',name:'St Albans Abbey',lat:51.7447,lon:-.342569,display:!0 },{ crs:'SAB',name:'Smallbrook Junction',lat:50.7112,lon:-1.15507,display:!0 },{ crs:'SAC',name:'St Albans City',lat:51.7505,lon:-.32754,display:!0 },{ crs:'SAD',name:'Sandwell & Dudley',lat:52.5086,lon:-2.01174,display:!0 },{ crs:'SAE',name:'Saltaire',lat:53.8389,lon:-1.79162,display:!0 },{ crs:'SAF',name:'Salfords (Surrey)',lat:51.2017,lon:-.162488,display:!0 },{ crs:'SAH',name:'Salhouse',lat:52.6756,lon:1.39143,display:!0 },{ crs:'SAJ',name:'St Johns (London)',lat:51.469,lon:-.0232328,display:!0 },{ crs:'SAL',name:'Salisbury',lat:51.0705,lon:-1.80639,display:!0 },{ crs:'SAM',name:'Saltmarshe',lat:53.7224,lon:-.810008,display:!0 },{ crs:'SAN',name:'Sandown',lat:50.6569,lon:-1.16239,display:!0 },{ crs:'SAR',name:'St Andrews Road',lat:51.5128,lon:-2.6967,display:!0 },{ crs:'SAS',name:'St Annes-on-the-Sea',lat:53.7534,lon:-3.02913,display:!0 },{ crs:'SAT',name:'South Acton',lat:51.4997,lon:-.270157,display:!0 },{ crs:'SAU',name:'St Austell',lat:50.3395,lon:-4.78941,display:!0 },{ crs:'SAV',name:'Stratford-upon-Avon',lat:52.1943,lon:-1.7163,display:!0 },{ crs:'SAW',name:'Sawbridgeworth',lat:51.8144,lon:.160425,display:!0 },{ crs:'SAX',name:'Saxmundham',lat:52.2149,lon:1.49018,display:!0 },{ crs:'SAY',name:'Swanley',lat:51.3934,lon:.169237,display:!0 },{ crs:'SBE',name:'Starbeck',lat:53.999,lon:-1.50114,display:!0 },{ crs:'SBF',name:'St Budeaux Ferry Road',lat:50.4014,lon:-4.18664,display:!0 },{ crs:'SBJ',name:'Stourbridge Junction',lat:52.4476,lon:-2.13385,display:!0 },{ crs:'SBK',name:'South Bank',lat:54.5838,lon:-1.17666,display:!0 },{ crs:'SBM',name:'South Bermondsey',lat:51.4881,lon:-.0546714,display:!0 },{ crs:'SBP',name:'Stonebridge Park',lat:51.5441,lon:-.275828,display:!0 },{ crs:'SBR',name:'Spean Bridge',lat:56.89,lon:-4.92161,display:!0 },{ crs:'SBS',name:'St Bees',lat:54.4926,lon:-3.59138,display:!0 },{ crs:'SBT',name:'Stourbridge Town',lat:52.4556,lon:-2.14182,display:!0 },{ crs:'SBU',name:'Southbury',lat:51.6485,lon:-.0530189,display:!0 },{ crs:'SBV',name:'St Budeaux Victoria Road',lat:50.4022,lon:-4.18809,display:!0 },{ crs:'SBY',name:'Selby',lat:53.7834,lon:-1.06356,display:!0 },{ crs:'SCA',name:'Scarborough',lat:54.2798,lon:-.405707,display:!0 },{ crs:'SCF',name:'Stechford',lat:52.4848,lon:-1.81103,display:!0 },{ crs:'SCG',name:'Stone Crossing',lat:51.4513,lon:.263786,display:!0 },{ crs:'SCH',name:'Scotstounhill',lat:55.8851,lon:-4.35288,display:!0 },{ crs:'SCR',name:'St Columb Road',lat:50.3991,lon:-4.94083,display:!0 },{ crs:'SCS',name:'Starcross',lat:50.6278,lon:-3.44773,display:!0 },{ crs:'SCT',name:'Scotscalder',lat:58.483,lon:-3.55207,display:!0 },{ crs:'SCU',name:'Scunthorpe',lat:53.5862,lon:-.65098,display:!0 },{ crs:'SCY',name:'South Croydon',lat:51.363,lon:-.0934522,display:!0 },{ crs:'SDA',name:'Snodland',lat:51.3302,lon:.448246,display:!0 },{ crs:'SDB',name:'Sandbach',lat:53.1502,lon:-2.39351,display:!0 },{ crs:'SDC',name:'Shoreditch High Street',lat:51.5229,lon:-.075684,display:!0 },{ crs:'SDE',name:'Shadwell',lat:51.5109,lon:-.057454,display:!0 },{ crs:'SDF',name:'Saundersfoot',lat:51.7221,lon:-4.71662,display:!0 },{ crs:'SDG',name:'Sandling',lat:51.0904,lon:1.06606,display:!0 },{ crs:'SDH',name:'Sudbury Hill Harrow',lat:51.5584,lon:-.336168,display:!0 },{ crs:'SDL',name:'Sandhills',lat:53.4299,lon:-2.9915,display:!0 },{ crs:'SDM',name:'Shieldmuir',lat:55.7775,lon:-3.95699,display:!0 },{ crs:'SDN',name:'St Denys',lat:50.922,lon:-1.38819,display:!0 },{ crs:'SDP',name:'Sandplace',lat:50.3867,lon:-4.46452,display:!0 },{ crs:'SDR',name:'Saunderton',lat:51.6759,lon:-.825469,display:!0 },{ crs:'SDW',name:'Sandwich',lat:51.2699,lon:1.34258,display:!0 },{ crs:'SDY',name:'Sandy',lat:52.1247,lon:-.28119,display:!0 },{ crs:'SEA',name:'Seaham',lat:54.8366,lon:-1.34092,display:!0 },{ crs:'SEC',name:'Seaton Carew',lat:54.6583,lon:-1.20042,display:!0 },{ crs:'SED',name:'Shelford (Cambs)',lat:52.1488,lon:.139982,display:!0 },{ crs:'SEE',name:'Southease',lat:50.8313,lon:.0306501,display:!0 },{ crs:'SEF',name:'Seaford (Sussex)',lat:50.7728,lon:.10014,display:!0 },{ crs:'SEG',name:'Selling',lat:51.2774,lon:.940889,display:!0 },{ crs:'SEH',name:'Shoreham (Kent)',lat:51.3322,lon:.188902,display:!0 },{ crs:'SEL',name:'Sellafield',lat:54.4166,lon:-3.51046,display:!0 },{ crs:'SEM',name:'Seamer',lat:54.2408,lon:-.417034,display:!0 },{ crs:'SEN',name:'Shenstone',lat:52.6391,lon:-1.84479,display:!0 },{ crs:'SER',name:'St Erth',lat:50.1705,lon:-5.44432,display:!0 },{ crs:'SES',name:'South Elmsall',lat:53.5946,lon:-1.28486,display:!0 },{ crs:'SET',name:'Settle',lat:54.0669,lon:-2.28071,display:!0 },{ crs:'SEV',name:'Sevenoaks',lat:51.2769,lon:.181681,display:!0 },{ crs:'SFA',name:'Stratford International',lat:51.545,lon:-.008613,display:!0 },{ crs:'SFD',name:'Salford Central',lat:53.4828,lon:-2.25553,display:!0 },{ crs:'SFI',name:'Shawfair',lat:55.9154,lon:-3.08844,display:!0 },{ crs:'SFL',name:'Seaforth & Litherland',lat:53.4661,lon:-3.0053,display:!0 },{ crs:'SFN',name:'Shifnal',lat:52.6661,lon:-2.37185,display:!0 },{ crs:'SFO',name:'Stanford-le-Hope',lat:51.5144,lon:.423041,display:!0 },{ crs:'SFR',name:'Shalford (Surrey)',lat:51.2143,lon:-.566799,display:!0 },{ crs:'SGB',name:'Smethwick Galton Bridge',lat:52.5018,lon:-1.9805,display:!0 },{ crs:'SGL',name:'South Gyle',lat:55.9363,lon:-3.29947,display:!0 },{ crs:'SGM',name:'St Germans',lat:50.3943,lon:-4.30845,display:!0 },{ crs:'SGN',name:'South Greenford',lat:51.5332,lon:-.336653,display:!0 },{ crs:'SGR',name:'Slade Green',lat:51.4678,lon:.190504,display:!0 },{ crs:'SHB',name:'Shirebrook',lat:53.2043,lon:-1.20244,display:!0 },{ crs:'SHC',name:'Streethouse',lat:53.6763,lon:-1.39989,display:!0 },{ crs:'SHD',name:'Shildon',lat:54.6268,lon:-1.63754,display:!0 },{ crs:'SHE',name:'Sherborne',lat:50.944,lon:-2.51308,display:!0 },{ crs:'SHF',name:'Sheffield',lat:53.3782,lon:-1.4621,display:!0 },{ crs:'SHH',name:'Shirehampton',lat:51.4846,lon:-2.67827,display:!0 },{ crs:'SHI',name:'Shiplake',lat:51.5112,lon:-.882524,display:!0 },{ crs:'SHJ',name:'St Helens Junction',lat:53.4335,lon:-2.69986,display:!0 },{ crs:'SHL',name:'Shawlands',lat:55.8292,lon:-4.29234,display:!0 },{ crs:'SHM',name:'Sheringham',lat:52.9409,lon:1.21133,display:!0 },{ crs:'SHN',name:'Shanklin',lat:50.6339,lon:-1.17984,display:!0 },{ crs:'SHO',name:'Sholing',lat:50.8967,lon:-1.36435,display:!0 },{ crs:'SHP',name:'Shepperton',lat:51.3968,lon:-.446777,display:!0 },{ crs:'SHR',name:'Shrewsbury',lat:52.7114,lon:-2.74894,display:!0 },{ crs:'SHS',name:'Shotts',lat:55.8186,lon:-3.79832,display:!0 },{ crs:'SHT',name:'Shotton',lat:53.2126,lon:-3.03843,display:!0 },{ crs:'SHU',name:'Stonehouse',lat:51.7459,lon:-2.27951,display:!0 },{ crs:'SHW',name:'Shawford',lat:51.0218,lon:-1.3282,display:!0 },{ crs:'SHY',name:'Shipley (Yorks)',lat:53.8327,lon:-1.77326,display:!0 },{ crs:'SIA',name:'Southend Airport',lat:51.5687,lon:.704052,display:!0 },{ crs:'SIC',name:'Silecroft',lat:54.2262,lon:-3.33537,display:!0 },{ crs:'SID',name:'Sidcup',lat:51.4344,lon:.103327,display:!0 },{ crs:'SIE',name:'Sherburn-in-Elmet',lat:53.7972,lon:-1.23268,display:!0 },{ crs:'SIH',name:'St Helier (London)',lat:51.39,lon:-.19912,display:!0 },{ crs:'SIL',name:'Sileby',lat:52.731,lon:-1.10966,display:!0 },{ crs:'SIN',name:'Singer',lat:55.9077,lon:-4.40548,display:!0 },{ crs:'SIP',name:'Shipton',lat:51.8657,lon:-1.5927,display:!0 },{ crs:'SIT',name:'Sittingbourne',lat:51.342,lon:.734698,display:!0 },{ crs:'SIV',name:'St Ives (Cornwall)',lat:50.2086,lon:-5.47679,display:!0 },{ crs:'SJP',name:'St James Park (Exeter)',lat:50.7307,lon:-3.52316,display:!0 },{ crs:'SJS',name:'St James Street (Walthamstow)',lat:51.5807,lon:-.0328236,display:!0 },{ crs:'SKE',name:'Skewen',lat:51.6614,lon:-3.84654,display:!0 },{ crs:'SKG',name:'Skegness',lat:53.1431,lon:.333904,display:!0 },{ crs:'SKI',name:'Skipton',lat:53.9587,lon:-2.02588,display:!0 },{ crs:'SKM',name:'Stoke Mandeville',lat:51.7878,lon:-.784085,display:!0 },{ crs:'SKN',name:'St Keyne Wishing Well Halt',lat:50.4231,lon:-4.46162,display:!0 },{ crs:'SKS',name:'Stocksfield',lat:54.947,lon:-1.91676,display:!0 },{ crs:'SKW',name:'Stoke Newington',lat:51.5652,lon:-.0728812,display:!0 },{ crs:'SLA',name:'Slateford',lat:55.9267,lon:-3.24345,display:!0 },{ crs:'SLB',name:'Saltburn',lat:54.5835,lon:-.974136,display:!0 },{ crs:'SLD',name:'Salford Crescent',lat:53.4866,lon:-2.27575,display:!0 },{ crs:'SLH',name:'Sleights',lat:54.4611,lon:-.662476,display:!0 },{ crs:'SLK',name:'Silkstone Common',lat:53.5349,lon:-1.56347,display:!0 },{ crs:'SLL',name:'Stallingborough',lat:53.5871,lon:-.183668,display:!0 },{ crs:'SLO',name:'Slough',lat:51.5119,lon:-.591505,display:!0 },{ crs:'SLQ',name:'St Leonards Warrior Square',lat:50.8559,lon:.560522,display:!0 },{ crs:'SLR',name:'Sleaford',lat:52.9955,lon:-.410342,display:!0 },{ crs:'SLS',name:'Shettleston',lat:55.8535,lon:-4.16003,display:!0 },{ crs:'SLT',name:'Saltcoats',lat:55.6339,lon:-4.78428,display:!0 },{ crs:'SLV',name:'Silver Street',lat:51.6152,lon:-.0726416,display:!0 },{ crs:'SLW',name:'Salwick',lat:53.7817,lon:-2.81977,display:!0 },{ crs:'SLY',name:'Selly Oak',lat:52.442,lon:-1.93581,display:!0 },{ crs:'SMA',name:'Small Heath',lat:52.4638,lon:-1.85939,display:!0 },{ crs:'SMB',name:'Smithy Bridge',lat:53.633,lon:-2.11338,display:!0 },{ crs:'SMC',name:'Sampford Courtenay',lat:50.779,lon:-3.93748,display:!0 },{ crs:'SMD',name:'Stamford (Lincs)',lat:52.6474,lon:-.480499,display:!0 },{ crs:'SMG',name:'St Margarets (London)',lat:51.4551,lon:-.320351,display:!0 },{ crs:'SMH',name:'Stamford Hill',lat:51.5745,lon:-.0766758,display:!0 },{ crs:'SMK',name:'Stowmarket',lat:52.1897,lon:1.00002,display:!0 },{ crs:'SML',name:'Sea Mills',lat:51.4795,lon:-2.65011,display:!0 },{ crs:'SMN',name:'Southminster',lat:51.6606,lon:.835211,display:!0 },{ crs:'SMO',name:'South Merton',lat:51.4032,lon:-.20551,display:!0 },{ crs:'SMR',name:'Smethwick Rolfe Street',lat:52.4964,lon:-1.97064,display:!0 },{ crs:'SMT',name:'St Margarets (Herts)',lat:51.7878,lon:.00127852,display:!0 },{ crs:'SMY',name:'St Mary Cray',lat:51.3948,lon:.107258,display:!0 },{ crs:'SNA',name:'Sandal & Agbrigg',lat:53.6631,lon:-1.48149,display:!0 },{ crs:'SND',name:'Sandhurst (Berks)',lat:51.3465,lon:-.803914,display:!0 },{ crs:'SNE',name:'Stone (Staffs)',lat:52.9084,lon:-2.15504,display:!0 },{ crs:'SNF',name:'Shenfield',lat:51.6309,lon:.329855,display:!0 },{ crs:'SNG',name:'Sunningdale',lat:51.3919,lon:-.633037,display:!0 },{ crs:'SNH',name:'St Helens Central',lat:53.4531,lon:-2.7303,display:!0 },{ crs:'SNI',name:'Snaith',lat:53.6931,lon:-1.02845,display:!0 },{ crs:'SNK',name:'Sankey for Penketh',lat:53.3925,lon:-2.65047,display:!0 },{ crs:'SNL',name:'Stoneleigh',lat:51.3634,lon:-.248665,display:!0 },{ crs:'SNN',name:'Swinton (Manchester)',lat:53.5148,lon:-2.33746,display:!0 },{ crs:'SNO',name:'St Neots',lat:52.2316,lon:-.24741,display:!0 },{ crs:'SNR',name:'Sanderstead',lat:51.3483,lon:-.093674,display:!0 },{ crs:'SNS',name:'Staines',lat:51.4325,lon:-.503157,display:!0 },{ crs:'SNT',name:'Stanlow & Thornton',lat:53.2783,lon:-2.84115,display:!0 },{ crs:'SNW',name:'Swanwick',lat:50.8757,lon:-1.26586,display:!0 },{ crs:'SNY',name:'Sunnymeads',lat:51.4699,lon:-.559006,display:!0 },{ crs:'SOA',name:'Southampton Airport Parkway',lat:50.9508,lon:-1.3631,display:!0 },{ crs:'SOB',name:'Southbourne',lat:50.8483,lon:-.908114,display:!0 },{ crs:'SOC',name:'Southend Central',lat:51.5371,lon:.71174,display:!0 },{ crs:'SOE',name:'Southend East',lat:51.539,lon:.731829,display:!0 },{ crs:'SOF',name:'South Woodham Ferrers',lat:51.6497,lon:.606673,display:!0 },{ crs:'SOG',name:'Stonegate',lat:51.02,lon:.363884,display:!0 },{ crs:'SOH',name:'South Hampstead',lat:51.5415,lon:-.17844,display:!0 },{ crs:'SOI',name:'Stow',lat:55.6916,lon:-2.86547,display:!0 },{ crs:'SOK',name:'South Kenton',lat:51.5702,lon:-.308463,display:!0 },{ crs:'SOL',name:'Solihull',lat:52.4144,lon:-1.7884,display:!0 },{ crs:'SOM',name:'South Milford',lat:53.7823,lon:-1.25053,display:!0 },{ crs:'SON',name:'Steeton & Silsden',lat:53.9003,lon:-1.94411,display:!0 },{ crs:'SOO',name:'Strood (Kent)',lat:51.3965,lon:.500194,display:!0 },{ crs:'SOP',name:'Southport',lat:53.6465,lon:-3.00244,display:!0 },{ crs:'SOR',name:'Sole Street',lat:51.3831,lon:.3781,display:!0 },{ crs:'SOT',name:'Stoke-on-Trent',lat:53.008,lon:-2.18099,display:!0 },{ crs:'SOU',name:'Southampton Central',lat:50.9074,lon:-1.4136,display:!0 },{ crs:'SOV',name:'Southend Victoria',lat:51.5415,lon:.711515,display:!0 },{ crs:'SOW',name:'Sowerby Bridge',lat:53.7079,lon:-1.90695,display:!0 },{ crs:'SPA',name:'Spalding',lat:52.7888,lon:-.156873,display:!0 },{ crs:'SPB',name:'Shepherd\'s Bush',lat:51.5053,lon:-.217652,display:!0 },{ crs:'SPF',name:'Springfield',lat:56.295,lon:-3.05245,display:!0 },{ crs:'SPH',name:'Shepherds Well',lat:51.1884,lon:1.22992,display:!0 },{ crs:'SPI',name:'Spital',lat:53.34,lon:-2.99391,display:!0 },{ crs:'SPK',name:'Sutton Parkway',lat:53.1142,lon:-1.24565,display:!0 },{ crs:'SPN',name:'Spooner Row',lat:52.535,lon:1.08649,display:!0 },{ crs:'SPO',name:'Spondon',lat:52.9119,lon:-1.41109,display:!0 },{ crs:'SPP',name:'Shippea Hill',lat:52.4302,lon:.413356,display:!0 },{ crs:'SPR',name:'Springburn',lat:55.8817,lon:-4.22811,display:!0 },{ crs:'SPS',name:'Stepps',lat:55.8899,lon:-4.14078,display:!0 },{ crs:'SPT',name:'Stockport',lat:53.4056,lon:-2.16301,display:!0 },{ crs:'SPU',name:'Staplehurst',lat:51.1715,lon:.550446,display:!0 },{ crs:'SPX',name:'London St Pancras (Intl)',lat:51.5324,lon:-.12603,display:!1 },{ crs:'SPY',name:'Shepley',lat:53.5892,lon:-1.70402,display:!0 },{ crs:'SQE',name:'Surrey Quays',lat:51.4928,lon:-.048142,display:!0 },{ crs:'SQH',name:'Sanquhar',lat:55.3702,lon:-3.92452,display:!0 },{ crs:'SQU',name:'Squires Gate',lat:53.7768,lon:-3.04943,display:!0 },{ crs:'SRA',name:'Stratford (London)',lat:51.5414,lon:-.00365684,display:!0 },{ crs:'SRC',name:'Streatham Common',lat:51.4187,lon:-.136152,display:!0 },{ crs:'SRD',name:'Stapleton Road',lat:51.4675,lon:-2.56622,display:!0 },{ crs:'SRG',name:'Seer Green',lat:51.6097,lon:-.607428,display:!0 },{ crs:'SRH',name:'Streatham Hill',lat:51.4383,lon:-.128157,display:!0 },{ crs:'SRI',name:'Spring Road',lat:52.4434,lon:-1.83738,display:!0 },{ crs:'SRL',name:'Shirley',lat:52.4034,lon:-1.84518,display:!0 },{ crs:'SRN',name:'Strines',lat:53.3751,lon:-2.03257,display:!0 },{ crs:'SRO',name:'Shireoaks',lat:53.3248,lon:-1.16822,display:!0 },{ crs:'SRR',name:'Sarn',lat:51.5387,lon:-3.58993,display:!0 },{ crs:'SRS',name:'Selhurst',lat:51.3917,lon:-.0879455,display:!0 },{ crs:'SRT',name:'Shortlands',lat:51.4056,lon:.00278932,display:!0 },{ crs:'SRU',name:'South Ruislip',lat:51.5569,lon:-.399248,display:!0 },{ crs:'SRY',name:'Shoeburyness',lat:51.531,lon:.795361,display:!0 },{ crs:'SSC',name:'Seascale',lat:54.3956,lon:-3.48489,display:!0 },{ crs:'SSD',name:'Stansted Airport',lat:51.8886,lon:.260818,display:!0 },{ crs:'SSE',name:'Shoreham-by-Sea',lat:50.8344,lon:-.27171,display:!0 },{ crs:'SSM',name:'Stocksmoor',lat:53.5944,lon:-1.72347,display:!0 },{ crs:'SSS',name:'Sheerness-on-Sea',lat:51.4411,lon:.758548,display:!0 },{ crs:'SST',name:'Stansted Mountfitchet',lat:51.9013,lon:.199746,display:!0 },{ crs:'STA',name:'Stafford',lat:52.8039,lon:-2.12204,display:!0 },{ crs:'STC',name:'Strathcarron',lat:57.4228,lon:-5.42881,display:!0 },{ crs:'STD',name:'Stroud (Gloucs)',lat:51.7446,lon:-2.21939,display:!0 },{ crs:'STE',name:'Streatham (Greater London)',lat:51.4258,lon:-.131547,display:!0 },{ crs:'STF',name:'Stromeferry',lat:57.3524,lon:-5.54945,display:!0 },{ crs:'STG',name:'Stirling',lat:56.1198,lon:-3.93562,display:!0 },{ crs:'STH',name:'Shepreth',lat:52.1142,lon:.031332,display:!0 },{ crs:'STJ',name:'Severn Tunnel Junction',lat:51.5847,lon:-2.7779,display:!0 },{ crs:'STK',name:'Stockton',lat:54.5702,lon:-1.31893,display:!0 },{ crs:'STL',name:'Southall',lat:51.506,lon:-.378613,display:!0 },{ crs:'STM',name:'St Michaels',lat:53.3756,lon:-2.9528,display:!0 },{ crs:'STN',name:'Stonehaven',lat:56.9668,lon:-2.22531,display:!0 },{ crs:'STO',name:'South Tottenham',lat:51.5804,lon:-.0718059,display:!0 },{ crs:'STP',name:'London St Pancras International',lat:51.5306,lon:-.125527,display:!0 },{ crs:'STR',name:'Stranraer',lat:54.9094,lon:-5.025,display:!0 },{ crs:'STS',name:'Saltash',lat:50.4073,lon:-4.20916,display:!0 },{ crs:'STT',name:'Stewarton',lat:55.6821,lon:-4.51804,display:!0 },{ crs:'STU',name:'Sturry',lat:51.3011,lon:1.12227,display:!0 },{ crs:'STV',name:'Stevenston',lat:55.6343,lon:-4.75078,display:!0 },{ crs:'STW',name:'Strawberry Hill',lat:51.4397,lon:-.33962,display:!0 },{ crs:'STY',name:'Stratford-upon-Avon Parkway',lat:52.2078,lon:-1.73289,display:!0 },{ crs:'SUC',name:'Sutton Common',lat:51.3756,lon:-.19682,display:!0 },{ crs:'SUD',name:'Sudbury & Harrow Road',lat:51.5545,lon:-.31597,display:!0 },{ crs:'SUG',name:'Sugar Loaf',lat:52.0823,lon:-3.68697,display:!0 },{ crs:'SUM',name:'Summerston',lat:55.8991,lon:-4.29169,display:!0 },{ crs:'SUN',name:'Sunderland',lat:54.9055,lon:-1.38238,display:!0 },{ crs:'SUO',name:'Sutton (London)',lat:51.3595,lon:-.191213,display:!0 },{ crs:'SUP',name:'Sundridge Park',lat:51.4134,lon:.0203874,display:!0 },{ crs:'SUR',name:'Surbiton',lat:51.3925,lon:-.30396,display:!0 },{ crs:'SUT',name:'Sutton Coldfield',lat:52.565,lon:-1.82485,display:!0 },{ crs:'SUU',name:'Sunbury',lat:51.4183,lon:-.417773,display:!0 },{ crs:'SUY',name:'Sudbury (Suffolk)',lat:52.0363,lon:.735462,display:!0 },{ crs:'SVB',name:'Severn Beach',lat:51.5596,lon:-2.66428,display:!0 },{ crs:'SVG',name:'Stevenage',lat:51.9017,lon:-.20711,display:!0 },{ crs:'SVK',name:'Seven Kings',lat:51.564,lon:.0963183,display:!0 },{ crs:'SVL',name:'Staveley (Cumbria)',lat:54.3754,lon:-2.8194,display:!0 },{ crs:'SVR',name:'Silverdale',lat:54.1699,lon:-2.80384,display:!0 },{ crs:'SVS',name:'Seven Sisters',lat:51.5825,lon:-.0748929,display:!0 },{ crs:'SWA',name:'Swansea',lat:51.6251,lon:-3.94158,display:!0 },{ crs:'SWD',name:'Swinderby',lat:53.1696,lon:-.702682,display:!0 },{ crs:'SWE',name:'Swineshead',lat:52.9698,lon:-.187156,display:!0 },{ crs:'SWG',name:'Swaythling',lat:50.9411,lon:-1.37641,display:!0 },{ crs:'SWI',name:'Swindon (Wilts)',lat:51.5655,lon:-1.78551,display:!0 },{ crs:'SWK',name:'Southwick',lat:50.8325,lon:-.237073,display:!0 },{ crs:'SWL',name:'Swale',lat:51.3892,lon:.747148,display:!0 },{ crs:'SWM',name:'Swanscombe',lat:51.4491,lon:.309545,display:!0 },{ crs:'SWN',name:'Swinton (South Yorks)',lat:53.4863,lon:-1.30582,display:!0 },{ crs:'SWO',name:'Snowdown',lat:51.2153,lon:1.21372,display:!0 },{ crs:'SWR',name:'Stewartby',lat:52.0691,lon:-.520681,display:!0 },{ crs:'SWS',name:'South Wigston',lat:52.5822,lon:-1.13408,display:!0 },{ crs:'SWT',name:'Slaithwaite',lat:53.6238,lon:-1.88158,display:!0 },{ crs:'SWY',name:'Sway',lat:50.7847,lon:-1.61001,display:!0 },{ crs:'SXY',name:'Saxilby',lat:53.2672,lon:-.664041,display:!0 },{ crs:'SYA',name:'Styal',lat:53.3483,lon:-2.24046,display:!0 },{ crs:'SYB',name:'Stalybridge',lat:53.4844,lon:-2.06189,display:!0 },{ crs:'SYD',name:'Sydenham (London)',lat:51.4272,lon:-.054238,display:!0 },{ crs:'SYH',name:'Sydenham Hill',lat:51.4327,lon:-.0803343,display:!0 },{ crs:'SYL',name:'Syon Lane',lat:51.4818,lon:-.325131,display:!0 },{ crs:'SYS',name:'Syston',lat:52.6947,lon:-1.08214,display:!0 },{ crs:'SYT',name:'Somerleyton',lat:52.5103,lon:1.65228,display:!0 },{ crs:'TAB',name:'Tame Bridge Parkway',lat:52.5529,lon:-1.97621,display:!0 },{ crs:'TAC',name:'Tackley',lat:51.8813,lon:-1.29723,display:!0 },{ crs:'TAD',name:'Tadworth',lat:51.2916,lon:-.235965,display:!0 },{ crs:'TAF',name:'Taffs Well',lat:51.5408,lon:-3.26295,display:!0 },{ crs:'TAI',name:'Tain',lat:57.8143,lon:-4.05213,display:!0 },{ crs:'TAL',name:'Talsarnau',lat:52.9043,lon:-4.06817,display:!0 },{ crs:'TAM',name:'Tamworth',lat:52.6371,lon:-1.68727,display:!0 },{ crs:'TAP',name:'Taplow',lat:51.5236,lon:-.681367,display:!0 },{ crs:'TAT',name:'Tattenham Corner',lat:51.3092,lon:-.242609,display:!0 },{ crs:'TAU',name:'Taunton',lat:51.0237,lon:-3.10213,display:!0 },{ crs:'TAY',name:'Taynuilt',lat:56.4308,lon:-5.23959,display:!0 },{ crs:'TBD',name:'Three Bridges',lat:51.1169,lon:-.161183,display:!0 },{ crs:'TBW',name:'Tunbridge Wells',lat:51.1302,lon:.262823,display:!0 },{ crs:'TBY',name:'Thornaby',lat:54.5595,lon:-1.30071,display:!0 },{ crs:'TDU',name:'Tondu',lat:51.5474,lon:-3.59557,display:!0 },{ crs:'TEA',name:'Teesside Airport',lat:54.5181,lon:-1.42531,display:!0 },{ crs:'TED',name:'Teddington',lat:51.4245,lon:-.332692,display:!0 },{ crs:'TEN',name:'Tenby',lat:51.6729,lon:-4.70673,display:!0 },{ crs:'TEO',name:'Theobalds Grove',lat:51.6925,lon:-.0348236,display:!0 },{ crs:'TEY',name:'Teynham',lat:51.3334,lon:.807441,display:!0 },{ crs:'TFC',name:'Telford Central',lat:52.6811,lon:-2.44098,display:!0 },{ crs:'TGM',name:'Teignmouth',lat:50.548,lon:-3.49469,display:!0 },{ crs:'TGS',name:'Ty Glas',lat:51.5215,lon:-3.19654,display:!0 },{ crs:'THA',name:'Thatcham',lat:51.3938,lon:-1.24319,display:!0 },{ crs:'THB',name:'Thornliebank',lat:55.8109,lon:-4.31169,display:!0 },{ crs:'THC',name:'Thurnscoe',lat:53.5451,lon:-1.30879,display:!0 },{ crs:'THD',name:'Thames Ditton',lat:51.389,lon:-.339014,display:!0 },{ crs:'THE',name:'Theale',lat:51.4334,lon:-1.07497,display:!0 },{ crs:'THH',name:'Thatto Heath',lat:53.4366,lon:-2.75937,display:!0 },{ crs:'THI',name:'Thirsk',lat:54.2282,lon:-1.37259,display:!0 },{ crs:'THL',name:'Tile Hill',lat:52.3951,lon:-1.59685,display:!0 },{ crs:'THO',name:'Thornford',lat:50.9119,lon:-2.57973,display:!0 },{ crs:'THS',name:'Thurso',lat:58.59,lon:-3.52756,display:!0 },{ crs:'THT',name:'Thorntonhall',lat:55.7687,lon:-4.25116,display:!0 },{ crs:'THU',name:'Thurgarton',lat:53.0292,lon:-.962023,display:!0 },{ crs:'THW',name:'The Hawthorns',lat:52.5054,lon:-1.96401,display:!0 },{ crs:'TIL',name:'Tilbury Town',lat:51.4624,lon:.354042,display:!0 },{ crs:'TIP',name:'Tipton',lat:52.5305,lon:-2.0657,display:!0 },{ crs:'TIR',name:'Tir-Phil',lat:51.7209,lon:-3.24639,display:!0 },{ crs:'TIS',name:'Tisbury',lat:51.0608,lon:-2.07901,display:!0 },{ crs:'TLB',name:'Talybont',lat:52.7726,lon:-4.09661,display:!0 },{ crs:'TLC',name:'Tal-y-Cafn',lat:53.2284,lon:-3.81828,display:!0 },{ crs:'TLH',name:'Tilehurst',lat:51.4715,lon:-1.02982,display:!0 },{ crs:'TLK',name:'The Lakes (Warks)',lat:52.3595,lon:-1.84577,display:!0 },{ crs:'TLS',name:'Thorpe-le-Soken',lat:51.8478,lon:1.16164,display:!0 },{ crs:'TMC',name:'Templecombe',lat:51.0011,lon:-2.41751,display:!0 },{ crs:'TNA',name:'Thornton Abbey',lat:53.654,lon:-.323494,display:!0 },{ crs:'TNF',name:'Tonfanau',lat:52.6136,lon:-4.12371,display:!0 },{ crs:'TNN',name:'Thorne North',lat:53.6161,lon:-.972324,display:!0 },{ crs:'TNP',name:'Tonypandy',lat:51.6198,lon:-3.44889,display:!0 },{ crs:'TNS',name:'Thorne South',lat:53.6038,lon:-.954638,display:!0 },{ crs:'TOD',name:'Todmorden',lat:53.7138,lon:-2.09965,display:!0 },{ crs:'TOK',name:'Three Oaks',lat:50.9009,lon:.613373,display:!0 },{ crs:'TOL',name:'Tolworth',lat:51.3768,lon:-.279679,display:!0 },{ crs:'TOM',name:'Tottenham Hale',lat:51.5883,lon:-.0599224,display:!0 },{ crs:'TON',name:'Tonbridge',lat:51.1914,lon:.270773,display:!0 },{ crs:'TOO',name:'Tooting',lat:51.4199,lon:-.16099,display:!0 },{ crs:'TOP',name:'Topsham',lat:50.686,lon:-3.46368,display:!0 },{ crs:'TOT',name:'Totnes',lat:50.4358,lon:-3.68872,display:!0 },{ crs:'TPB',name:'Thorpe Bay',lat:51.5376,lon:.761743,display:!0 },{ crs:'TPC',name:'Thorpe Culvert',lat:53.1228,lon:.199482,display:!0 },{ crs:'TPN',name:'Ton Pentre',lat:51.6478,lon:-3.4862,display:!0 },{ crs:'TQY',name:'Torquay',lat:50.4612,lon:-3.54367,display:!0 },{ crs:'TRA',name:'Trafford Park',lat:53.455,lon:-2.31169,display:!0 },{ crs:'TRB',name:'Treherbert',lat:51.6722,lon:-3.53632,display:!0 },{ crs:'TRD',name:'Troed-y-rhiw',lat:51.7124,lon:-3.34676,display:!0 },{ crs:'TRE',name:'Trefforest Estate',lat:51.5683,lon:-3.29026,display:!0 },{ crs:'TRF',name:'Trefforest',lat:51.5915,lon:-3.32513,display:!0 },{ crs:'TRH',name:'Trehafod',lat:51.6101,lon:-3.38099,display:!0 },{ crs:'TRI',name:'Tring',lat:51.8007,lon:-.622433,display:!0 },{ crs:'TRM',name:'Trimley',lat:51.9765,lon:1.31956,display:!0 },{ crs:'TRN',name:'Troon',lat:55.5428,lon:-4.65529,display:!0 },{ crs:'TRO',name:'Trowbridge',lat:51.3198,lon:-2.21435,display:!0 },{ crs:'TRR',name:'Torre',lat:50.4732,lon:-3.54644,display:!0 },{ crs:'TRS',name:'Thurston',lat:52.2503,lon:.80951,display:!0 },{ crs:'TRU',name:'Truro',lat:50.2638,lon:-5.06487,display:!0 },{ crs:'TRY',name:'Treorchy',lat:51.6575,lon:-3.50575,display:!0 },{ crs:'TTF',name:'Thetford',lat:52.4191,lon:.745078,display:!0 },{ crs:'TTH',name:'Thornton Heath',lat:51.3992,lon:-.101001,display:!0 },{ crs:'TTN',name:'Totton',lat:50.918,lon:-1.48214,display:!0 },{ crs:'TUH',name:'Tulse Hill',lat:51.4398,lon:-.105076,display:!0 },{ crs:'TUL',name:'Tulloch',lat:56.8843,lon:-4.70132,display:!0 },{ crs:'TUR',name:'Turkey Street',lat:51.6726,lon:-.047209,display:!0 },{ crs:'TUT',name:'Tutbury & Hatton',lat:52.8644,lon:-1.68209,display:!0 },{ crs:'TVP',name:'Tiverton Parkway',lat:50.9175,lon:-3.35996,display:!0 },{ crs:'TWB',name:'Tweedbank',lat:55.6048,lon:-2.75985,display:!0 },{ crs:'TWI',name:'Twickenham',lat:51.4504,lon:-.32916,display:!0 },{ crs:'TWN',name:'Town Green',lat:53.5428,lon:-2.90449,display:!0 },{ crs:'TWY',name:'Twyford',lat:51.4755,lon:-.863295,display:!0 },{ crs:'TYC',name:'Ty Croes',lat:53.2226,lon:-4.47475,display:!0 },{ crs:'TYG',name:'Tygwyn',lat:52.8938,lon:-4.07867,display:!0 },{ crs:'TYL',name:'Tyndrum Lower',lat:56.4333,lon:-4.71481,display:!0 },{ crs:'TYS',name:'Tyseley',lat:52.4541,lon:-1.83911,display:!0 },{ crs:'TYW',name:'Tywyn',lat:52.5856,lon:-4.09357,display:!0 },{ crs:'UCK',name:'Uckfield',lat:50.9687,lon:.0964569,display:!0 },{ crs:'UDD',name:'Uddingston',lat:55.8235,lon:-4.08669,display:!0 },{ crs:'UHA',name:'Uphall',lat:55.919,lon:-3.50211,display:!0 },{ crs:'UHL',name:'Upper Holloway',lat:51.5636,lon:-.129076,display:!0 },{ crs:'ULC',name:'Ulceby',lat:53.6191,lon:-.302047,display:!0 },{ crs:'ULL',name:'Ulleskelf',lat:53.8536,lon:-1.21397,display:!0 },{ crs:'ULV',name:'Ulverston',lat:54.1916,lon:-3.09792,display:!0 },{ crs:'UMB',name:'Umberleigh',lat:50.9967,lon:-3.98292,display:!0 },{ crs:'UNI',name:'University (Birmingham)',lat:52.4513,lon:-1.93668,display:!0 },{ crs:'UPH',name:'Upper Halliford',lat:51.4131,lon:-.430896,display:!0 },{ crs:'UPL',name:'Upholland',lat:53.5284,lon:-2.7414,display:!0 },{ crs:'UPM',name:'Upminster',lat:51.5594,lon:.251922,display:!0 },{ crs:'UPT',name:'Upton (Merseyside)',lat:53.3862,lon:-3.08476,display:!0 },{ crs:'UPW',name:'Upwey',lat:50.6483,lon:-2.46615,display:!0 },{ crs:'URM',name:'Urmston',lat:53.4483,lon:-2.3538,display:!0 },{ crs:'UTT',name:'Uttoxeter',lat:52.8971,lon:-1.85726,display:!0 },{ crs:'UTY',name:'Upper Tyndrum',lat:56.4346,lon:-4.70371,display:!0 },{ crs:'UWL',name:'Upper Warlingham',lat:51.3085,lon:-.0779472,display:!0 },{ crs:'VAL',name:'Valley',lat:53.2813,lon:-4.56339,display:!0 },{ crs:'VIC',name:'London Victoria',lat:51.4953,lon:-.144541,display:!0 },{ crs:'VIR',name:'Virginia Water',lat:51.402,lon:-.562221,display:!0 },{ crs:'VXH',name:'Vauxhall',lat:51.4862,lon:-.122871,display:!0 },{ crs:'WAC',name:'Warrington Central',lat:53.3919,lon:-2.59241,display:!0 },{ crs:'WAD',name:'Wadhurst',lat:51.0735,lon:.313188,display:!0 },{ crs:'WAE',name:'London Waterloo East',lat:51.5041,lon:-.108893,display:!0 },{ crs:'WAF',name:'Wallyford',lat:55.9403,lon:-3.01494,display:!0 },{ crs:'WAL',name:'Walton-on-Thames',lat:51.3729,lon:-.414625,display:!0 },{ crs:'WAM',name:'Walmer',lat:51.2033,lon:1.38289,display:!0 },{ crs:'WAN',name:'Wanborough',lat:51.2445,lon:-.667586,display:!0 },{ crs:'WAO',name:'Walton (Merseyside)',lat:53.4562,lon:-2.96575,display:!0 },{ crs:'WAR',name:'Ware (Herts)',lat:51.808,lon:-.0287727,display:!0 },{ crs:'WAS',name:'Watton-at-Stone',lat:51.8564,lon:-.11972,display:!0 },{ crs:'WAT',name:'London Waterloo',lat:51.5035,lon:-.113897,display:!0 },{ crs:'WAV',name:'Wavertree Technology Park',lat:53.406,lon:-2.92355,display:!0 },{ crs:'WBC',name:'Waterbeach',lat:52.2625,lon:.197386,display:!0 },{ crs:'WBD',name:'Whitley Bridge',lat:53.6991,lon:-1.15828,display:!0 },{ crs:'WBL',name:'Warblington',lat:50.8534,lon:-.967151,display:!0 },{ crs:'WBO',name:'Wimbledon Chase',lat:51.4096,lon:-.21403,display:!0 },{ crs:'WBP',name:'West Brompton',lat:51.4873,lon:-.195436,display:!0 },{ crs:'WBQ',name:'Warrington Bank Quay',lat:53.3855,lon:-2.60285,display:!0 },{ crs:'WBR',name:'Whaley Bridge',lat:53.3302,lon:-1.98464,display:!0 },{ crs:'WBY',name:'West Byfleet',lat:51.3392,lon:-.505478,display:!0 },{ crs:'WCB',name:'Westcombe Park',lat:51.4845,lon:.0177672,display:!0 },{ crs:'WCF',name:'Westcliff',lat:51.5373,lon:.691479,display:!0 },{ crs:'WCH',name:'Whitchurch (Hampshire)',lat:51.2374,lon:-1.33818,display:!0 },{ crs:'WCK',name:'Wick',lat:58.4417,lon:-3.09798,display:!0 },{ crs:'WCL',name:'West Calder',lat:55.8538,lon:-3.56701,display:!0 },{ crs:'WCM',name:'Wickham Market',lat:52.1511,lon:1.39869,display:!0 },{ crs:'WCP',name:'Worcester Park',lat:51.3813,lon:-.245167,display:!0 },{ crs:'WCR',name:'Whitecraigs',lat:55.7903,lon:-4.31015,display:!0 },{ crs:'WCX',name:'Wembley Stadium',lat:51.5547,lon:-.285958,display:!0 },{ crs:'WCY',name:'West Croydon',lat:51.3784,lon:-.102581,display:!0 },{ crs:'WDB',name:'Woodbridge',lat:52.0905,lon:1.31779,display:!0 },{ crs:'WDD',name:'Widdrington',lat:55.2414,lon:-1.61624,display:!0 },{ crs:'WDE',name:'Wood End',lat:52.3444,lon:-1.8445,display:!0 },{ crs:'WDH',name:'Woodhouse',lat:53.3638,lon:-1.35756,display:!0 },{ crs:'WDL',name:'Woodhall',lat:55.9312,lon:-4.65539,display:!0 },{ crs:'WDM',name:'Windermere',lat:54.3796,lon:-2.90339,display:!0 },{ crs:'WDN',name:'Walsden',lat:53.6962,lon:-2.10446,display:!0 },{ crs:'WDO',name:'Waddon',lat:51.3674,lon:-.117332,display:!0 },{ crs:'WDS',name:'Woodlesford',lat:53.7568,lon:-1.44289,display:!0 },{ crs:'WDT',name:'West Drayton',lat:51.5101,lon:-.472225,display:!0 },{ crs:'WDU',name:'West Dulwich',lat:51.4406,lon:-.0909389,display:!0 },{ crs:'WEA',name:'West Ealing',lat:51.5136,lon:-.319784,display:!0 },{ crs:'WED',name:'Wedgwood',lat:52.9511,lon:-2.17082,display:!0 },{ crs:'WEE',name:'Weeley',lat:51.8531,lon:1.11549,display:!0 },{ crs:'WEH',name:'West Ham',lat:51.5286,lon:.00587547,display:!0 },{ crs:'WEL',name:'Wellingborough',lat:52.3038,lon:-.676643,display:!0 },{ crs:'WEM',name:'Wem',lat:52.8563,lon:-2.71876,display:!0 },{ crs:'WES',name:'Westerton',lat:55.9048,lon:-4.33487,display:!0 },{ crs:'WET',name:'Weeton',lat:53.9232,lon:-1.58121,display:!0 },{ crs:'WEY',name:'Weymouth',lat:50.616,lon:-2.45489,display:!0 },{ crs:'WFF',name:'Whifflet',lat:55.8537,lon:-4.01864,display:!0 },{ crs:'WFH',name:'Watford High Street',lat:51.6527,lon:-.391714,display:!0 },{ crs:'WFI',name:'Westerfield',lat:52.0809,lon:1.16613,display:!0 },{ crs:'WFJ',name:'Watford Junction',lat:51.6635,lon:-.39652,display:!0 },{ crs:'WFL',name:'Wainfleet',lat:53.1051,lon:.234736,display:!0 },{ crs:'WFN',name:'Watford North',lat:51.6757,lon:-.389928,display:!0 },{ crs:'WGA',name:'Westgate-on-Sea',lat:51.3815,lon:1.33838,display:!0 },{ crs:'WGC',name:'Welwyn Garden City',lat:51.801,lon:-.20407,display:!0 },{ crs:'WGN',name:'Wigan North Western',lat:53.5435,lon:-2.63313,display:!0 },{ crs:'WGR',name:'Woodgrange Park',lat:51.5488,lon:.0451312,display:!0 },{ crs:'WGT',name:'Wigton',lat:54.8293,lon:-3.16435,display:!0 },{ crs:'WGV',name:'Wargrave',lat:51.4982,lon:-.876519,display:!0 },{ crs:'WGW',name:'Wigan Wallgate',lat:53.5448,lon:-2.63318,display:!0 },{ crs:'WHA',name:'Westenhanger',lat:51.0949,lon:1.03771,display:!0 },{ crs:'WHC',name:'Walthamstow Central',lat:51.583,lon:-.0198773,display:!0 },{ crs:'WHD',name:'West Hampstead',lat:51.5475,lon:-.191182,display:!0 },{ crs:'WHE',name:'Whalley (Lancashire)',lat:53.8243,lon:-2.41226,display:!0 },{ crs:'WHG',name:'Westhoughton',lat:53.556,lon:-2.52392,display:!0 },{ crs:'WHI',name:'Whitstable',lat:51.3576,lon:1.0333,display:!0 },{ crs:'WHL',name:'White Hart Lane',lat:51.605,lon:-.070907,display:!0 },{ crs:'WHM',name:'Whimple',lat:50.768,lon:-3.35434,display:!0 },{ crs:'WHN',name:'Whiston',lat:53.4139,lon:-2.79643,display:!0 },{ crs:'WHP',name:'West Hampstead Thameslink',lat:51.5486,lon:-.19243,display:!0 },{ crs:'WHR',name:'West Horndon',lat:51.568,lon:.340647,display:!0 },{ crs:'WHS',name:'Whyteleafe South',lat:51.3036,lon:-.076691,display:!0 },{ crs:'WHT',name:'Whitchurch (Cardiff)',lat:51.5206,lon:-3.22218,display:!0 },{ crs:'WHY',name:'Whyteleafe',lat:51.31,lon:-.0811439,display:!0 },{ crs:'WIC',name:'Wickford',lat:51.615,lon:.519194,display:!0 },{ crs:'WID',name:'Widnes',lat:53.3785,lon:-2.73354,display:!0 },{ crs:'WIH',name:'Winchmore Hill',lat:51.6339,lon:-.10089,display:!0 },{ crs:'WIJ',name:'Willesden Junction',lat:51.532,lon:-.243267,display:!0 },{ crs:'WIL',name:'Willington',lat:52.8537,lon:-1.56336,display:!0 },{ crs:'WIM',name:'Wimbledon',lat:51.4216,lon:-.206499,display:!0 },{ crs:'WIN',name:'Winchester',lat:51.0672,lon:-1.3197,display:!0 },{ crs:'WIV',name:'Wivenhoe',lat:51.8565,lon:.956146,display:!0 },{ crs:'WKB',name:'West Kilbride',lat:55.6961,lon:-4.85174,display:!0 },{ crs:'WKD',name:'Walkden',lat:53.5198,lon:-2.39633,display:!0 },{ crs:'WKF',name:'Wakefield Westgate',lat:53.6817,lon:-1.50541,display:!0 },{ crs:'WKG',name:'Workington',lat:54.6451,lon:-3.5585,display:!0 },{ crs:'WKI',name:'West Kirby',lat:53.3732,lon:-3.18377,display:!0 },{ crs:'WKK',name:'Wakefield Kirkgate',lat:53.679,lon:-1.48826,display:!0 },{ crs:'WKM',name:'Wokingham',lat:51.4112,lon:-.842545,display:!0 },{ crs:'WLC',name:'Waltham Cross',lat:51.6851,lon:-.0265501,display:!0 },{ crs:'WLD',name:'West St Leonards',lat:50.8531,lon:.53994,display:!0 },{ crs:'WLE',name:'Whittlesea',lat:52.55,lon:-.118225,display:!0 },{ crs:'WLF',name:'Whittlesford Parkway',lat:52.1036,lon:.165619,display:!0 },{ crs:'WLG',name:'Wallasey Grove Road',lat:53.428,lon:-3.06972,display:!0 },{ crs:'WLI',name:'Welling',lat:51.4648,lon:.101846,display:!0 },{ crs:'WLM',name:'Williamwood',lat:55.7941,lon:-4.29011,display:!0 },{ crs:'WLN',name:'Wellington (Shropshire)',lat:52.7013,lon:-2.51716,display:!0 },{ crs:'WLO',name:'Waterloo (Merseyside)',lat:53.475,lon:-3.02554,display:!0 },{ crs:'WLP',name:'Welshpool',lat:52.6575,lon:-3.13987,display:!0 },{ crs:'WLS',name:'Woolston',lat:50.8989,lon:-1.37706,display:!0 },{ crs:'WLT',name:'Wallington',lat:51.3604,lon:-.15083,display:!0 },{ crs:'WLV',name:'Wallasey Village',lat:53.4229,lon:-3.06914,display:!0 },{ crs:'WLW',name:'Welwyn North',lat:51.8235,lon:-.19209,display:!0 },{ crs:'WLY',name:'Woodley',lat:53.4293,lon:-2.09327,display:!0 },{ crs:'WMA',name:'West Malling',lat:51.292,lon:.418657,display:!0 },{ crs:'WMB',name:'Wembley Central',lat:51.5523,lon:-.296419,display:!0 },{ crs:'WMC',name:'Wilmcote',lat:52.2225,lon:-1.75594,display:!0 },{ crs:'WMD',name:'Wymondham',lat:52.5649,lon:1.11766,display:!0 },{ crs:'WME',name:'Woodmansterne',lat:51.319,lon:-.15426,display:!0 },{ crs:'WMG',name:'Welham Green',lat:51.7364,lon:-.21069,display:!0 },{ crs:'WMI',name:'Wildmill',lat:51.5209,lon:-3.57965,display:!0 },{ crs:'WML',name:'Wilmslow',lat:53.3269,lon:-2.22633,display:!0 },{ crs:'WMN',name:'Warminster',lat:51.2068,lon:-2.17675,display:!0 },{ crs:'WMR',name:'Widney Manor',lat:52.396,lon:-1.77438,display:!0 },{ crs:'WMS',name:'Wemyss Bay',lat:55.8761,lon:-4.88907,display:!0 },{ crs:'WMW',name:'Walthamstow Queen\'s Road',lat:51.5815,lon:-.0238381,display:!0 },{ crs:'WNC',name:'Windsor & Eton Central',lat:51.4833,lon:-.610375,display:!0 },{ crs:'WND',name:'Wendover',lat:51.7618,lon:-.74737,display:!0 },{ crs:'WNE',name:'Wilnecote (Staffs)',lat:52.6109,lon:-1.6795,display:!0 },{ crs:'WNF',name:'Winchfield',lat:51.285,lon:-.906982,display:!0 },{ crs:'WNG',name:'Waun-Gron Park',lat:51.4882,lon:-3.22966,display:!0 },{ crs:'WNH',name:'Warnham',lat:51.0929,lon:-.329454,display:!0 },{ crs:'WNL',name:'Whinhill',lat:55.9384,lon:-4.74668,display:!0 },{ crs:'WNM',name:'Weston Milton',lat:51.3488,lon:-2.94334,display:!0 },{ crs:'WNN',name:'Wennington',lat:54.1235,lon:-2.5869,display:!0 },{ crs:'WNP',name:'Wanstead Park',lat:51.5517,lon:.026222,display:!0 },{ crs:'WNR',name:'Windsor & Eton Riverside',lat:51.4857,lon:-.606529,display:!0 },{ crs:'WNS',name:'Winnersh',lat:51.4303,lon:-.876862,display:!0 },{ crs:'WNT',name:'Wandsworth Town',lat:51.4611,lon:-.188123,display:!0 },{ crs:'WNW',name:'West Norwood',lat:51.4318,lon:-.103809,display:!0 },{ crs:'WNY',name:'White Notley',lat:51.8389,lon:.595876,display:!0 },{ crs:'WOB',name:'Woburn Sands',lat:52.0182,lon:-.654077,display:!0 },{ crs:'WOF',name:'Worcester Foregate Street',lat:52.1949,lon:-2.22175,display:!0 },{ crs:'WOH',name:'Woldingham',lat:51.2902,lon:-.0518646,display:!0 },{ crs:'WOK',name:'Woking',lat:51.3185,lon:-.556954,display:!0 },{ crs:'WOL',name:'Wolverton',lat:52.0659,lon:-.804264,display:!0 },{ crs:'WOM',name:'Wombwell',lat:53.5176,lon:-1.41632,display:!0 },{ crs:'WON',name:'Walton-on-the-Naze',lat:51.8462,lon:1.26792,display:!0 },{ crs:'WOO',name:'Wool',lat:50.6816,lon:-2.22148,display:!0 },{ crs:'WOR',name:'Worle',lat:51.358,lon:-2.90964,display:!0 },{ crs:'WOS',name:'Worcester Shrub Hill',lat:52.1947,lon:-2.20941,display:!0 },{ crs:'WPE',name:'Wapping',lat:51.5037,lon:-.05632,display:!0 },{ crs:'WPL',name:'Worplesdon',lat:51.289,lon:-.582574,display:!0 },{ crs:'WRB',name:'Wrabness',lat:51.9395,lon:1.17192,display:!0 },{ crs:'WRE',name:'Wrenbury',lat:53.0197,lon:-2.59625,display:!0 },{ crs:'WRH',name:'Worthing',lat:50.8185,lon:-.376164,display:!0 },{ crs:'WRK',name:'Worksop',lat:53.3117,lon:-1.12254,display:!0 },{ crs:'WRL',name:'Wetheral',lat:54.8838,lon:-2.83171,display:!0 },{ crs:'WRM',name:'Wareham (Dorset)',lat:50.6929,lon:-2.11526,display:!0 },{ crs:'WRN',name:'West Runton',lat:52.9356,lon:1.24547,display:!0 },{ crs:'WRP',name:'Warwick Parkway',lat:52.2861,lon:-1.61206,display:!0 },{ crs:'WRS',name:'Wressle',lat:53.7728,lon:-.924208,display:!0 },{ crs:'WRT',name:'Worstead',lat:52.7773,lon:1.40423,display:!0 },{ crs:'WRU',name:'West Ruislip',lat:51.5698,lon:-.437758,display:!0 },{ crs:'WRW',name:'Warwick',lat:52.2866,lon:-1.58186,display:!0 },{ crs:'WRX',name:'Wrexham General',lat:53.0503,lon:-3.00245,display:!0 },{ crs:'WRY',name:'Wraysbury',lat:51.4577,lon:-.541915,display:!0 },{ crs:'WSA',name:'West Allerton',lat:53.3691,lon:-2.90697,display:!0 },{ crs:'WSB',name:'Westbury',lat:51.267,lon:-2.19919,display:!0 },{ crs:'WSE',name:'Winchelsea',lat:50.9338,lon:.702272,display:!0 },{ crs:'WSF',name:'Winsford',lat:53.1905,lon:-2.49459,display:!0 },{ crs:'WSH',name:'Wishaw',lat:55.772,lon:-3.92643,display:!0 },{ crs:'WSL',name:'Walsall',lat:52.5844,lon:-1.98475,display:!0 },{ crs:'WSM',name:'Weston-super-Mare',lat:51.3443,lon:-2.97168,display:!0 },{ crs:'WSR',name:'Woodsmoor',lat:53.3861,lon:-2.14129,display:!0 },{ crs:'WST',name:'Wood Street',lat:51.5867,lon:-.00195833,display:!0 },{ crs:'WSU',name:'West Sutton',lat:51.3662,lon:-.20466,display:!0 },{ crs:'WSW',name:'Wandsworth Common',lat:51.4462,lon:-.163383,display:!0 },{ crs:'WTA',name:'Wester Hailes',lat:55.9143,lon:-3.28434,display:!0 },{ crs:'WTB',name:'Whitby',lat:54.4846,lon:-.615396,display:!0 },{ crs:'WTC',name:'Whitchurch (Shropshire)',lat:52.9681,lon:-2.67148,display:!0 },{ crs:'WTE',name:'Whitlocks End',lat:52.3918,lon:-1.85153,display:!0 },{ crs:'WTG',name:'Watlington',lat:52.6732,lon:.383327,display:!0 },{ crs:'WTH',name:'Whitehaven',lat:54.553,lon:-3.58693,display:!0 },{ crs:'WTI',name:'Winnersh Triangle',lat:51.4367,lon:-.891335,display:!0 },{ crs:'WTL',name:'Whitland',lat:51.818,lon:-4.61442,display:!0 },{ crs:'WTM',name:'Witham',lat:51.806,lon:.639144,display:!0 },{ crs:'WTN',name:'Whitton (London)',lat:51.4496,lon:-.357684,display:!0 },{ crs:'WTO',name:'Water Orton',lat:52.5186,lon:-1.7431,display:!0 },{ crs:'WTR',name:'Wateringbury',lat:51.2497,lon:.42247,display:!0 },{ crs:'WTS',name:'Whatstandwell',lat:53.0831,lon:-1.50431,display:!0 },{ crs:'WTT',name:'Witton (West Midlands)',lat:52.5123,lon:-1.88399,display:!0 },{ crs:'WTY',name:'Witley',lat:51.1332,lon:-.645781,display:!0 },{ crs:'WVF',name:'Wivelsfield',lat:50.9638,lon:-.120838,display:!0 },{ crs:'WVH',name:'Wolverhampton',lat:52.5879,lon:-2.11952,display:!0 },{ crs:'WWA',name:'Woolwich Arsenal',lat:51.4899,lon:.0698646,display:!0 },{ crs:'WWD',name:'Woolwich Dockyard',lat:51.4911,lon:.0546513,display:!0 },{ crs:'WWI',name:'West Wickham',lat:51.3813,lon:-.0144252,display:!0 },{ crs:'WWL',name:'Whitwell (Derbyshire)',lat:53.2804,lon:-1.19938,display:!0 },{ crs:'WWO',name:'West Worthing',lat:50.8183,lon:-.392978,display:!0 },{ crs:'WWR',name:'Wandsworth Road',lat:51.4699,lon:-.137666,display:!0 },{ crs:'WWW',name:'Wootton Wawen',lat:52.2659,lon:-1.78456,display:!0 },{ crs:'WXC',name:'Wrexham Central',lat:53.0462,lon:-2.99906,display:!0 },{ crs:'WYB',name:'Weybridge',lat:51.3618,lon:-.457716,display:!0 },{ crs:'WYE',name:'Wye',lat:51.185,lon:.929322,display:!0 },{ crs:'WYL',name:'Wylde Green',lat:52.5464,lon:-1.83184,display:!0 },{ crs:'WYM',name:'Wylam',lat:54.975,lon:-1.81406,display:!0 },{ crs:'WYT',name:'Wythall',lat:52.3802,lon:-1.86627,display:!0 },{ crs:'YAE',name:'Yate',lat:51.5406,lon:-2.43252,display:!0 },{ crs:'YAL',name:'Yalding',lat:51.2265,lon:.412167,display:!0 },{ crs:'YAT',name:'Yatton',lat:51.391,lon:-2.82779,display:!0 },{ crs:'YEO',name:'Yeoford',lat:50.7769,lon:-3.72608,display:!0 },{ crs:'YET',name:'Yetminster',lat:50.8962,lon:-2.57299,display:!0 },{ crs:'YNW',name:'Ynyswen',lat:51.665,lon:-3.52162,display:!0 },{ crs:'YOK',name:'Yoker',lat:55.8927,lon:-4.38741,display:!0 },{ crs:'YRD',name:'Yardley Wood',lat:52.4215,lon:-1.85438,display:!0 },{ crs:'YRK',name:'York',lat:53.958,lon:-1.09318,display:!0 },{ crs:'YRM',name:'Yarm',lat:54.4938,lon:-1.35309,display:!0 },{ crs:'YRT',name:'Yorton',lat:52.809,lon:-2.73646,display:!0 },{ crs:'YSM',name:'Ystrad Mynach',lat:51.6409,lon:-3.24131,display:!0 },{ crs:'YSR',name:'Ystrad Rhondda',lat:51.6436,lon:-3.4667,display:!0 },{ crs:'YVJ',name:'Yeovil Junction',lat:50.9247,lon:-2.61318,display:!0 },{ crs:'YVP',name:'Yeovil Pen Mill',lat:50.9445,lon:-2.61344,display:!0 },{ crs:'ZCW',name:'Canada Water',lat:51.4982,lon:-.050791,display:!0 },{ crs:'ZEL',name:'Elephant & Castle (Underground)',lat:51.2945,lon:.060266,display:!1 },{ crs:'ZFD',name:'Farringdon',lat:51.5205,lon:-.10504,display:!0 },{ crs:'ZLW',name:'Whitechapel',lat:51.5195,lon:-.0597571,display:!1 }];},function(e,t,n){'use strict';let i=n(213),a=n(187),s='function'==typeof Symbol&&'symbol'==typeof Symbol(),r=Object.prototype.toString,o=function(e){return'function'==typeof e&&'[object Function]'===r.call(e);},l=Object.defineProperty&&function(){let e={};try{Object.defineProperty(e,'x',{ enumerable:!1,value:e });for(let t in e)return!1;return e.x===e;}catch(e){return!1;}}(),c=function(e,t,n,i){(!(t in e)||o(i)&&i())&&(l?Object.defineProperty(e,t,{ configurable:!0,enumerable:!1,value:n,writable:!0 }):e[t]=n);},u=function(e,t){let n=arguments.length>2?arguments[2]:{},r=i(t);s&&(r=r.concat(Object.getOwnPropertySymbols(t))),a(r,function(i){c(e,i,t[i],n[i]);});};u.supportsDescriptors=!!l,e.exports=u;},function(e,t,n){let i,a;!function(s,r){if(null===s)throw new Error('Google-maps package can be used only in browser');i=r,void 0!==(a='function'==typeof i?i.call(t,n,t,e):i)&&(e.exports=a);}('undefined'!=typeof window?window:null,function(){'use strict';let e=null,t=null,n=!1,i=[],a=[],s=null,r={};r.URL='https://maps.googleapis.com/maps/api/js',r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION='3.18',r.WINDOW_CALLBACK_NAME='__google_maps_api_provider_initializator__',r._googleMockApiObject={},r.load=function(e){null===t?!0===n?e&&i.push(e):(n=!0,window[r.WINDOW_CALLBACK_NAME]=function(){o(e);},r.createLoader()):e&&e(t);},r.createLoader=function(){e=document.createElement('script'),e.type='text/javascript',e.src=r.createUrl(),document.body.appendChild(e);},r.isLoaded=function(){return null!==t;},r.createUrl=function(){let e=r.URL;return e+='?callback='+r.WINDOW_CALLBACK_NAME,r.KEY&&(e+='&key='+r.KEY),r.LIBRARIES.length>0&&(e+='&libraries='+r.LIBRARIES.join(',')),r.CLIENT&&(e+='&client='+r.CLIENT+'&v='+r.VERSION),r.CHANNEL&&(e+='&channel='+r.CHANNEL),r.LANGUAGE&&(e+='&language='+r.LANGUAGE),r.REGION&&(e+='&region='+r.REGION),e;},r.release=function(o){let l=function(){r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION='3.18',t=null,n=!1,i=[],a=[],void 0!==window.google&&delete window.google,void 0!==window[r.WINDOW_CALLBACK_NAME]&&delete window[r.WINDOW_CALLBACK_NAME],null!==s&&(r.createLoader=s,s=null),null!==e&&(e.parentElement.removeChild(e),e=null),o&&o();};n?r.load(function(){l();}):l();},r.onLoad=function(e){a.push(e);},r.makeMock=function(){s=r.createLoader,r.createLoader=function(){window.google=r._googleMockApiObject,window[r.WINDOW_CALLBACK_NAME]();};};var o=function(e){let s;for(n=!1,null===t&&(t=window.google),s=0;s<a.length;s++)a[s](t);for(e&&e(t),s=0;s<i.length;s++)i[s](t);i=[];};return r;});},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this);}t.__esModule=!0,t.HandlebarsEnvironment=a;var s=n(6),r=n(14),o=i(r),l=n(195),c=n(193),u=n(203),d=i(u);t.VERSION='4.0.11';t.COMPILER_REVISION=7;let p={ 1:'<= 1.0.rc.2',2:'== 1.0.0-rc.3',3:'== 1.0.0-rc.4',4:'== 1.x.x',5:'== 2.0.0-alpha.x',6:'>= 2.0.0-beta.1',7:'>= 4.0.0' };t.REVISION_CHANGES=p;a.prototype={ constructor:a,logger:d.default,log:d.default.log,registerHelper:function(e,t){if('[object Object]'===s.toString.call(e)){if(t)throw new o.default('Arg not supported with multiple helpers');s.extend(this.helpers,e);}else this.helpers[e]=t;},unregisterHelper:function(e){delete this.helpers[e];},registerPartial:function(e,t){if('[object Object]'===s.toString.call(e))s.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t;}},unregisterPartial:function(e){delete this.partials[e];},registerDecorator:function(e,t){if('[object Object]'===s.toString.call(e)){if(t)throw new o.default('Arg not supported with multiple decorators');s.extend(this.decorators,e);}else this.decorators[e]=t;},unregisterDecorator:function(e){delete this.decorators[e];} };let h=d.default.log;t.log=h,t.createFrame=s.createFrame,t.logger=d.default;},function(e,t,n){let i=n(19);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty);},function(e,t,n){'use strict';let i=Function.prototype.toString,a=/^\s*class /,s=function(e){try{let t=i.call(e),n=t.replace(/\/\/.*\n/g,''),s=n.replace(/\/\*[.\s\S]*\*\//g,''),r=s.replace(/\n/gm,' ').replace(/ {2}/g,' ');return a.test(r);}catch(e){return!1;}},r=function(e){try{return!s(e)&&(i.call(e),!0);}catch(e){return!1;}},o=Object.prototype.toString,l='function'==typeof Symbol&&'symbol'==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if('function'!=typeof e&&'object'!=typeof e)return!1;if(l)return r(e);if(s(e))return!1;let t=o.call(e);return'[object Function]'===t||'[object GeneratorFunction]'===t;};},function(e,t,n){let i,a,s;/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(r){a=[n(1),n(7)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)];}function n(t,n){return parseInt(e.css(t,n),10)||0;}function i(t){let n=t[0];return 9===n.nodeType?{ width:t.width(),height:t.height(),offset:{ top:0,left:0 } }:e.isWindow(n)?{ width:t.width(),height:t.height(),offset:{ top:t.scrollTop(),left:t.scrollLeft() } }:n.preventDefault?{ width:0,height:0,offset:{ top:n.pageY,left:n.pageX } }:{ width:t.outerWidth(),height:t.outerHeight(),offset:t.offset() };}var a,s=Math.max,r=Math.abs,o=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,d=/%$/,p=e.fn.position;e.position={ scrollbarWidth:function(){if(void 0!==a)return a;let t,n,i=e('<div style=\'display:block;position:absolute;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>'),s=i.children()[0];return e('body').append(i),t=s.offsetWidth,i.css('overflow','scroll'),n=s.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),a=t-n;},getScrollInfo:function(t){let n=t.isWindow||t.isDocument?'':t.element.css('overflow-x'),i=t.isWindow||t.isDocument?'':t.element.css('overflow-y'),a='scroll'===n||'auto'===n&&t.width<t.element[0].scrollWidth;return{ width:'scroll'===i||'auto'===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0 };},getWithinInfo:function(t){let n=e(t||window),i=e.isWindow(n[0]),a=!!n[0]&&9===n[0].nodeType;return{ element:n,isWindow:i,isDocument:a,offset:i||a?{ left:0,top:0 }:e(t).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight() };} },e.fn.position=function(a){if(!a||!a.of)return p.apply(this,arguments);a=e.extend({},a);let d,h,f,m,y,g,v=e(a.of),w=e.position.getWithinInfo(a.within),_=e.position.getScrollInfo(w),b=(a.collision||'flip').split(' '),C={};return g=i(v),v[0].preventDefault&&(a.at='left top'),h=g.width,f=g.height,m=g.offset,y=e.extend({},m),e.each(['my','at'],function(){let e,t,n=(a[this]||'').split(' ');1===n.length&&(n=o.test(n[0])?n.concat(['center']):l.test(n[0])?['center'].concat(n):['center','center']),n[0]=o.test(n[0])?n[0]:'center',n[1]=l.test(n[1])?n[1]:'center',e=c.exec(n[0]),t=c.exec(n[1]),C[this]=[e?e[0]:0,t?t[0]:0],a[this]=[u.exec(n[0])[0],u.exec(n[1])[0]];}),1===b.length&&(b[1]=b[0]),'right'===a.at[0]?y.left+=h:'center'===a.at[0]&&(y.left+=h/2),'bottom'===a.at[1]?y.top+=f:'center'===a.at[1]&&(y.top+=f/2),d=t(C.at,h,f),y.left+=d[0],y.top+=d[1],this.each(function(){let i,o,l=e(this),c=l.outerWidth(),u=l.outerHeight(),p=n(this,'marginLeft'),g=n(this,'marginTop'),S=c+p+n(this,'marginRight')+_.width,k=u+g+n(this,'marginBottom')+_.height,T=e.extend({},y),M=t(C.my,l.outerWidth(),l.outerHeight());'right'===a.my[0]?T.left-=c:'center'===a.my[0]&&(T.left-=c/2),'bottom'===a.my[1]?T.top-=u:'center'===a.my[1]&&(T.top-=u/2),T.left+=M[0],T.top+=M[1],i={ marginLeft:p,marginTop:g },e.each(['left','top'],function(t,n){e.ui.position[b[t]]&&e.ui.position[b[t]][n](T,{ targetWidth:h,targetHeight:f,elemWidth:c,elemHeight:u,collisionPosition:i,collisionWidth:S,collisionHeight:k,offset:[d[0]+M[0],d[1]+M[1]],my:a.my,at:a.at,within:w,elem:l });}),a.using&&(o=function(e){let t=m.left-T.left,n=t+h-c,i=m.top-T.top,o=i+f-u,d={ target:{ element:v,left:m.left,top:m.top,width:h,height:f },element:{ element:l,left:T.left,top:T.top,width:c,height:u },horizontal:n<0?'left':t>0?'right':'center',vertical:o<0?'top':i>0?'bottom':'middle' };h<c&&r(t+n)<h&&(d.horizontal='center'),f<u&&r(i+o)<f&&(d.vertical='middle'),s(r(t),r(n))>s(r(i),r(o))?d.important='horizontal':d.important='vertical',a.using.call(this,e,d);}),l.offset(e.extend(T,{ using:o }));});},e.ui.position={ fit:{ left:function(e,t){let n,i=t.within,a=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,o=e.left-t.collisionPosition.marginLeft,l=a-o,c=o+t.collisionWidth-r-a;t.collisionWidth>r?l>0&&c<=0?(n=e.left+l+t.collisionWidth-r-a,e.left+=l-n):e.left=c>0&&l<=0?a:l>c?a+r-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-o,e.left);},top:function(e,t){let n,i=t.within,a=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,o=e.top-t.collisionPosition.marginTop,l=a-o,c=o+t.collisionHeight-r-a;t.collisionHeight>r?l>0&&c<=0?(n=e.top+l+t.collisionHeight-r-a,e.top+=l-n):e.top=c>0&&l<=0?a:l>c?a+r-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-o,e.top);} },flip:{ left:function(e,t){let n,i,a=t.within,s=a.offset.left+a.scrollLeft,o=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-o-l,p='left'===t.my[0]?-t.elemWidth:'right'===t.my[0]?t.elemWidth:0,h='left'===t.at[0]?t.targetWidth:'right'===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((n=e.left+p+h+f+t.collisionWidth-o-s)<0||n<r(u))&&(e.left+=p+h+f):d>0&&((i=e.left-t.collisionPosition.marginLeft+p+h+f-l)>0||r(i)<d)&&(e.left+=p+h+f);},top:function(e,t){let n,i,a=t.within,s=a.offset.top+a.scrollTop,o=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-o-l,p='top'===t.my[1],h=p?-t.elemHeight:'bottom'===t.my[1]?t.elemHeight:0,f='top'===t.at[1]?t.targetHeight:'bottom'===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];u<0?((i=e.top+h+f+m+t.collisionHeight-o-s)<0||i<r(u))&&(e.top+=h+f+m):d>0&&((n=e.top-t.collisionPosition.marginTop+h+f+m-l)>0||r(n)<d)&&(e.top+=h+f+m);} },flipfit:{ left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments);},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments);} } };}(),e.ui.position;});},function(e,t,n){let i,a,s;!function(r){a=[n(1),n(7)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.ui.safeActiveElement=function(e){let t;try{t=e.activeElement;}catch(n){t=e.body;}return t||(t=e.body),t.nodeName||(t=e.body),t;};});},function(e,t,n){let i,a,s;/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(7)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.fn.extend({ uniqueId:function(){let e=0;return function(){return this.each(function(){this.id||(this.id='ui-id-'+ ++e);});};}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr('id');});} });});},function(e,t,n){let i,a,s;/*!
 * jQuery UI Accordion 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(7),n(15),n(42),n(16)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.widget('ui.accordion',{ version:'1.12.1',options:{ active:0,animate:{},classes:{ 'ui-accordion-header':'ui-corner-top','ui-accordion-header-collapsed':'ui-corner-all','ui-accordion-content':'ui-corner-bottom' },collapsible:!1,event:'click',header:'> li > :first-child, > :not(li):even',heightStyle:'auto',icons:{ activeHeader:'ui-icon-triangle-1-s',header:'ui-icon-triangle-1-e' },activate:null,beforeActivate:null },hideProps:{ borderTopWidth:'hide',borderBottomWidth:'hide',paddingTop:'hide',paddingBottom:'hide',height:'hide' },showProps:{ borderTopWidth:'show',borderBottomWidth:'show',paddingTop:'show',paddingBottom:'show',height:'show' },_create:function(){let t=this.options;this.prevShow=this.prevHide=e(),this._addClass('ui-accordion','ui-widget ui-helper-reset'),this.element.attr('role','tablist'),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh();},_getCreateEventData:function(){return{ header:this.active,panel:this.active.length?this.active.next():e() };},_createIcons:function(){let t,n,i=this.options.icons;i&&(t=e('<span>'),this._addClass(t,'ui-accordion-header-icon','ui-icon '+i.header),t.prependTo(this.headers),n=this.active.children('.ui-accordion-header-icon'),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,'ui-accordion-icons'));},_destroyIcons:function(){this._removeClass(this.headers,'ui-accordion-icons'),this.headers.children('.ui-accordion-header-icon').remove();},_destroy:function(){let e;this.element.removeAttr('role'),this.headers.removeAttr('role aria-expanded aria-selected aria-controls tabIndex').removeUniqueId(),this._destroyIcons(),e=this.headers.next().css('display','').removeAttr('role aria-hidden aria-labelledby').removeUniqueId(),'content'!==this.options.heightStyle&&e.css('height','');},_setOption:function(e,t){if('active'===e)return void this._activate(t);'event'===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),'collapsible'!==e||t||!1!==this.options.active||this._activate(0),'icons'===e&&(this._destroyIcons(),t&&this._createIcons());},_setOptionDisabled:function(e){this._super(e),this.element.attr('aria-disabled',e),this._toggleClass(null,'ui-state-disabled',!!e),this._toggleClass(this.headers.add(this.headers.next()),null,'ui-state-disabled',!!e);},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){let n=e.ui.keyCode,i=this.headers.length,a=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(a+1)%i];break;case n.LEFT:case n.UP:s=this.headers[(a-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[i-1];}s&&(e(t.target).attr('tabIndex',-1),e(s).attr('tabIndex',0),e(s).trigger('focus'),t.preventDefault());}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger('focus');},refresh:function(){let t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find('.ui-state-disabled').length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh();},_processPanels:function(){let e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,'ui-accordion-header ui-accordion-header-collapsed','ui-state-default'),this.panels=this.headers.next().filter(':not(.ui-accordion-content-active)').hide(),this._addClass(this.panels,'ui-accordion-content','ui-helper-reset ui-widget-content'),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)));},_refresh:function(){let t,n=this.options,i=n.heightStyle,a=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,'ui-accordion-header-active','ui-state-active')._removeClass(this.active,'ui-accordion-header-collapsed'),this._addClass(this.active.next(),'ui-accordion-content-active'),this.active.next().show(),this.headers.attr('role','tab').each(function(){let t=e(this),n=t.uniqueId().attr('id'),i=t.next(),a=i.uniqueId().attr('id');t.attr('aria-controls',a),i.attr('aria-labelledby',n);}).next().attr('role','tabpanel'),this.headers.not(this.active).attr({ 'aria-selected':'false','aria-expanded':'false',tabIndex:-1 }).next().attr({ 'aria-hidden':'true' }).hide(),this.active.length?this.active.attr({ 'aria-selected':'true','aria-expanded':'true',tabIndex:0 }).next().attr({ 'aria-hidden':'false' }):this.headers.eq(0).attr('tabIndex',0),this._createIcons(),this._setupEvents(n.event),'fill'===i?(t=a.height(),this.element.siblings(':visible').each(function(){let n=e(this),i=n.css('position');'absolute'!==i&&'fixed'!==i&&(t-=n.outerHeight(!0));}),this.headers.each(function(){t-=e(this).outerHeight(!0);}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()));}).css('overflow','auto')):'auto'===i&&(t=0,this.headers.next().each(function(){let n=e(this).is(':visible');n||e(this).show(),t=Math.max(t,e(this).css('height','').height()),n||e(this).hide();}).height(t));},_activate:function(t){let n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({ target:n,currentTarget:n,preventDefault:e.noop }));},_findActive:function(t){return'number'==typeof t?this.headers.eq(t):e();},_setupEvents:function(t){let n={ keydown:'_keydown' };t&&e.each(t.split(' '),function(e,t){n[t]='_eventHandler';}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{ keydown:'_panelKeyDown' }),this._hoverable(this.headers),this._focusable(this.headers);},_eventHandler:function(t){let n,i,a=this.options,s=this.active,r=e(t.currentTarget),o=r[0]===s[0],l=o&&a.collapsible,c=l?e():r.next(),u=s.next(),d={ oldHeader:s,oldPanel:u,newHeader:l?e():r,newPanel:c };t.preventDefault(),o&&!a.collapsible||!1===this._trigger('beforeActivate',t,d)||(a.active=!l&&this.headers.index(r),this.active=o?e():r,this._toggle(d),this._removeClass(s,'ui-accordion-header-active','ui-state-active'),a.icons&&(n=s.children('.ui-accordion-header-icon'),this._removeClass(n,null,a.icons.activeHeader)._addClass(n,null,a.icons.header)),o||(this._removeClass(r,'ui-accordion-header-collapsed')._addClass(r,'ui-accordion-header-active','ui-state-active'),a.icons&&(i=r.children('.ui-accordion-header-icon'),this._removeClass(i,null,a.icons.header)._addClass(i,null,a.icons.activeHeader)),this._addClass(r.next(),'ui-accordion-content-active')));},_toggle:function(t){let n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({ 'aria-hidden':'true' }),i.prev().attr({ 'aria-selected':'false','aria-expanded':'false' }),n.length&&i.length?i.prev().attr({ tabIndex:-1,'aria-expanded':'false' }):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr('tabIndex'),10);}).attr('tabIndex',-1),n.attr('aria-hidden','false').prev().attr({ 'aria-selected':'true','aria-expanded':'true',tabIndex:0 });},_animate:function(e,t,n){let i,a,s,r=this,o=0,l=e.css('box-sizing'),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){r._toggleComplete(n);};return'number'==typeof d&&(s=d),'string'==typeof d&&(a=d),a=a||d.easing||u.easing,s=s||d.duration||u.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{ duration:s,easing:a,step:function(e,t){t.now=Math.round(e);} }),void e.hide().animate(this.showProps,{ duration:s,easing:a,complete:p,step:function(e,n){n.now=Math.round(e),'height'!==n.prop?'content-box'===l&&(o+=n.now):'content'!==r.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-o),o=0);} })):t.animate(this.hideProps,s,a,p):e.animate(this.showProps,s,a,p);},_toggleComplete:function(e){let t=e.oldPanel,n=t.prev();this._removeClass(t,'ui-accordion-content-active'),this._removeClass(n,'ui-accordion-header-active')._addClass(n,'ui-accordion-header-collapsed'),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger('activate',null,e);} });});},function(e,t,n){'use strict';let i=n(19),a=n(179),s=i.call(Function.call,String.prototype.replace),r=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){let e=a.ToString(a.CheckObjectCoercible(this));return s(s(e,r,''),o,'');};},function(e,t,n){'use strict';let i=n(44),a='';e.exports=function(){return String.prototype.trim&&a.trim()===a?String.prototype.trim:i;};},function(e,t){let n;n=function(){return this;}();try{n=n||Function('return this')()||(0,eval)('this');}catch(e){'object'==typeof window&&(n=window);}e.exports=n;},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,'loaded',{ enumerable:!0,get:function(){return e.l;} }),Object.defineProperty(e,'id',{ enumerable:!0,get:function(){return e.i;} }),e.webpackPolyfill=1),e;};},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(1),o=i(r),l=n(82),c=i(l),u=n(36),d=i(u),p=n(0),h=i(p),f=n(80),m=i(f);o.default.noConflict(!0);let y=function(){function e(){a(this,e);}return s(e,[{ key:'createVisualization',value:function(e,t,n){let i=o.default.Deferred(),a=this._processConfig(t),s=i.promise();return this.widgets=this.widgets||{},this.widgets[e]?i.reject('Duplicated Widget'):(this.widgets[e]=s,this._gmapPromise(a.gmapLoadConfig).done(function(){i.resolve(new c.default(e,a,n));}).fail(function(e){i.reject(e);})),s;} },{ key:'createExternalWidget',value:function(e,t,n){let i=o.default.Deferred(),a=this._processConfig(t),s=i.promise();return this.widgets=this.widgets||{},this.widgets[e]?i.reject('Duplicated Widget'):(this.widgets[e]=s,i.resolve(new c.default(e,a,n,!0))),s;} },{ key:'getVisualization',value:function(e){return this.widgets[e];} },{ key:'_gmapPromise',value:function(e){let t=o.default.Deferred(),n={};if(n={ LANGUAGE:'en',SENSOR:!1,LIBRARIES:['places','drawing'],VERSION:'3' },h.default.extend(d.default,n,e),h.default.isEmpty(e.CLIENT)&&h.default.isEmpty(e.KEY))throw new Error('Google Map loaded without apikey or clientid.');return d.default.load(function(){t.resolve();}),t.promise();} },{ key:'_processConfig',value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n(33);return(0,m.default)(t,e);} },{ key:'_version',get:function(){console.log('The current widget version is: 0.1.0');} }]),e;}();t.default=y;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(0),o=i(r),l=n(4),c=i(l),u=n(8),d=i(u),p=n(22),h=i(p);t.default=s.default.extend({ constructor:function(e){if(this.isSelected=!1,this.openSubview=e.open||!1,this.childPosition=this._getChildPosition(e),this.needIcon=this._needIcon(e),this.selectable=!!e.isChild,e.properties||(e.properties={}),this.closeOnSecondClick=e.properties.closeOnSecondClick||!1,this.iconConf=e.properties.icon||{},o.default.isUndefined(e.SubViewClass))throw new Error('SubViewClass undefined');this.SubViewClass=e.SubViewClass,'string'==typeof this.SubViewClass&&(this.SubViewClass=h.default[this.SubViewClass]),s.default.prototype.constructor.call(this,e);},initialize:function(e){this.properties.toggleBehaviour=!!o.default.isUndefined(this.properties.toggleBehaviour)||this.properties.toggleBehaviour,this.templateConfig=o.default.extend(this._getTemplateConfig(),this.templateConfig),s.default.prototype.initialize.call(this,e),this.subView=new this.SubViewClass({ parent:this,position:this.childPosition,isChild:this.isChild,map:this.map,widget:this.widget,properties:this.properties,identifier:this.identifier }),this.isChild||(this.needIcon||this.$el.hide(),this.openSubview&&this.activate());},events:{ 'click ':'toggleToolStatus' },select:function(){this.canBeClosed=!0,this.isSelected=!0,this.subView.show(),this._setSelectedStyles(),this.isChild&&this.eventBus.bus.trigger('SELECTED_TOOL',{ identifier:this.identifier,subView:this.subView,objInstance:this });},toggleToolStatus:function(){if(this.canBeClosed&&this.isSelected&&this.closeOnSecondClick)return this.unSelect(),void(this.canBeClosed=!1);this.isSelected?this.properties.toggleBehaviour&&(this.deactivate(),this.unSelect()):this.isActivated?this.select():this.activate();},activate:function(){o.default.isObject(this.subView)&&this.subView.activate(),this.select(),s.default.prototype.activate.call(this);},unSelect:function(){this.isSelected=!1,this.subView.hide(),this._setUnselectedStyles();},deactivate:function(e){this.canBeClosed=!1,this.subView&&this.subView.deactivate(),this.isChild||this.needIcon||this.$el.show(),s.default.prototype.deactivate.call(this);},_setUnselectedStyles:function(){this.$el.removeClass('snw-selected');},_setSelectedStyles:function(){this.$el.addClass('snw-selected');},_getChildPosition:function(e){let t=null;return e.childPosition?t=e.childPosition:e.isChild||(t=e.position),t;},_needIcon:function(e){let t=!1;if(this.isChild)t=!1;else{let n=o.default.isUndefined(e.useIcon)||!0===e.useIcon;t=(o.default.isUndefined(e.open)||!1===e.open||n)&&d.default.isGoogleMapsPosition(e.position);}return t;},_getTemplateConfig:function(){let e={ icon:{} };return this._getIconUrl()?e.icon.url=this._getIconUrl():e.icon.className='icon-'+this.iconConf.className,e;},_getIconHoverUrl:function(){let e=!1;return this.iconConf.hoverUrl&&(e=c.default.getImgUrl(this.iconConf.hoverUrl,this.widget)),e;},_getIconUrl:function(){let e=!1;return this.iconConf.url&&(e=this.isSelected&&this.iconConf.selectedUrl?c.default.getImgUrl(this.iconConf.selectedUrl,this.widget):c.default.getImgUrl(this.iconConf.url,this.widget)),e;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(1),o=i(r);n(208);let l=n(52),c=i(l),u=n(0),d=i(u),p=n(8),h=i(p),f=n(4),m=i(f),y=s.default.extend({ template:n(134),initialize:function(e){let t=this;this.templateConfig.placeholderText=e.properties.placeholderText||this.widget.polyglot.t('autocomplete.placeholder'),s.default.prototype.initialize.call(this,e),this.prepareConf(),this.categorized=!(!d.default.isUndefined(this.properties.categorized)&&!this.properties.categorized),this.autocompleteType=this.categorized?'catcomplete':'autocomplete',this.input=this.$el.find('input'),this.providers=[],this.promisesFinished=0,this.zoomTarget=e.properties.zoomTarget||13,this.autohideMessageControl=e.properties.autohideMessageControl||!1,this._initProviders(),this.autoFocus='undefined'===e.autoFocus,this.categorized?this._prepareCategoryAutocomplete():this._prepareAutocomplete(),this.resultsPanel=e.resultsPanel||this.$el.find('.results'),this.errorPanel=e.errorPanel||this.$el.find('.error-search-panel'),this._initAutoComplete(),this.overridable&&this.listenTo(this.eventBus.bus,'CREATE_POINT_REFERENCE',function(e){t._manageEventCreatePOI(e);}),this.listenTo(this.eventBus.bus,'CHANGE_POINT_TO_AUTOCOMPLETE',function(){t._checkInputEmpty();});},_manageEventCreatePOI:function(e){e.sender!==this&&this._resetAutocomplete();},events:{ 'click .reset':'_resetAutocomplete','keyup input':'_checkInputEmpty' },_initProviders:function(){let e=this,t=this.properties.providers;t&&d.default.each(t,function(t,n){e.providers.push(new c.default[n](t,e.widget));});},_checkInputEmpty:function(){this.input.val()?(this._showResetIcon(),this._hideSearchIcon()):(this._showSearchIcon(),this._hideResetIcon(),this.errorPanel.hide(),this.$el.find('.search-section').removeClass('error'),this._userActionReset());},_getMinKeystroke:function(){let e=null;return d.default.each(this.providers,function(t){d.default.isObject(t._sources)?d.default.each(t._sources,function(t){(null===e||e>t.minLength)&&(e=t.minLength);}):(null===e||e>t.conf.minLength)&&(e=t.conf.minLength);}),e;},_initAutoComplete:function(){let e=this;this.input[this.autocompleteType]({ minLength:this._getMinKeystroke(),source:function(t,n){e._lookup(t,n);},appendTo:this.resultsPanel,autoFocus:this.autoFocus,select:function(t,n){e._onSelect(n.item);},open:function(e,t){navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(0,o.default)('.ui-autocomplete').off('menufocus hover mouseover');} }),this._calculateMaxHeightAutocomplete();},_calculateMaxHeightAutocomplete:function(){let e=this.widget.$el.find('.snw-maps-widget-container').height()-90+'px';this.resultsPanel.find('ul').css('max-height',e);},_lookup:function(e,t){let n=this,i=[],a=this;this.promisesFinished=0,this.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'Autocomplete',text:e.term }),this.providers.forEach(function(t){t.requestIsFinished=!1,i.push(t.getPredictions(e.term));}),d.default.each(i,function(e){e.then(function(e){if(++n.promisesFinished<i.length){let a=[];a.push.apply(a,e.filter(function(e){return!d.default.isUndefined(e.code);})),a.length>0?(n.errorPanel.hide(),n.$el.find('.search-section').removeClass('error'),t(a)):t([]);}});}),o.default.when.apply(o.default,i).then(function(){for(var e=[],n=arguments||[],i=!1,s=0;s<n.length;s++){let r=n[s];!function(e,t){t.push.apply(t,e.filter(function(e){return!d.default.isUndefined(e.code);}));}(r,e);}i=e.length>0&&(1!==e.length||!d.default.isEmpty(e[0])),i?(a.errorPanel.hide(),a.$el.find('.search-section').removeClass('error')):(a.errorPanel.show(),a.$el.find('.search-section').addClass('error')),t(e);},function(e){t([]);});},_reloadAutocompleteInput:function(){let e=this.input.val();this.input.val(''),this._userActionReset(),this.input.val(e);},_onSelect:function(e){let t=this;this._reloadAutocompleteInput(),e.coordinates().done(function(n){let i=null;n instanceof google.maps.LatLng?i=n:d.default.isUndefined(n.viewport)||(i=n.location),t._canMoveMap(i)?(t._goToLocation(n),t._createPReference(i,e),t._hideSearchIcon(),t._showResetIcon(),t.input.blur(),t.input.trigger('blur'),t.$el.attr('data-place-id',e.originData.place_id),t.$el.attr('data-crs',e.id),t.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'Autocomplete',selected:e.value }),t.eventBus.bus.trigger('AUTOCOMPLETE_RESULT_SELECTED',e,t)):(t._resetAutocomplete(),t.widget.messageControl.add(m.default.createMessage('error',t.widget.polyglot.t('panelTT.outsideBounds'),t.autohideMessageControl,!1)));});},_canMoveMap:function(e){return!this.widget.config.defaultView.limitBounds||this.widget.config.defaultView.limitBounds&&h.default.containPointInBBox(h.default.getBounds(this.widget.config.defaultView.bounds),e);},_resetAutocomplete:function(){this._showSearchIcon(),this._hideResetIcon(),this.errorPanel.hide(),this.$el.find('.search-section').removeClass('error'),this.$el.removeAttr('data-place-id'),this.$el.removeAttr('data-crs'),this.input.val(''),this._userActionReset();},_showSearchIcon:function(){this.$el.find('.icon-ic_search_black_24px').show();},_hideSearchIcon:function(){this.$el.find('.icon-ic_search_black_24px').hide();},_showResetIcon:function(){this.$el.find('.reset').show();},_hideResetIcon:function(){this.$el.find('.reset').hide();},_userActionReset:function(){this.eventBus.bus.trigger('RESET_AUTOCOMPLETE',this);},_goToLocation:function(e){e instanceof google.maps.LatLng?(this.map.panTo(e),this.map.setZoom(this.zoomTarget)):d.default.isUndefined(e.viewport)||(this.map.panTo(e.location),this.map.fitBounds(e.viewport));},_createPReference:function(e,t){let n=this.eventBus.bus,i={ position:e,sender:this,properties:t };n.trigger('CREATE_POINT_REFERENCE',i);},_prepareCategoryAutocomplete:function(){o.default.widget('custom.catcomplete',o.default.ui.autocomplete,{ _create:function(){this._super(),this.widget().menu('option','items','> :not(.ui-autocomplete-category)');},_renderItem:function(e,t){let n=!d.default.isUndefined(t.icon)&&t.icon,i=(0,o.default)('<li></li>');return n?i.append('<i class="autocomplete-ui-icon '+n+'"></i> <span>'+t.label+'</span>'):i.append('<span>'+t.label+'</span>'),i.appendTo(e);},_renderMenu:function(e,t){let n=this,i='';d.default.each(n.providers,function(t){n.promisesFinished<n.providers.length&&!t.requestIsFinished&&e.append('<li class="ui-autocomplete-category"><span>'+t.conf.category+'</span><div class="loading-data categorized"></div></li>');}),o.default.each(t,function(t,a){let s;a.category?(a.category!==i&&(e.append('<li class="ui-autocomplete-category">'+a.category+'</li>'),i=a.category),s=n._renderItemData(e,a),a.category&&s.attr('aria-label',a.category+' : '+a.label)):n._renderItemData(e,a);});} });},_prepareAutocomplete:function(){o.default.widget('custom.autocomplete',o.default.ui.autocomplete,{ _create:function(){this._super(),this.widget().menu('option','items','> :not(.ui-autocomplete-loading)');},_renderMenu:function(e,t){let n=this,i=!1;d.default.each(n.providers,function(e){n.promisesFinished<n.providers.length&&!e.requestIsFinished&&(i=!0);}),i&&e.append('<li class="ui-autocomplete-loading"><div class="loading-data uncategorized"></div></li>'),o.default.each(t,function(t,i){n._renderItemData(e,i);});},_renderItem:function(e,t){let n=!d.default.isUndefined(t.icon)&&t.icon,i=(0,o.default)('<li class="'+t.type+'"></li>'),a=t.content?t.content:t.label?'<span>'+t.label+'</span>':'';return n?i.append('<i class="autocomplete-ui-icon '+n+'"></i>'+a+' '):i.append(a),i.appendTo(e);} });},prepareConf:function(){!1===this.properties.icons&&d.default.each(this.properties.providers,function(e){e.icons=!1;});} });t.default=y;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}Object.defineProperty(t,'__esModule',{ value:!0 });let o=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),l=n(1),c=i(l),u=n(0),d=i(u),p=n(21),h=i(p),f=n(61),m=i(f),y=n(8),g=i(y),v=function(e){function t(e,n){a(this,t);let i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.map=n.map,i.maxResults=e.maxResults,i.prefixTextSearch=e.prefixTextSearch||'',i._serviceOpt=e.serviceOptions||{},i._serviceOpt.bounds&&(i._serviceOpt.bounds=g.default.getBounds(i._serviceOpt.bounds)),i.service=new google.maps.places.AutocompleteService,i;}return r(t,e),o(t,[{ key:'_createCoordinatesHandler',value:function(e){return function(){let t=c.default.Deferred();return m.default.getDetails(e,this.code).done(function(e){let n=null;n=d.default.isUndefined(e[0].geometry.viewport)?e[0].geometry.location:e[0].geometry,t.resolve(n);}).fail(function(){t.reject(status);}),t.promise();};} },{ key:'getPredictions',value:function(e,n){let i=this;if('string'!=typeof e)throw new Error('The text is missing');this.maxResults=this.maxResults?this.maxResults:n.maxResults?n.maxResults:5;let a=c.default.Deferred(),s=this.map,r=function(e,n){i.requestIsFinished=!0;if(n===google.maps.places.PlacesServiceStatus.OK){for(var r=[],o=0;o<e.length;o++){let l=e[o];if(l.place_id){let c={ code:l.place_id,value:l.description,coordinates:i._createCoordinatesHandler(s),originData:l,icon:i.getIconClass(l),provider:t.name };i.conf.category&&(c.category=i.conf.category),r.push(c);}}r.length>i.maxResults&&(r=r.slice(0,i.maxResults)),a.resolve(r);}else google.maps.places.PlacesServiceStatus.ZERO_RESULTS,a.resolve([]);};return e.length<this.conf.minLength?(this.requestIsFinished=!0,a.resolve([])):this.getPredictionsFunction(this.getServiceConf(e,this.conf),r,a),a.promise();} },{ key:'getPredictionsFunction',value:function(e,t,n){return this.service.getPlacePredictions(e,t);} },{ key:'getIconClass',value:function(e){let t=this.conf.icons;if(d.default.isUndefined(t))return'default';if(!1===t)return!1;let n='default';if(e.types)for(let i=0;i<t.length;i++)if(-1!==e.types.indexOf(t[i])){n=t[i];break;}return n;} },{ key:'getServiceConf',value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.extend({ input:this.prefixTextSearch+e,location:this.map?this.map.getCenter():new google.maps.LatLng(this.conf.defaultLocation[0],this.conf.defaultLocation[1]),radius:5e4 },this._serviceOpt,t);} }]),t;}(h.default);t.default=v;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(0),s=i(a),r=n(89),o=i(r),l=s.default.extend({},o.default);t.default=l;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 }),t.GeocodingTypes=void 0;let a=n(56),s=i(a),r=n(17),o=i(r),l=n(4),c=i(l),u=n(0),d=i(u),p=t.GeocodingTypes={ FORMATTED_ADDRESS:'formatted_address' };t.default=s.default.extend({ checkPOI:function(e,t){return t.sender.identifier.split('Autocomplete')[0]===e.type;},_setProperties:function(e){if(e.draggable){this.pointOfReference.setDraggable(!0);let t=void 0;t=d.default.isObject(e.iconMarker)&&e.iconMarker.url?'<img src="'+c.default.getImgUrl(e.iconMarker.url,this.widget)+'"\n    width="'+e.iconMarker.width+'px"  height="'+e.iconMarker.height+'px">':d.default.isString(e.iconMarker)?'<i class="'+e.iconMarker+'"></i>':'<i class="snw-md-icon-pin"></i>';let n='<div class="marker-icon"\n        data-toggle="tooltip" title="'+this.widget.polyglot.t('pointOfReference.title')+'">\n        '+t+'</div>';this.pointOfReference.setContent(n);}},_addListenersMarker:function(e){let t=this,n={ tracking:'DragOnMarker' };this.pointOfReference.lastValidPos=this.pointOfReference.position,google.maps.event.addListener(this.pointOfReference,'click',function(e){e.stopPropagation(),e.preventDefault();}),google.maps.event.addListener(this.pointOfReference,'dragstart',function(){t.eventBus.bus.trigger('CLEAN_ROUTES',t);}),google.maps.event.addListener(this.pointOfReference,'dragend',function(e){o.default.getAddress(t.pointOfReference.position).done(function(e){e&&e.length?(t.address=e[0][p.FORMATTED_ADDRESS],t.pointOfReference.lastValidPos=t.pointOfReference.position,n.error=null,n.location=t.pointOfReference.position,n.address=t.address):(t.pointOfReference.setPosition(t.pointOfReference.lastValidPos),t.widget.messageControl.add(c.default.createMessage('error',t.widget.polyglot.t('panelTT.outsideBounds'),2500,!1)),t.address=null,n.error=t.widget.polyglot.t('panelTT.outsideBounds'),n.location=null,n.address=null),t.eventBus.bus.trigger('DRAGEND_MARKER',t),t.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',n);});});} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(1),o=i(r),l=n(0),c=i(l);t.default=s.default.extend({ template:n(135),events:{ 'click .snw-icon-close':'_close' },constructor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.widget=e.widget,this.position=e.position,this.collection=this.widget.messageControl,s.default.prototype.constructor.call(this,e);},initialize:function(e){s.default.prototype.initialize.call(this,e),this.listenTo(this.collection,'add',this._render),this.listenTo(this.collection,'remove',this._hideMessage);},_render:function(){let e=this;this._clear(),this.collection.forEach(function(t){e._createMessage(t.attributes);});},_createMessage:function(e){let t=this._createMessageEl(e);this.$el.append(t),this._showMessage(e);},_createMessageEl:function(e){return(0,o.default)('<div id="'+e.id+'" class="snw-message-control snw-message snw-'+e.type+'">\n      <div class="snw-icon snw-icon-'+e.type+'"></div>\n      <div class="snw-message-text">'+e.text+'\n      </div>\n      <div class="snw-icon snw-icon-close"></div>\n    </div>');},_showMessage:function(e){let t=this;this.$el.find('#'+e.id).show(),c.default.isNumber(e.autohide)&&setTimeout(function(){t._hideMessage(e.id),t.collection.removeById(e.id);},e.autohide);},_hideMessage:function(e){this.$el.find('#'+e.id).remove();},_close:function(e){let t=(0,o.default)(e.target).parent().attr('id');this.collection.removeById(t);},_clear:function(){let e=this;this.collection.forEach(function(t){e.$el.find('#'+t.id).remove();});} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 }),t.GeocodingTypes=void 0;let a=n(5),s=i(a),r=n(4),o=i(r),l=n(8),c=i(l),u=n(17),d=i(u),p=n(9),h=n(0),f=i(h),m=t.GeocodingTypes={ FORMATTED_ADDRESS:'formatted_address' };t.default=s.default.extend({ template:n(136),initialize:function(e){this.delayTime=2500,f.default.isString(this.templateConfig.iconClassName)||(this.templateConfig.iconClassName='snw-icon-my-location'),this.listenTo(this.eventBus.bus,'REMOVE_MYLOCATION_MARKER',this._deleteMyLocationMarker),s.default.prototype.initialize.call(this,e);},events:{ click:'showMyLocation' },showMyLocation:function(e){let t=this;this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'myLocation',action:'clicked' }),o.default.requestUserPosition().done(function(e){let n=t.widget.filterManager.filterProviders.polygon,i=new google.maps.LatLng(e.lat(),e.lng());d.default.getAddress(i).done(function(e){t.eventBus.bus.trigger('GET_ADRESS_MY_LOCATION',{ latLng:i,address:e[0][m.FORMATTED_ADDRESS] });}),n.filterActivated&&!c.default.containPointInPolygons(i,n.polygons)?t._showNotAllowedAreaMsg():t._centerMap(e),t.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'myLocation',position:e });}).fail(function(){t._showNotFoundMsg();});},_centerMap:function(e){this.map.panTo(e),this.map.setZoom(this.properties.zoomTargetMyLoc),f.default.isString(this.properties.iconMarker)&&this._createMyLocationMarker(e);},_createMyLocationMarker:function(e){let t=this;f.default.isUndefined(this.marker)||this._deleteMyLocationMarker();let n=this.properties.iconMarker;this.marker=new p.RichMarker({ shadow:'none',content:'<div class="'+n+'"></div>',map:this.widget.map,position:e,zIndex:10 }),this.marker.addListener('click',function(){t._deleteMyLocationMarker();});},_deleteMyLocationMarker:function(){f.default.isUndefined(this.marker)||this.marker.setMap(null);},_createPReference:function(e){let t=this.eventBus.bus,n=f.default.extend({ position:e },{ sender:this });t.trigger('CREATE_POINT_REFERENCE',n);},_showNotFoundMsg:function(){this.widget.messageControl.add(o.default.createMessage('error',o.default.createLinkToMessage(this.widget.polyglot.t('mylocation.notfound'),this._getHelpLink()),this.delayTime,!1));},_showNotAllowedAreaMsg:function(){this.widget.messageControl.add(o.default.createMessage('error',this.widget.polyglot.t('mylocation.notinallowedarea'),this.delayTime,!1));},_getHelpLink:function(){let e=void 0;return'mylocation.helpMobile'!==(e=this._isMobile()?this.widget.polyglot.t('mylocation.helpMobile'):this.widget.polyglot.t('mylocation.helpDesktop'))&&'mylocation.helpDesktop'!==e&&e;},_hideMsg:function(){let e=this;setTimeout(function(){e.$el.find('.error-panel').hide();},3500);},_isMobile:function(){let e=this.widget.config.breakpoints,t=767,n=this.widget.$el.width();return e.tablet?t=e.tablet.replace('px',''):e.mobile&&(t=e.mobile.replace('px','')),!(n>t);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(4),o=i(r),l=n(9),c=n(0),u=i(c),d=n(8),p=i(d),h=n(17),f=i(h);t.default=s.default.View.extend({ constructor:function(e){this.pointOfReference=null,this.map=e.map,this.widget=e.widget,this.eventBus=e.widget.eventBus,this.properties=e.properties,s.default.View.prototype.constructor.call(this,e);},initialize:function(e){let t=this;this.draggable=this.properties.draggable||!1,this.listenTo(this.eventBus.bus,'CREATE_POINT_REFERENCE',function(n){t.checkPOI(e,n)&&(u.default.isObject(t.pointOfReference)&&t._deletePreference(),t._createPReference(n));}),this.listenTo(this.eventBus.bus,'DELETE_POINT_REFERENCE',function(n){t.checkPOI(e,n)&&u.default.isObject(t.pointOfReference)&&t._deletePreference();});},checkPOI:function(e,t){return!0;},_createPReference:function(e){this.currentPRef=e;let t=void 0,n={};if(e.sender&&(n=e.sender.properties?e.sender.properties:e.sender.params),u.default.extend(n,this.properties),e.sender&&e.sender.widget.config.defaultView.limitBounds&&!p.default.containPointInBBox(p.default.getBounds(e.sender.widget.config.defaultView.bounds),e.position))this.widget.messageControl.add(o.default.createMessage('error',this.widget.polyglot.t('panelTT.outsideBounds'),2500,!1));else{if(!n||u.default.isUndefined(n.iconMarker)&&!n.richMarkerClass)t=new google.maps.Marker({ position:e.position,draggable:this.draggable });else{let i=void 0,a=void 0;u.default.isObject(n.iconMarker)&&n.iconMarker.url?(i='<img src="'+o.default.getImgUrl(n.iconMarker.url,this.widget)+'"\n            width="'+n.iconMarker.width+'px"  height="'+n.iconMarker.height+'px">',a='<div class="marker-icon">'+i+'</div>'):u.default.isString(n.iconMarker)?(i='<i class="'+n.iconMarker+'"></i>',a='<div class="marker-icon">'+i+'</div>'):n.richMarkerClass?a='<div class="'+n.richMarkerClass+'">':(i='<i class="snw-md-icon-pin"></i>',a='<div class="marker-icon">'+i+'</div>'),t=new l.RichMarker({ shadow:'none',content:a,position:e.position,draggable:this.draggable,zIndex:9999 });}this.draggable&&this._registryDraggableListener(t),t.setMap(this.map),this.pointOfReference=t,this._setProperties(n),this._addListenersMarker(n),this.triggers();}},_registryDraggableListener:function(e){let t=this,n=this;google.maps.event.addListener(e,'drag',function(e){e.preventDefault(),e.stopPropagation();}),google.maps.event.addListener(e,'dragend',function(){n.pointOfReference=e,n.pointOfReference.properties={},f.default.getAddress(e.getPosition()).then(function(i){if(!u.default.isNull(i)&&!u.default.isUndefined(i[0])){let a={ position:e.getPosition(),address:i[0].formatted_address,sender:t };n.eventBus.bus.trigger('MODIFY_TRAVELTIME',a);}});});},_setProperties:function(){},triggers:function(){let e={ sender:this,properties:this.currentPRef.properties };this.currentPRef.backFn&&(e.backFn=this.currentPRef.backFn),this.eventBus.bus.trigger('SHOW_PANEL_DETAIL',e);},_addListenersMarker:function(){},_deletePreference:function(){this.pointOfReference.setMap(null),this.pointOfReference=null;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(49),s=i(a),r=n(0),o=i(r);t.default=s.default.extend({ template:n(137),constructor:function(e){e.position=e.position||'toolbox',e.childPosition='container',e.properties=o.default.isUndefined(e.properties)?{}:e.properties,e.properties.toggleBehaviour=!o.default.isUndefined(e.properties.toggleBehaviour)&&e.properties.toggleBehaviour,e.properties=o.default.extend(e.properties,e),s.default.prototype.constructor.call(this,e);},initialize:function(e){this.templateConfig=o.default.extend(this.templateConfig,{ name:e.properties.name||'Tab Label' }),s.default.prototype.initialize.call(this,e);} });},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(5),a=function(e){return e&&e.__esModule?e:{ default:e };}(i);t.default=a.default.extend({ initialize:function(e){this.listenTo(this.eventBus.bus,'USER_ACTION_TRACKING',this._userActionTracking),this.timeout=null;},_userActionTracking:function(e){let t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.widget.api.userAction(e);},5);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(1),o=i(r),l=n(0),c=i(l),u=function(){function e(t){let n=this;a(this,e),this.eventBus=t,this.filterActivated=!1,this.polygons=[],this.eventBus.bus.on('POLYGON_DRAWN',function(e){n.filterActivated=!0,n._addPolygon(e),n.eventBus.bus.trigger('filters-changed');}),this.eventBus.bus.on('POLYGON_DELETED',function(e){n.filterActivated=!1,n._removePolygon(e),n.eventBus.bus.trigger('filters-changed');});}return s(e,[{ key:'filterMarkers',value:function(e){let t=o.default.Deferred();return this.filterActivated?t.resolve(this._applyFilter(e)):t.resolve({ visibleMarkers:e,invisibleMarkers:[] }),t.promise();} },{ key:'_addPolygon',value:function(e){this.polygons.push(e);} },{ key:'_removePolygon',value:function(e){this.polygons=c.default.without(this.polygons,e);} },{ key:'_applyFilter',value:function(e){let t=this,n={ visibleMarkers:[],invisibleMarkers:[] };return n.visibleMarkers=e.filter(function(e){return c.default.every(t.polygons,function(t){let i=google.maps.geometry.poly.containsLocation(e.getPosition(),t);return i||n.invisibleMarkers.push(e),i;});}),n;} }]),e;}();t.default=u;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(1),o=i(r),l=n(64),c=i(l),u=n(0),d=i(u),p=function(){function e(t){let n=this;a(this,e),this.eventBus=t,this.filterActivated=!1,this.filterOptions=null,this.eventBus.bus.on('ACTIVATE_TRAVELTIME',function(e){n.filterActivated=!0,n.filterOptions=e,n.eventBus.bus.trigger('filters-changed');}),this.eventBus.bus.on('DEACTIVATE_TRAVELTIME',function(){n.filterActivated=!1,n.eventBus.bus.trigger('filters-changed');});}return s(e,[{ key:'filterMarkers',value:function(e){let t=o.default.Deferred();if(this.filterActivated)this.filterOptions.markers=e,this._applyFilter(this.filterOptions).then(function(e){t.resolve(e);});else{let n=[];if(!d.default.isUndefined(e))for(let i=0;i<e.length;i++)n.push({ cluster:e[i],visible:!0 });t.resolve(n);}return t.promise();} },{ key:'_applyFilter',value:function(e){return this._sendRequest(e);} },{ key:'_sendRequest',value:function(e){let t=o.default.Deferred(),n=e.maxTime;return c.default.getTravelTime(e,function(e,i){for(var a=[],s=i.rows[0].elements,r=0;r<s.length;r++){let o=!1;if('ZERO_RESULTS'!==s[r].status){let l=s[r].duration.text,c=l.replace(/\s0 (mins|min)/,'').trim();o=s[r].duration.value<=n,a.push({ cluster:e[r],visible:o,duration:c });}else a.push({ cluster:e[r],visible:o,duration:null });}t.resolve(a);}),t.promise();} },{ key:'applyVisibility',value:function(e){for(var t=[],n=0;n<e.length;n++){let i=e[n].cluster,a=e[n].visible,s=e[n].duration;if(i.clusterIcon_&&!d.default.isUndefined(i.markers_)){(0,o.default)(i.clusterIcon_.div_).addClass(i.id),a?((0,o.default)(i.clusterIcon_.div_).removeClass('snw-hide'),this._setLabel(i.clusterIcon_.div_,s,a)):(0,o.default)(i.clusterIcon_.div_).addClass('snw-hide');for(let r=i.markers_,l=0;l<r.length;l++)this._changeMarkerVisibility(r[l],a,s),a&&t.push(r[l]);}else this._changeMarkerVisibility(i,a,s),a&&t.push(i);}return t;} },{ key:'_setLabel',value:function(e,t,n){let i='',a=(0,o.default)(e),s=a.attr('id');if(s&&(a=(0,o.default)('div[id="'+s+'"]')),n&&!d.default.isUndefined(t)||(i='snw-hide'),a.has('.snw-marker-label').length)a.find('.snw-marker-label')[0].className='snw-marker-label '+i,a.find('.snw-marker-label').html(t);else{let r='<div class="snw-marker-label '+i+'">'+t+'</div>';a.prepend(r);}} },{ key:'_changeMarkerVisibility',value:function(e,t,n){if(!d.default.isUndefined(e)&&!d.default.isUndefined(e.getContent)){let i=e.getContent();if(i instanceof Node)this._setLabel(i,n,t);else{let a=o.default.parseHTML(i)[0];e.setContent(a),this._setLabel(a,n,t);}t?(0,o.default)(i).removeClass('snw-hide'):(0,o.default)(i).addClass('snw-hide');}} }]),e;}();t.default=p;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(1),o=i(r),l=n(0),c=i(l),u={},d=function(){function e(){a(this,e);}return s(e,null,[{ key:'createService',value:function(e){let t=document.createElement('div');return this.service=new google.maps.places.PlacesService(t),this.service;} },{ key:'searchRadar',value:function(e,t,n){let i=this,a=n||0,s=o.default.Deferred(),r=this._createRequest(t);return(this.service||this.createService(e)).radarSearch(r,function(n,r){r===google.maps.places.PlacesServiceStatus.OK?s.resolve(n,r):r===google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?a<3?setTimeout(function(){a++,i.searchNearby(e,t,a).then(function(e,t){s.resolve(e,t);});},1e3):s.reject():r===google.maps.places.PlacesServiceStatus.ZERO_RESULTS?s.resolve([],r):s.reject();}),s.promise();} },{ key:'searchNearby',value:function(e,t,n){let i=this,a=n||0,s=this._createRequest(t),r=this.service||this.createService(e),l=o.default.Deferred();return r.nearbySearch(s,function(n,s){s===google.maps.places.PlacesServiceStatus.OK?l.resolve(n,s):s===google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?a<3?setTimeout(function(){a++,i.searchNearby(e,t,a).then(function(e,t){l.resolve(e,t);});},1e3):l.reject():s===google.maps.places.PlacesServiceStatus.ZERO_RESULTS?l.resolve([],s):l.reject();}),l.promise();} },{ key:'searchText',value:function(e,t,n){let i=this,a=n||0,s=o.default.Deferred(),r={},l=this.service||this.createService(e);return r=this._createRequest(t),l.textSearch(r,function(n,r){r===google.maps.places.PlacesServiceStatus.OK?s.resolve(n,r):r===google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?a<3?setTimeout(function(){a++,i.searchText(e,t,a).then(function(e,t){s.resolve(e,t);});},1e3):s.reject():r===google.maps.places.PlacesServiceStatus.ZERO_RESULTS?s.resolve([],r):s.reject();}),s.promise();} },{ key:'getDetails',value:function(e,t){let n=this,i=o.default.Deferred(),a=[],s=[];return s=this._normalizePlacesForRequest(t),c.default.each(s,function(t){if(c.default.isObject(u[t.place_id]))a.push(u[t.place_id]);else{let i=n._getDetails(e,t.place_id);a.push(i),u[t.place_id]=i;}}),o.default.when.apply(o.default,a).then(function(){i.resolve(arguments);}).fail(function(e){i.reject(e);}),i.promise();} },{ key:'_getDetails',value:function(e,t){let n=this,i=o.default.Deferred(),a={ placeId:t };return(this.service||this.createService(e)).getDetails(a,function(a,s){s===google.maps.places.PlacesServiceStatus.OK?i.resolve(a):s===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?setTimeout(function(){n._getDetails(e,t).done(function(e){i.resolve(e);}).fail(function(e){i.reject(e);});},200):i.reject('Request Fail');}),i.promise();} },{ key:'_normalizePlacesForRequest',value:function(e){let t=[];return t=c.default.isArray(e)?e:[e],t.map(function(e){let t={};return c.default.isObject(e)?t=e:t.place_id=e,t;});} },{ key:'_createRequest',value:function(e){let t={ bounds:e.bounds||null,location:e.location||null,radius:e.radius||null,openNow:e.opennow||null,minPriceLevel:e.minPriceLevel||null,maxPriceLevel:e.maxPriceLevel||null,keyword:e.keyword||null,name:e.name||null,type:e.type||null,types:e.types||null },n={ query:e.query,rankby:e.rankby||null };return c.default.extend({},t,n);} }]),e;}();t.default=d;},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(1),r=function(e){return e&&e.__esModule?e:{ default:e };}(s),o=function(){function e(){i(this,e);}return a(e,null,[{ key:'_createService',value:function(){return this.service=new google.maps.DirectionsService,this.service;} },{ key:'getJourney',value:function(e,t,n){let i=r.default.Deferred(),a=this.service||this._createService(),s=this._setRequest(e,t,n);return a.route(s,function(e,t){i.resolve(e);}),i.promise();} },{ key:'_setRequest',value:function(e,t,n){let i,a,s,r,o={ transit:google.maps.TravelMode.TRANSIT,driving:google.maps.TravelMode.DRIVING,walking:google.maps.TravelMode.WALKING,bicycling:google.maps.TravelMode.BICYCLING },l={ bus:google.maps.TransitMode.BUS,rail:google.maps.TransitMode.RAIL,subway:google.maps.TransitMode.SUBWAY,train:google.maps.TransitMode.TRAIN,tram:google.maps.TransitMode.TRAM },c={ lesswalking:google.maps.TransitRoutePreference.LESS_WALKING,fewertransfers:google.maps.TransitRoutePreference.FEWER_TRANSFERS },u={ pessimistic:google.maps.TrafficModel.PESSIMISTIC,bestguess:google.maps.TrafficModel.BEST_GUESS,optimistic:google.maps.TrafficModel.OPTIMISTIC },d={ origin:null,destination:null,waypoints:null,travelMode:null,avoidHighways:null,avoidTolls:null },p={ modes:[] };if(e&&t&&(d.origin=e.marker?e.marker.getPosition():e.value,d.destination=t.marker?t.marker.getPosition():t.value,d.travelMode=n&&n.travelMode?o[n.travelMode]:o.transit,d.provideRouteAlternatives=!0,d.region=n&&n.region?n.region:'uk',d.avoidTolls=!(!n||!n.avoidTolls)&&n.avoidTolls,d.avoidHighways=!(!n||!n.avoidHighways)&&n.avoidHighways),n){if(n.waypoints&&(d.waypoints=n.waypoints),n.departureTime&&(p.departureTime=n.departureTime),n.arrivalTime&&(p.arrivalTime=n.arrivalTime),n.modes)for(i=0;i<n.modes.length;i++)s=n.modes[i].toLowerCase(),p.modes.push(l[s]);if(n.routingPreference)for(a=0;a<n.routingPreference.length;a++)r=n.routingPreference[a].toLowerCase(),p.routingPreference=c[r];n.unitSystem&&(d.unitSystem='METRIC'===n.unitSystem.toUpperCase()?google.maps.UnitSystem.METRIC:google.maps.UnitSystem.IMPERIAL),n.drivingOptions&&(d.drivingOptions={ departureTime:n.drivingOptions.departureTime?n.drivingOptions.departureTime:new Date,trafficModel:u[n.drivingOptions.trafficModel] });}return d.transitOptions=p,d;} }]),e;}();t.default=o;},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(1),r=function(e){return e&&e.__esModule?e:{ default:e };}(s),o=function(){function e(){i(this,e);}return a(e,null,[{ key:'getTimeZone',value:function(e,t,n,i,a){let s='https://maps.googleapis.com/maps/api/timezone/json?location='+t+', '+n+'&timestamp=\n      '+Math.round(i/1e3).toString()+'&sensor=false&key=\n      '+(e.config.gmapLoadConfig.KEY||e.config.gmapLoadConfig.KEY_TIMEZONE);r.default.ajax({ url:s }).done(function(e){a(e);});} }]),e;}();t.default=o;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(1),o=i(r),l=n(0),c=i(l),u=function(){function e(){a(this,e);}return s(e,null,[{ key:'getTravelTime',value:function(e,t,n){let i=this,a=e.markers,s=e.origin,r=e.mode,l=e.url,u=o.default.Deferred(),d={ destinations:this.getDestinationsArry(a),origins:[s.lat()+','+s.lng()],mode:r };return o.default.ajax({ url:l,type:'POST',data:JSON.stringify(d),dataType:'json',headers:{ Accept:'application/json','Content-Type':'application/json' },success:function(e,n,s){c.default.isUndefined(t)||null===t?i.successFn(a,u,e):t(a,e);},error:function(e,t,s){c.default.isUndefined(n)||null===n?i.failureFn(a,u,e):n(a,e);} }),u.promise();} },{ key:'getDestinationsArry',value:function(e){for(var t=[],n=0;n<e.length;n++){let i=e[n].position?e[n].position:e[n].getCenter();t.push(i.lat()+','+i.lng());}return t;} },{ key:'successFn',value:function(e,t,n){for(var i=[],a=n.rows[0].elements,s=0;s<a.length;s++)i.push({ marker:e[s],duration:a[s].duration,distance:a[s].distance });t.resolve(i);} },{ key:'failureFn',value:function(e,t,n){t.reject(n);} }]),e;}();t.default=u;},function(e,t,n){'use strict';function i(e,t,n){return function(i){let a={ top:0,left:0,right:0,bottom:0 };e.getDiv().offsetHeight!==i.offsetHeight&&(t!==google.maps.ControlPosition.TOP_CENTER&&t!==google.maps.ControlPosition.TOP_LEFT&&t!==google.maps.ControlPosition.TOP_RIGHT&&t!==google.maps.ControlPosition.LEFT_TOP&&t!==google.maps.ControlPosition.RIGHT_TOP||(a.top=i.offsetHeight?i.offsetTop+i.offsetHeight:i.offsetHeight),t!==google.maps.ControlPosition.BOTTOM_CENTER&&t!==google.maps.ControlPosition.BOTTOM_LEFT&&t!==google.maps.ControlPosition.BOTTOM_RIGHT&&t!==google.maps.ControlPosition.LEFT_BOTTOM&&t!==google.maps.ControlPosition.RIGHT_BOTTOM||(a.bottom=e.getDiv().offsetHeight-i.offsetTop)),e.getDiv().offsetWidth!==i.offsetWidth&&(t!==google.maps.ControlPosition.LEFT_CENTER&&t!==google.maps.ControlPosition.BOTTOM_LEFT&&t!==google.maps.ControlPosition.TOP_LEFT&&t!==google.maps.ControlPosition.LEFT_BOTTOM&&t!==google.maps.ControlPosition.LEFT_TOP||(a.left=i.offsetWidth?i.offsetLeft+i.offsetWidth:i.offsetWidth),t!==google.maps.ControlPosition.RIGHT_CENTER&&t!==google.maps.ControlPosition.BOTTOM_RIGHT&&t!==google.maps.ControlPosition.TOP_RIGHT&&t!==google.maps.ControlPosition.RIGHT_BOTTOM&&t!==google.maps.ControlPosition.RIGHT_TOP||(a.right=e.getDiv().offsetWidth-i.offsetLeft)),a.top>0&&(a.top<a.left||a.top<a.right)?(a.left=0,a.right=0):a.top=0,a.bottom>0&&(a.bottom<a.left||a.bottom<a.right)?(a.left=0,a.right=0):a.bottom=0,a.top>n.top&&(n.top=a.top),a.left>n.left&&(n.left=a.left),a.bottom>n.bottom&&(n.bottom=a.bottom),a.right>n.right&&(n.right=a.right);};}function a(e){let t={ top:0,left:0,right:0,bottom:0 };for(let n in e.controls)e.controls.hasOwnProperty(n)&&e.controls[n].forEach(i(e,parseInt(n),t));return t;}function s(e,t){e._oldFitBounds(t);let n=e.getProjection();if(n&&e.getZoom()){let i=a(e),s=t.getSouthWest(),r=t.getNorthEast(),o=n.fromLatLngToPoint(s),l=n.fromLatLngToPoint(r),c=Math.pow(2,e.getZoom());o.x-=i.left/c,o.y+=i.bottom/c,l.x+=i.right/c,l.y-=i.top/c,s=n.fromPointToLatLng(o),r=n.fromPointToLatLng(l),e._oldFitBounds(new google.maps.LatLngBounds(s,r));}}function r(e,t){let n=e.getProjection();if(!n||!e.getZoom())return void e._oldSetCenter(t);let i=a(e),s=n.fromLatLngToPoint(t),r=2*Math.pow(2,e.getZoom());s.x+=(i.right-i.left)/r,s.y+=(i.bottom-i.top)/r,e._oldSetCenter(n.fromPointToLatLng(s));}Object.defineProperty(t,'__esModule',{ value:!0 }),t.default={ init:function(e){function t(t){let n=void 0;try{throw new Error;}catch(e){n=e.stack?e.stack.split('\n')[3]:null;}if(n&&-1!==n.indexOf('googleapis.com')||null===n)return void e._oldSetCenter(t);r(e,t);}e._oldFitBounds=e.fitBounds,e.fitBounds=function(t){s(e,t);},e._oldSetCenter=e.setCenter,e.setCenter=t;} };},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(0),o=i(r),l=n(3),c=i(l),u=n(69),d=i(u),p=function(){function e(t){a(this,e),this.map=t.map,this.bookedSpaces=0,this.layers=[],this.layersView=[],this.widget=t,this.layersCollection=new c.default.Collection({}),this.clusters={},this.minZIndexProductLayers=1e3,this.minZIndexLayers=1,this.jumpValueZIndex=10,this.zIndexAdded=[];}return s(e,[{ key:'bookOverlaysSpace',value:function(e){let t=this.bookedSpaces;return this.bookedSpaces=this.bookedSpaces+e,t;} },{ key:'createLayer',value:function(e,t){if(!e.id&&t&&(e.id=t),-1===o.default.indexOf(this.layers,e)&&o.default.isUndefined(e.layer)){if(o.default.isUndefined(d.default[e.type]))throw new Error(e.type+' layer doesn\'t exist');if(e.id){let n=this.layersCollection.get(e.id);if(n){let i=this.layersView.filter(function(e){return n===e.model;});return o.default.isEmpty(i)?this.createLayerView(e):i[0];}return this.createLayerView(e);}return this.createLayerView(e);}return e.layer;} },{ key:'addToMap',value:function(e){-1===o.default.indexOf(this.layers,e)&&this.layers.push(e);let t=e.index=e.model.get('index')||e.index||this.bookOverlaysSpace(1)+1;e.activateSource(t);} },{ key:'getLayerIndex',value:function(e){return o.default.findIndex(this.layers,function(t){return t.id===e;});} },{ key:'deleteLayer',value:function(e){o.default.indexOf(this.layers,e)>-1&&e.remove();} },{ key:'deleteLayerById',value:function(e){let t=this.getLayerIndex(e);t>-1&&(this.layers[t].remove(),this.layers.splice(t,1));} },{ key:'getLayerModel',value:function(e){return this.layersCollection.get(e);} },{ key:'_layerVisibilityFixer',value:function(e){let t=this,n=this.layers.filter(function(t){return t.layer===e.layer&&t!==e&&e.model.get('active');});o.default.each(n,function(e){t.map.overlayMapTypes.setAt(e.index,e.layer);});} },{ key:'createLayerView',value:function(e){let t=new d.default[e.type]({ source:e,widget:this.widget });return this.layersView.push(t),t;} },{ key:'deleteLayerView',value:function(e){for(var t=void 0,n=void 0,i=0;i<this.layersView.length;i++)if(this.layersView[i].id===e){t=this.layersView[i],n=i;break;}null!==t&&n>-1&&(this.layersView.splice(n,1),this.deleteLayer(t));} },{ key:'getLayerView',value:function(e){let t=o.default.find(this.layersView,function(t){return t.id===e;});return o.default.isUndefined(t)?null:t;} },{ key:'setOrderProductLayers',value:function(e){let t=this.minZIndexProductLayers,n=this._getMaxZIndex(e)*this.jumpValueZIndex;this._orderLayers(e,t,n);} },{ key:'setOrderSecondaryLayers',value:function(e){let t=this.minZIndexLayers,n=this._getMaxZIndex(e)*this.jumpValueZIndex;this._orderLayers(e,t,n);} },{ key:'_orderLayers',value:function(e,t,n){let i=this;o.default.each(e,function(e){let t=i._getZIndex(e)*i.jumpValueZIndex;if(t&&-1===o.default.indexOf(i.zIndexAdded,t))e.markersZIndex=t;else if(t&&o.default.indexOf(i.zIndexAdded,t)>-1){for(var a=!1,s=t+1;!a&&s<t+30;s++)-1===o.default.indexOf(i.zIndexAdded,s)&&(e.markersZIndex=s,a=!0);a||(e.markersZIndex=t);}else{for(var r=!1,l=n+1;!r&&l<n+30;l++)-1===o.default.indexOf(i.zIndexAdded,l)&&(e.markersZIndex=l,r=!0);r||(e.markersZIndex=n);}i.zIndexAdded.push(e.markersZIndex);});} },{ key:'_getZIndex',value:function(e){return o.default.isUndefined(e.markersZIndex)||o.default.isNull(e.markersZIndex)?null:e.markersZIndex;} },{ key:'_getMaxZIndex',value:function(e){let t=1;return o.default.each(e,function(e){!o.default.isUndefined(e.markersZIndex)&&!o.default.isNull(e.markersZIndex)&&t<e.markersZIndex&&(t=e.markersZIndex);}),t;} }]),e;}();t.default=p;},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let a=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),s=n(1),r=function(e){return e&&e.__esModule?e:{ default:e };}(s),o=function(){function e(){i(this,e);}return a(e,[{ key:'load',value:function(){let e=r.default.Deferred();return e.reject('Load function must be implented'),e;} }]),e;}();t.default=o;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(128),s=i(a),r=n(0),o=i(r),l=o.default.extend({},s.default);t.default=l;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(130),s=i(a),r=n(0),o=i(r),l=o.default.extend({},s.default);t.default=l;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(10),s=i(a),r=n(0),o=i(r),l=n(71),c=i(l);t.default=s.default.extend({ constructor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.featureId='RouteLayer',t.source={ id:'RouteLayer' },this.providedRoute=e,this.geoRoute=[],this.optRoute=[],this.styles=this._mergeStyles(t.routeStyles),this.routeModel=t.model,this.index=t.index,this.transitStops=t.transitStops,this.routeClickable=!!o.default.isUndefined(t.routeClickable)||t.routeClickable,this.routeHoverable=!!o.default.isUndefined(t.routeHoverable)||t.routeHoverable,'agencyStyle'!==this.styles.type&&('all'===this.styles.applyTo||t.index<this.styles.applyTo)?this.initialStyle='defaultStyle':this.initialStyle='basicStyle',this.styles.legend&&(this.legend=[]),s.default.prototype.constructor.call(this,t);},initialize:function(){this._createRoute();},_addElementToLegend:function(e,t){this.legend&&this.legend.push({ text:e,type:'Polyline',style:t });},getLegend:function(){return this.legend;},_mergeStyles:function(e){let t=e,n=this._defaultStyles();return o.default.each(n,function(i,a){o.default.isObject(i)?t[a]=o.default.extend({},n[a],e[a]):t[a]=o.default.isUndefined(e[a])?n[a]:e[a];}),t;},_defaultStyles:function(e){return{ type:'googleStyle',defaultStyle:{ WALKING:{ strokeOpacity:0,strokeWeight:0,icons:[{ icon:{ path:google.maps.SymbolPath.CIRCLE,fillColor:'#009afd',strokeColor:'#009afd',fillOpacity:1,strokeOpacity:1,scale:2,zIndex:20,iconClassLegend:'circle' },offset:'0',repeat:'10px' }],zIndex:20 },TRANSIT:{ strokeWeight:2,strokeColor:'#0000CC',icons:!1,zIndex:20 },DRIVING:{ strokeWeight:2,strokeColor:'#808080',icons:!1,zIndex:20 },BICYCLING:{ strokeWeight:2,strokeColor:'#808080',icons:!1,zIndex:20 },strokeWeight:2,strokeColor:'#808080',icons:!1,zIndex:20 },applyTo:1,basicStyle:{ strokeWeight:2,strokeColor:'#a0a0a0',strokeOpacity:.8,icons:!1,zIndex:10 },highlightStyle:{ strokeOpacity:1,strokeWeight:5,zIndex:40 },selectedStyle:{ strokeWeight:4,zIndex:30 },deselectClickingOut:!0,legend:!1 };},_createRoute:function(){let e=this,t=this.providedRoute.legs;this.providedRoute.transitStops=[],o.default.each(t,function(t){o.default.each(t.steps,function(t){e.optRoute.push(e._createOptStep(t)),e._handleAgencyOption(t),e.providedRoute.transitStops.push(t);});}),this.transitStops&&(this.transitStopsLayer=new c.default(this.providedRoute.transitStops,{ widget:this.widget })),this._createTransparentRoute();},_handleAgencyOption:function(e){let t=!!e.transit&&o.default.pluck(e.transit.line.agencies,'name'),n=this.styles.agencies||[];t&&n.length>0&&o.default.intersection(n,t).length>0&&this.routeModel.setAgency(t);},setLimitToAgencies:function(e){('agencyStyle'===this.styles.type&&'number'==typeof this.styles.applyTo&&e<this.styles.applyTo||'string'==typeof this.styles.applyTo||'agency'===this.styles.applyTo)&&(this.initialStyle='defaultStyle');},_createTransparentRoute:function(){this.transparentRoute=new google.maps.Polyline({ options:{ strokeOpacity:0,strokeWeight:15 },geodesic:!0,clickable:!0,path:this.providedRoute.overview_path }),this._bindListeners(this.transparentRoute);},getBounds:function(){for(var e=new google.maps.LatLngBounds,t=this.transparentRoute.getPath(),n=0;n<t.getLength();n++)e.extend(t.getAt(n));return e;},_createGeoStep:function(e,t){return new google.maps.Polyline({ path:e,options:t });},_createOptStep:function(e){let t={ defaultStyle:this._setStyleByType(e),basicStyle:this._normalizeOpt(this.styles.basicStyle),highlightStyle:this._normalizeOpt(this.styles.highlightStyle),selectedStyle:this._normalizeOpt(this.styles.selectedStyle) };return{ path:e.path,options:t };},_normalizeOpt:function(e){let t=this,n={ geodesic:!0,map:this.map };return o.default.each(e,function(e,i){t._isPolylineOption(i)&&(n[i]=e);}),n;},_isPolylineOption:function(e){return-1!==['clickable','draggable','editable','geodesic','icons','map','path','strokeColor','strokeOpacity','strokeWeight','visible','zIndex'].indexOf(e);},_setStyleByType:function(e){switch(this.styles.type){case'uniqueColors':return this._applyUniqueColors(e);case'agencyStyle':return this._applyAgencyStyle(e);case'googleStyle':return this._applyGoogleStyle(e);case'modesStyle':return this._applyModesStyle(e);}},_applyUniqueColors:function(e){this.styles.defaultStyle.strokeColor=this.styles.defaultStyle.colorsList[this.index];let t=this._normalizeOpt(this.styles.defaultStyle),n=this.widget.polyglot.t('legend.routeName')+' '+(this.index+1);return this._addElementToLegend(n,t),t;},_applyAgencyStyle:function(e){let t=this._normalizeOpt(this.styles.defaultStyle),n=this.routeModel.getAgency();return n&&this._addElementToLegend(n.toString(),t),t;},_applyModesStyle:function(e){let t=void 0,n=void 0;'TRANSIT'===e.travel_mode?(t=o.default.isUndefined(this.styles.defaultStyle[e.transit.line.vehicle.type])?this.styles.defaultStyle.TRANSIT:this.styles.defaultStyle[e.transit.line.vehicle.type],n=e.transit.line.vehicle.name):(t=this.styles.defaultStyle[e.travel_mode],n=e.travel_mode);let i=this._normalizeOpt(t);return this._addElementToLegend(n,i),i;},_applyGoogleStyle:function(e){let t=this.styles.defaultStyle[e.travel_mode],n=e.travel_mode;'TRANSIT'===e.travel_mode&&(t.strokeColor=e.transit.line.color||'#000',n=e.transit.line.agencies[0].name);let i=this._normalizeOpt(t);return this._addElementToLegend(n,i),i;},draw:function(){let e=void 0,t=void 0;for(e=0;e<this.optRoute.length;e++){let n=this._createGeoStep(this.optRoute[e].path,this.optRoute[e].options[this.initialStyle]);this.geoRoute.push(n),t=this.optRoute[e].options[this.initialStyle].zIndex;}this.transparentRoute.setOptions({ map:this.map,zIndex:t+999 }),this.routeModel.setStyle(this.initialStyle);},remove:function(){let e=void 0;for(e=0;e<this.geoRoute.length;e++)this.geoRoute[e].setMap(null);this.transparentRoute.setMap(null),google.maps.event.removeListener(this.clickOnMapListener),this.routeModel.off('change:selected'),this.routeModel.off('change:style'),this.transitStopsLayer&&this.transitStopsLayer.remove();},_bindListeners:function(e){let t=this;this.routeHoverable&&(google.maps.event.addListener(e,'mouseover',function(){t.routeModel.onHover();}),google.maps.event.addListener(e,'mouseout',function(){t.routeModel.onLeave();})),this.routeClickable&&google.maps.event.addListener(e,'click',function(){t.selectRoute();}),this.styles.deselectClickingOut&&(this.clickOnMapListener=google.maps.event.addListener(this.map,'click',function(){t.routeModel.isSelected()&&(t.mapClick=!0,t.deselectRoute());})),this.routeModel.on('change:selected',function(e){if(t.mapClick)return void(t.mapClick=!1);e.isSelected()?t.selectRoute():t.deselectRoute('basicStyle');},this.routeModel),this.routeModel.on('change:style',function(e){e.isSelected()||t._applyStyle(e.getStyle());}),this.routeModel.on('change:highlighted',function(e){e.isHovered()?t.highlightRoute():t.leaveRoute();});},_getStyleWithIcons:function(e){let t={};if(e){for(var n=[],i=0;i<e.length;i++){let a=e[i].icon.scale+1,s=o.default.extend({},e[i].icon,{ scale:a }),r=parseInt(e[i].repeat.split('px')[0])+2+'px',l=o.default.extend({},e[i],{ icon:s,repeat:r });n.push(l);}t={ strokeWeight:0,strokeOpacity:0,icons:n };}return t;},highlightRoute:function(){let e=this.routeModel.getStyle();this.routeModel.isSelected()||this._applyEventStyle('highlightStyle',e);},leaveRoute:function(){let e=this.routeModel.getStyle();this.routeModel.isSelected()||this._applyStyle(e);},selectRoute:function(){this._applyEventStyle('selectedStyle','defaultStyle'),this.routeModel.onSelect(),this.transitStopsLayer&&this.transitStopsLayer.activateSource();},deselectRoute:function(e){let t=e||this.routeModel.getStyle();this._applyStyle(t),this.routeModel.onDeselect(),this.transitStopsLayer&&this.transitStopsLayer.remove();},_applyStyle:function(e){let t=void 0;for(t=0;t<this.optRoute.length;t++){let n=this.optRoute[t].options[e];delete n.map,this.geoRoute[t].setOptions(n);}},_applyEventStyle:function(e,t){let n=void 0;for(n=0;n<this.optRoute.length;n++){let i=this.optRoute[n].options[t],a=this._getStyleWithIcons(i.icons),s=o.default.extend({},i,this.optRoute[n].options[e],a);delete s.map,this.geoRoute[n].setOptions(s);}} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(10),s=i(a),r=n(79),o=i(r),l=n(9);t.default=s.default.extend({ constructor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.featureId='TransitStopsLayer',t.source={ id:'TransitStopsLayer' },this.providedTransitStops=e,s.default.prototype.constructor.call(this,t);},initialize:function(){this.transitStopsMarkers=[];for(let e=0;e<this.providedTransitStops.length;e++){let t=void 0,n=void 0,i=this.providedTransitStops[e-1],a=this.providedTransitStops[e],s=this.providedTransitStops[e+1];a.transit&&i&&!i.transit&&s&&!s.transit?(t=this._getStopInfo(a.transit,'departure'),this.transitStopsMarkers.push(this._addMarkerStop(t)),n=this._getStopInfo(a.transit,'arrival'),this.transitStopsMarkers.push(this._addMarkerStop(n))):a.transit&&i&&!i.transit&&s&&s.transit?(t=this._getStopInfo(a.transit,'departure'),this.transitStopsMarkers.push(this._addMarkerStop(t)),n=this._getStopInfo(a.transit,'stop',s.transit),this.transitStopsMarkers.push(this._addMarkerStop(n))):a.transit&&i&&i.transit&&(n=this._getStopInfo(a.transit,'arrival'),this.transitStopsMarkers.push(this._addMarkerStop(n)));}},activateSource:function(){for(let e=0;e<this.transitStopsMarkers.length;e++)this.transitStopsMarkers[e].setMap(this.widget.map);},remove:function(){if(this.transitStopsMarkers.length>0){this.widget.eventBus.bus.trigger('CLOSE_INFOWINDOW');for(let e=0;e<this.transitStopsMarkers.length;e++)this.transitStopsMarkers[e].setMap(null);}},_clickHandlerFunction:function(e,t){return function(n){n.stopPropagation(),n.preventDefault(),t._clickHandler(e,this);};},_clickHandler:function(e,t){let n=new o.default(e);this.widget.eventBus.bus.trigger('OPEN_INFOWINDOW',t,this.widget.map,n.$el.html());},_getStopInfo:function(e,t,n){let i={ type:t,stopName:'departure'===t?e.departure_stop.name:e.arrival_stop.name,departureTime:'departure'===t?e.departure_time:'arrival'!==t&&n.departure_time,arrivalTime:'arrival'===t?e.arrival_time:'departure'!==t&&e.arrival_time,headsign:'departure'===t?e.headsign:'arrival'!==t&&n.headsign,line:'departure'===t?e.line:'arrival'!==t&&n.line,totalStops:'departure'===t?e.num_stops:'arrival'!==t&&n.num_stops,location:'departure'===t?e.departure_stop.location:e.arrival_stop.location };if(i.departureTime){let a=this._getTimeOffset(i.departureTime.value,i.departureTime.text);i.departureTime=this._normalizeTime(this._getTimeInLocalGMT(i.departureTime.value,a));}if(i.arrivalTime){let s=this._getTimeOffset(i.arrivalTime.value,i.arrivalTime.text);i.arrivalTime=this._normalizeTime(this._getTimeInLocalGMT(i.arrivalTime.value,s));}return i;},_getTimeOffset:function(e,t){let n=parseInt(t.split(':')[0]);return'pm'===t.split(':')[1].substring(2,4)&&12!==n&&24===(n+=12)&&(n=0),60*(n-e.getHours());},_getTimeInLocalGMT:function(e,t){let n=e.valueOf()+6e4*t;return new Date(n);},_normalizeTime:function(e){return e.getHours()+':'+(e.getMinutes()<10?'0'+e.getMinutes():e.getMinutes());},_addMarkerStop:function(e){let t=new l.RichMarker({ shadow:'none',content:'<div class="snw-marker-transit-stop '+e.type+'"></div>',position:e.location,zIndex:10 });return google.maps.event.addListener(t,'click',this._clickHandlerFunction(e,this)),t;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){for(let n=t.getClusters(),i=0;i<n.length;i++){if(-1!==n[i].getMarkers().indexOf(e))return n[i].getMarkers().length>2&&n[i];}return!1;}function r(e,t){let n=e.provider;return d.default.isUndefined(_.default[n])?null:new _.default[n](t.map,e,t.api,t.eventBus);}function o(e){return Array.isArray(e)&&(e={ x:e[0],y:e[1] }),e;}Object.defineProperty(t,'__esModule',{ value:!0 });var l='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},c=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),u=n(0),d=i(u),p=n(4),h=i(p),f=n(10),m=i(f),y=n(26),g=n(77),v=i(g),w=n(68),_=i(w),b=n(9),C=n(1),S=i(C),k=function(){function e(){a(this,e);}return c(e,null,[{ key:'heatmapConf',get:function(){return{ radius:22,dissipating:!0,opacity:.5,gradient:['rgba(0, 255, 255, 0)','rgba(87,140,255,1)','rgba(87,140,255,1)','rgba(87,140,255,1)','rgba(175,255,153,1)','rgba(175,255,153,1)','rgba(175,255,153,1)','rgba(175,255,153,1)','rgba(175,255,153,1)','rgba(225,248,158,1)','rgba(225,248,158,1)','rgba(225,248,158,1)','rgba(225,248,158,1)','rgba(255,129,110,1)'] };} }]),e;}();t.default=m.default.extend({ constructor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source.params,n=e.widget;if(d.default.isUndefined(e.featureId))throw new Error('The featureId property must be provided');e.provider=r(e,n),this.map=n.map,this.handleLayers=n.handleLayers,this.markers=[],this.features=[],this.searchDelay=e.source.searchDelay||500,this.preFilters=e.source.preFilters||[],this.postFilters=e.source.postFilters||[],this.notify=e.source.notify||!1,this.richmarkerClassDefault=t.richmarkerClassDefault,this.richmarkerByUrl=t.richmarkerUrl,this.propertyType=t.propertyType||null,this.markerByType=this.propertyType?t.markerByType:null,this.markersZIndex=t.markersZIndex,this.deselectMarkerClick=t.deselectMarkerClick||!1,this.markersClickable=!!d.default.isUndefined(t.markersClickable)||t.markersClickable,this.markersSelectable=!!d.default.isUndefined(t.markersSelectable)||t.markersSelectable,this.searchOnce=!d.default.isUndefined(t.searchOnce)&&t.searchOnce,this.searchOnActivation=!!d.default.isUndefined(t.searchOnActivation)||t.searchOnActivation,this.heatmapLayer=!!t.heatmap,this._allowSearch=!0,this._searchActive=!0,this.heatmap=this.heatmapLayer?new google.maps.visualization.HeatmapLayer(k.heatmapConf):null,this.ready=null,this.hideSelectedMarker=!d.default.isUndefined(t.hideSelectedMarker)&&t.hideSelectedMarker,this.currentSelectedMarker=null,this.requiredCluster=!!t.cluster,this.requiredCluster&&(this.cluster=this._getCluster(t)),m.default.prototype.constructor.call(this,e);},initialize:function(e){this._setConfig(),m.default.prototype.initialize.call(this,e),this.markerOpt=this._getMarkerOpt(),this.listenTo(this.widget.eventBus.bus,'UNSELECT_MARKER',this.unselectMarkerHandler);},unselectMarkerHandler:function(e){e.id===this.id&&this._deleteSelectedMarker();},_setConfig:function(){},activateSource:function(){let e=this;this.isOnMap||((this.preFilters.length>0||this.postFilters.length>0)&&this.widget.eventBus.bus.on(y.EventNames.FILTERS_CHANGED,this._processMarkers,this),this.heatmapLayer?this._activateHeatmap():this.markers.length>0&&this._processMarkers(this.markers),null===this.ready?this._onReady():this.ready.then(function(){return e._onReady();}),this.isOnMap=!0);},remove:function(){this.beforeRemove(),this.widget.eventBus.bus.off(y.EventNames.FILTERS_CHANGED,this._processMarkers,this),this._searchActive=!1,this.heatmapLayer?this.heatmap.setMap(null):(this.requiredCluster?this.cluster.removeMarkers(this.markers):this._hideMarkers(this.markers),this.currentSelectedMarker&&(this.currentSelectedMarker.setMap(null),this.currentSelectedMarker=null),this.searchOnce||(google.maps.event.removeListener(this.event),this.markers=[],this.features=[])),this.isOnMap=!1,this.widget.eventBus.bus.trigger('UPDATED_MARKERS',this);},removePoint:function(e){let t=this,n=d.default.findIndex(this.features,function(n){return n.properties[t.featureId].toString()===e.toString();}),i=d.default.findIndex(this.markers,function(n){return n.properties[t.featureId].toString()===e.toString();});this.currentSelectedMarker&&this.currentSelectedMarker.id===this.markers[i].id&&(this.currentSelectedMarker.setMap(null),this.currentSelectedMarker=null),this.markers[i].setMap(null),this.features.splice(n,1),this.markers.splice(i,1),this.notify&&this._notify('featuresChanged',this.features),this.widget.eventBus.bus.trigger('UPDATED_MARKERS',this);},_getRichMarker:function(e,t,n){let i=void 0,a=e.properties[this.featureId],s=e.properties[this.propertyType];return i=!n&&s&&this.markerByType[s]?this._getRichMarkerContent(this.markerByType[s].defaultClass,a):n?this._getRichMarkerContent('snw-geo-marker',e.properties[this.featureId],this.markerOpt.icon.url):this._getRichMarkerContent(this.richmarkerClassDefault,a),new b.RichMarker(d.default.extend({ id:a,shadow:'none',content:i,position:t,zIndex:this.markersZIndex,properties:e.properties },this.markerOpt));},_getMarkersFromFeatures:function(e){let t=this,n=[],i=void 0,a=void 0;return e.forEach(function(e){let s=new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]);!t.richmarkerByUrl&&t.richmarkerClassDefault?(a=!0,i=t._getRichMarker(e,s,t.richmarkerByUrl)):t.richmarkerByUrl?(a=!1,i=t._getRichMarker(e,s,t.richmarkerByUrl)):i=t._setMarkerByType(e,t.markerOpt.icon),t._registryMarkerListener(i),n.push(i),t.markerOpt.clickable&&t._addClickListener(i,e);}),n;},_setMarkerByType:function(e,t,n){let i=null,a=void 0,s='selectedUrl'===n||'hoverUrl'===n?9999:this.markersZIndex?this.markersZIndex:1;return i=e.properties[this.params.propertyType]?this._getMarkerIconByType(e.properties[this.params.propertyType],n):this._getDefaultIcon(t,n),i.anchor=o(i.anchor),a=this._getMarkerFromId(e.id),d.default.isNull(a)&&(a=new google.maps.Marker(d.default.extend({ id:e.properties[this.featureId]||e.id,position:{ lat:e.position?e.position.lat():e.geometry.coordinates[1],lng:e.position?e.position.lng():e.geometry.coordinates[0] },properties:e.properties,anchor:o(this.markerOpt.anchor) },this.markerOpt))),a.setZIndex(s),a.setIcon(i),a;},_getDefaultIcon:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'url';return this.params.iconMarker.anchor&&(e.anchor=this.params.iconMarker.anchor),'url'===t&&(e.url=h.default.getImgUrl(this.params.iconMarker.url,this.widget),this.params.iconMarker.defaultSize&&(e.scaledSize=this.params.iconMarker.defaultSize),this.params.iconMarker.defaultAnchor&&(e.anchor=this.params.iconMarker.defaultAnchor)),'selectedUrl'===t&&(e.url=h.default.getImgUrl(this.params.iconMarker.selectedUrl,this.widget),this.params.iconMarker.selectedSize&&(e.scaledSize=this.params.iconMarker.selectedSize),this.params.iconMarker.selectedAnchor&&(e.anchor=this.params.iconMarker.selectedAnchor)),e;},_getMarkerIconByType:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'url',n=!1;this.params.markerByType&&d.default.isObject(this.params.markerByType[e])&&d.default.isString(this.params.markerByType[e][t])&&(n=this.params.markerByType[e][t]),d.default.isString(n)&&(n=h.default.getImgUrl(n,this.widget)),n||(n=this._getMarkerIcon(t));let i=this._getMarkerSizeByType(e,t);return{ url:n,size:i,scaledSize:i };},_getMarkerSizeByType:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'url',n=void 0;switch(t){case'hoverUrl':n='hoverSize';break;case'selectedUrl':n='scaledSize';break;default:n='size';}let i=!1;return this.params.markerByType&&d.default.isObject(this.params.markerByType[e])&&d.default.isObject(this.params.markerByType[e][n])?i=this.params.markerByType[e][n]:this.params.iconMarker&&this.params.iconMarker[n]&&(i=this.params.iconMarker[n]),i||(i=this._getMarkerSize(t)),i;},_getMarkerSize:function(e){let t=!1;return d.default.isObject(this.params.iconMarker)&&d.default.isObject(this.params.iconMarker[e])&&(t=new google.maps.Size(this.params.iconMarker[e].width,this.params.iconMarker[e].height)),t;},_registryMarkerListener:function(e){let t=this;google.maps.event.addListener(e,'mouseover',function(n){t._onMouseOver(e,n);}),google.maps.event.addListener(e,'mouseout',function(n){t._onMouseOut(e,n);}),this.deselectMarkerClick&&this._addClickListener(e);},_onMouseOver:function(e,t){this.notify&&(this._notify('hovermarker',{ id:e.id,layer:this.id }),this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'HoverOnMarker',id:e.id,layer:this.id })),e.selected||this.highlightMarker(e.id,'hover');},_onMouseOut:function(e,t){this.notify&&this._notify('leavemarker',{ id:e.id,layer:this.id }),e.selected||this.highlightMarker(e.id,'default');},_notify:function(e,t){let n={ type:e,object:t };this.widget.api.notify(n);},_getMarkerOpt:function(){let e={ optimized:!this.widget.config.debugEnabled,clickable:this.markersClickable,selectable:this.markersSelectable };return'object'===l(this.params.markerOpt)&&d.default.extend(e,this.params.markerOpt),this._getMarkerIcon()&&(e.icon={ url:this._getMarkerIcon() }),e;},_getMarkerIcon:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'url',t=!1;return d.default.isObject(this.params.iconMarker)&&d.default.isString(this.params.iconMarker[e])&&(t=this.params.iconMarker[e]),d.default.isString(t)&&(t=h.default.getImgUrl(t,this.widget)),t;},_onReady:function(){let e=this,t=!0;this._searchActive&&this.searchOnActivation&&this._doSearch(),this._allowSearch=!this.searchOnce,this._searchActive=!0,this.event=google.maps.event.addListener(this.map,'idle',function(){e._searchActive&&e._allowSearch&&!t&&e._doSearch(),t=!1;}),this.event=google.maps.event.addListener(this.map,'zoom_changed',function(){e._searchActive&&e._allowSearch||!(e.postFilters.length>0)||setTimeout(function(){e.isAvailableZoom()&&e._processMarkers();},250);});},_doSearch:function(e){let t=this;this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t._timeout=null,t.isAvailableZoom()&&t.provider?t.provider.load(e).then(function(e){t.widget.bus.trigger('LAYER_LOADED',t,e.features),t._searchActive&&(t.beforeProcessResultSearch(),t._processResultSearch(e),t.afterProcessResultSearch());}):d.default.isNull(t.provider)&&t.widget.eventBus.bus.trigger('BBOX_CHANGED',t.map.getBounds(),t);},this.searchDelay);},beforeProcessResultSearch:function(){},afterProcessResultSearch:function(){},afterClickOnMarker:function(){},beforeRemove:function(){},_processResultSearch:function(e){if(e.features.length){let t=this._addResults(e.features);if(this.heatmapLayer)this._activateHeatmap();else{let n=this._getMarkersFromFeatures(t);this._processMarkers(n);}}},_activateHeatmap:function(){let e=h.default.convertFeaturesToLatLng(this.features);this.heatmap.setData(e),this.heatmap.setMap(this.map);},_deactivateHeatmap:function(){this.heatmap.setMap(null);},_addResults:function(e){let t=this,n=this.featureId,i=[];return e.forEach(function(e){t.features.some(function(t){return e.properties[n]===t.properties[n];})||(t.features.push(e),i.push(e));},this),i;},_processPreFilters:function(e){for(var t=this,n=S.default.Deferred(),i=[],a=[],s=[],r=0;r<this.preFilters.length;r++)i.push(this.widget.filterManager.applyFilter(this.preFilters[r],e));return S.default.when.apply(S.default,i).then(function(i){s=i?i.invisibleMarkers:[],a=i?i.visibleMarkers:e,t.requiredCluster?t.cluster.removeMarkers(s):s.forEach(function(e){e.setVisible(!1);},t),n.resolve(a);}),n;},_processPostFilters:function(e){for(var t=this,n=[],i=[],a=0;a<this.postFilters.length;a++)n.push(this.widget.filterManager.applyFilter(this.postFilters[a],e));S.default.when.apply(S.default,n).then(function(e){if(!d.default.isUndefined(e)&&null!==e){if(i=i.concat(t.applyVisibility(e)),null!==t.currentSelectedMarker){for(var n=!1,a=0;a<i.length;a++)if(i[a].id===t.currentSelectedMarker.id){n=!0;break;}n||i.push(t.currentSelectedMarker);}t.notify&&t._notify('search',{ features:i,layer:t.id });}});},_processMarkers:function(e){let t=this;this._processPreFilters(e).then(function(n){if(t.isAvailableZoom()){let i=t._drawMarkers(n);t._processPostFilters(i),t.markers=t.markers.concat(e),t.widget.eventBus.bus.trigger('UPDATED_MARKERS',t);}});},_drawMarkers:function(e){let t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],a=[],s=this.requiredCluster&&this.params.cluster.maxZoom>=this.widget.map.getZoom();if(!s)return this._showMarkers(e),e;n&&this.cluster.clearMarkers();let r=[];if(e.forEach(function(e){-1===t.cluster.markers_.indexOf(e)&&(null===t.currentSelectedMarker||null!==t.currentSelectedMarker&&t.currentSelectedMarker.id!==e.id)&&r.push(e);}),this.cluster.addMarkers(r),this.cluster.clusters_.length>0){let o=e;return s&&(o=this.cluster.clusters_),o;}S.default.when.apply(S.default,a).then(function(e){if(!d.default.isUndefined(e)&&null!==e){if(i=i.concat(t.applyVisibility(e)),null!==t.currentSelectedMarker){for(var n=!1,a=0;a<i.length;a++)if(i[a].id===t.currentSelectedMarker.id){n=!0;break;}n||i.push(t.currentSelectedMarker);}t.notify&&t._notify('search',{ features:i,layer:t.id });}});},_showMarkers:function(e){let t=this;e.forEach(function(e){e.setMap(t.map),e.setVisible(!0);});},_hideMarkers:function(e){this.markers.forEach(function(e){return e.setMap(null);});},applyVisibility:function(e){for(let t=0;t<this.postFilters.length;t++)e=this.widget.filterManager.applyVisibility(this.postFilters[t],e);return e;},_getCluster:function(e){let t=d.default.isObject(e.cluster)?e.cluster:{};return t.identifier?this.handleLayers.clusters[t.identifier]?this.handleLayers.clusters[t.identifier]:this.handleLayers.clusters[t.identifier]=new v.default(this.map,[],t):new v.default(this.map,[],t);},_getPolygonsFilter:function(e){let t=this.widget.filterManager.filters,n=[];if(d.default.isObject(t[e])&&!d.default.isEmpty(t[e])){let i=d.default.isArray(t[e])?t[e]:[t[e]];n=n.concat(n,i);}return n;},_addClickListener:function(e){let t=this;e.listener&&(e.listener.remove(),e.listener=null);let n=this;e.listener=google.maps.event.addListener(e,'click',function(i){if(i&&i.stopPropagation&&i.stopPropagation(),t.deselectMarkerClick&&t.currentSelectedMarker&&t.currentSelectedMarker.id===e.id)return t.widget.eventBus.bus.trigger('CLICK_ON_MARKER_SELECTED',e,t,i),void(t.markersSelectable&&t._deleteSelectedMarker());t.notify&&t._notify('clickonmarker',{ id:e.id,layer:n.id }),t.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'ClickOnMarker',id:e.id,layer:n.id }),t.widget.eventBus.bus.trigger('SET_MARKER_SELECTED',e,n),t.widget.eventBus.bus.trigger('CLICK_ON_MARKER',e,n,i),t.afterClickOnMarker(i,e),t.markersSelectable&&t.hideSelectedMarker&&e.setMap(null),t.markerOpt.selectable&&(e.selected=!0,t.selectMarker(e.id),t.searchOnActivation&&!t.searchOnce&&n._doSearch());});},_createSelectedMarker:function(e){this.params.iconMarker?this.currentSelectedMarker=this._setMarkerByType(e,this.markerOpt.icon,'selectedUrl'):this.currentSelectedMarker=this._setRichMarkerSelected(e),this.currentSelectedMarker.setMap(this.map),d.default.isUndefined(e.infowindow)||(this.currentSelectedMarker.infowindow=e.infowindow),this._registryMarkerListener(this.currentSelectedMarker);},_setRichMarkerSelected:function(e){let t=this._getMarkerIcon('selectedUrl'),n=this.markerByType&&this.markerByType[e.properties[this.propertyType]]?this.markerByType[e.properties[this.propertyType]].defaultClass+' snw-marker-selected':'snw-marker-selected',i=this._getRichMarkerContent(n,e.id,t,!0);return new b.RichMarker(d.default.extend({ id:e.id,shadow:'none',content:i,selected:!0,properties:e.properties,position:e.getPosition(),zIndex:9999 },this.markerOpt));},_deleteSelectedMarker:function(){if(null!==this.currentSelectedMarker){let e=this._getMarkerFromId(this.currentSelectedMarker.id);d.default.isUndefined(e)||null===e||(e.selected=!1,this.highlightMarker(e.id,'default')),this.currentSelectedMarker.setMap(null),this.currentSelectedMarker=null,e&&(e.setMap(this.map),this.markerOpt.clickable&&this._addClickListener(e));}},_getRichMarkerContent:function(e,t,n,i){let a=void 0;return a=i?'<div class="'+e+'">':'<div class="'+e+'" id="'+t+'">',a+=n?'<img src="'+n+'"></div>':'</div>';},selectMarker:function(e){if(!this.currentSelectedMarker||this.currentSelectedMarker.id!==e){let t=this._getMarkerFromId(e);null!==t&&(t.selected=!0,this._deleteSelectedMarker(),this._createSelectedMarker(t),this.searchOnActivation&&!this.searchOnce&&this._doSearch());}},highlightMarker:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'default',n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=void 0;switch(t){case'hover':i='hoverUrl';break;case'selected':i='selectedUrl';break;case'default':default:i='url';}let a=d.default.filter(this.markers,function(t){return t.id===e;});if(d.default.isArray(a)&&(a=a[0]))if(this.requiredCluster&&n){let r=void 0;switch(t){case'hover':r='hoverStyles';break;case'default':default:r='styles';}let o=s(a,this.cluster);if(o){let l=o.clusterIcon_,c=l.sums_;if(c){let u=this.params.cluster[r]||this.params.cluster.styles;l.styles_=u,l.useStyle(c),l.hide(),l.show();}else{let p=this._getMarkerIcon(i);a.setOptions({ icon:p });}}else{let h=this._getMarkerIcon(i);this.richmarkerByUrl?this._setRichMarkerContent(a,h):this.params.propertyType?(h=this._getMarkerIconByType(a.properties[this.params.propertyType],i),a.setOptions({ icon:h })):a.setOptions({ icon:d.default.extend(a.getIcon(),{ url:h,size:this.params.iconMarker.defaultSize||a.size,scaledSize:this.params.iconMarker.defaultSize||a.scaledSize }) });}}else{let f=null;if(this.params.propertyType)f=this._getMarkerIconByType(a.properties[this.params.propertyType],i);else if(this.richmarkerClassDefault)this._getMarkerIcon(i);else{f=this._getDefaultIcon(this.markerOpt.icon,i);let m='selectedUrl'===i||'hoverUrl'===i?9999:this.markersZIndex?this.markersZIndex:1;a.setZIndex(m);}a.setOptions({ icon:f });}},_setRichMarkerContent:function(e,t){d.default.isUndefined(e)||(0,S.default)(e.getContent()).find('img').attr('src',t);},_getMarkerFromId:function(e){for(var t=null,n=0;n<this.markers.length;n++)if(this.markers[n].id===e){t=this.markers[n];break;}return t;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},s=n(0),r=i(s),o=n(25),l=i(o),c=l.default.extend({ setQuery:function(e){let t={};if('string'==typeof e){if(''!==e)for(let n=e.split('&'),i=0;i<n.length;i++){let s=n[i].split('=');t[s[0]]=s[1];}}else{if('object'!==(void 0===e?'undefined':a(e)))throw new Error('APILayerModel: Unsupported query format');t=e;}let o=this.getQuery();o||(o={}),this.set('query',r.default.extend(o,t)),this.trigger('change:query',this,this.getQuery());},getQuery:function(){let e=this.get('query');return e&&Object.keys(e).forEach(function(t){''===e[t]&&delete e[t];}),e;} });t.default=c;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(18),o=i(r);t.default=s.default.Collection.extend({ model:o.default,initialize:function(){},selectModel:function(e){this.each(function(t){t!==e?(t.onDeselect(),t.setStyle('basicStyle')):t.setStyle('defaultStyle');});},add:function(e){s.default.Collection.prototype.add.call(this,e);} });},function(e,t,n){'use strict';let i,a,s;!function(r,o){a=[n(3)],i=o,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(0,function(e){return e.Model.mix=e.Collection.mix=e.Router.mix=e.View.mix=e.History.mix=function(e){let t=this;for(let n in e)e.hasOwnProperty(n)&&(t.prototype[n]=e[n]);return t;},e;});},function(e,t,n){'use strict';let i,a,s,r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;};!function(o){if('object'===r(t)){let l=void 0;try{l=n(1);}catch(e){}e.exports=o(l);}else a=[n(1)],i=o,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e,t){function n(e){let t,n,i;return e||(e=t=document.createElement('body'),t.style.cssText='font-size:1em'+v,document.documentElement.insertBefore(t,document.body)),n=document.createElement('i'),n.style.cssText=w,e.appendChild(n),i=n.clientWidth,t?document.documentElement.removeChild(t):e.removeChild(n),i;}function i(){document.styleSheets[0]&&(g=void 0!==document.styleSheets[0].cssRules?'cssRules':'rules');}function a(e,t,n,i,a){if(''!==(e=u(e))){let s;i||a||null!==(s=/^([0-9]*.?[0-9]+)(px|em)$/.exec(n))&&(i=Number(s[1]))+''!='NaN'&&(a=s[2]),a&&(m.compile&&m.compile(e),void 0===y[e]&&(y[e]={}),void 0===y[e][t]&&(y[e][t]={}),y[e][t][n]=[i,a]);}}function s(){let e,t,i,a,s,r,o;for(e in y)if(s=m(e),s.length>0)for(t=0;t<s.length;t++){r=s[t];for(i in y[e])for(a in y[e][i])o=y[e][i][a][0],'em'===y[e][i][a][1]&&(o*=window.getEmPixels?n(r):16),'min-width'===i&&r.offsetWidth>=o||'max-width'===i&&r.offsetWidth<=o||'min-height'===i&&r.offsetHeight>=o||'max-height'===i&&r.offsetHeight<=o?p(r,i,a):h(r,i,a);}if(!window.addEventListener&&window.attachEvent){let l=document.documentElement.className;document.documentElement.className=' '+l,document.documentElement.className=l;}}function o(e,t){let n,i,o;for(n in e)for(i in e[n])if('string'==typeof e[n][i])a(n,i,e[n][i]);else if('object'===r(e[n][i]))for(o=0;o<e[n][i].length;o++)a(n,i,e[n][i][o]);!0===t&&s();}function l(e){if(e){let t,n,i,s,r,o,l,c,u=/(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\')([0-9]*.?[0-9]+)(px|em)(\'|\')\])(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\')([0-9]*.?[0-9]+)(px|em)(\'|\')\])?/gi,d=e.split(',');for(t=0;t<d.length;t++)for(n=null,r=0,o=0;0===o||null!==i;)i=u.exec(d[t]),null!==i&&(s=Number(i[4]),s+''!='NaN'&&(null===n&&(n=d[t].substring(r,i.index),l=d[t].substring(i.index+i[1].length),l.length>0&&0!==(c=l.indexOf(' '))&&(c>0&&(l=l.substring(0,c)),l=l.replace(/(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\')([0-9]*.?[0-9]+)(px|em)(\'|\')\])/gi,''),n+=l)),a(n,i[2],i[4]+i[5],s,i[5])),void 0===i[7]||''===i[7]?(r=i.index+i[1].length,n=null):u.lastIndex=i.index+i[1].length),o++;}}function c(e,t){if(null===g&&i(),e[g]&&e[g].length>0){let n=e.ownerNode||e.owningElement;if(t||null===n.getAttribute('data-elementquery-bypass')&&null===n.getAttribute('data-elementquery-processed')){let a,s,r;for(a=0;a<e[g].length;a++)if(r=e[g][a],r[g]&&r[g].length>0)for(s=0;s<r[g].length;s++)l(r[g][s].selectorText);else l(r.selectorText);n.setAttribute('data-elementquery-processed','');}}}function u(e){if(null===e)return'';let t=''.trim;return t&&!t.call('\ufeff')?t.call(e):(e+'').replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');}function d(e,t){let n=e.getAttribute(t);return n?(' '+n+' ').replace(/[\t\r\n]/g,' '):' ';}function p(e,t,n){if(1===e.nodeType){let i=u(n);if(''!==i){let a=d(e,t);a.indexOf(' '+i+' ')<0&&e.setAttribute(t,u(a+i));}}}function h(e,t,n){if(1===e.nodeType){let i=u(n);if(''!==i){for(var a=d(e,t),s=!1;a.indexOf(' '+i+' ')>=0;)a=a.replace(' '+i+' ',' '),s=!0;s&&e.setAttribute(t,u(a));}}}function f(){let e;for(e=0;e<document.styleSheets.length;e++)c(document.styleSheets[e]);s();}var m=window.Sizzle||e.find,y={},g=null,v='!important;',w='position:absolute'+v+'visibility:hidden'+v+'width:1em'+v+'font-size:1em'+v+'padding:0'+v,_=function(e,t){e&&'object'===(void 0===e?'undefined':r(e))?e.cssRules||e.rules?(c(e,!0),!0===t&&s()):o(e,t):e||t||s();};if(_.selectors=function(){let e,t,n,i={};for(e in y)for(t in y[e])for(n in y[e][t])void 0===i[e]&&(i[e]={}),void 0===i[e][t]&&(i[e][t]=[]),i[e][t][i[e][t].length]=n;return i;},window.addEventListener?(window.addEventListener('resize',s,!1),window.addEventListener('DOMContentLoaded',f,!1),window.addEventListener('load',f,!1)):window.attachEvent&&(window.attachEvent('onresize',s),window.attachEvent('onload',f)),t!==window)return _;window.elementQuery=_;});},function(e,t,n){'use strict';let i,a,s,r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;};!function(n){'object'===r(t)?e.exports=n():(a=[],i=n,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s));}(function(e){function t(e,n){e.getMarkerClusterer().extend(t,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=n,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap());}function n(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.hideLabel_=e.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new t(this,e.getStyles());}function i(e,t,n){this.extend(i,google.maps.OverlayView),t=t||[],n=n||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.title_=n.title||'',this.redrawOnIdle=void 0===n.redrawOnIdle||n.redrawOnIdle,this.zoomOnClick_=!0,void 0!==n.zoomOnClick&&(this.zoomOnClick_=n.zoomOnClick),void 0!==n.minMarkersZoom&&(this.minMarkersZoom_=n.minMarkersZoom),this.averageCenter_=!1,void 0!==n.averageCenter&&(this.averageCenter_=n.averageCenter),this.ignoreHidden_=!1,void 0!==n.ignoreHidden&&(this.ignoreHidden_=n.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==n.enableRetinaIcons&&(this.enableRetinaIcons_=n.enableRetinaIcons),this.hideLabel_=!1,void 0!==n.hideLabel&&(this.hideLabel_=n.hideLabel),this.imagePath_=n.imagePath||i.IMAGE_PATH,this.imageExtension_=n.imageExtension||i.IMAGE_EXTENSION,this.imageSizes_=n.imageSizes||i.IMAGE_SIZES,this.calculator_=n.calculator||i.CALCULATOR,this.batchSize_=n.batchSize||i.BATCH_SIZE,this.batchSizeIE_=n.batchSizeIE||i.BATCH_SIZE_IE,this.clusterClass_=n.clusterClass||'cluster',this.dataLayer_=n.dataLayer||null,-1!==navigator.userAgent.toLowerCase().indexOf('msie')&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e);}if(t.prototype.onAdd=function(){let e,t,n=this;this.div_=document.createElement('div'),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),'bounds_changed',function(){t=e;}),google.maps.event.addDomListener(this.div_,'mousedown',function(){e=!0,t=!1;}),google.maps.event.addDomListener(this.div_,'click',function(i){if(e=!1,!t){let a,s,r=n.cluster_.getMarkerClusterer(),o=r.getMap();if(google.maps.event.trigger(r,'click',n.cluster_),google.maps.event.trigger(r,'clusterclick',n.cluster_),r.getZoomOnClick()){s=r.getMaxZoom();let l=o.getZoom();n.cluster_.markers_.length>r.minMarkersZoom_?(o.setCenter(n.cluster_.getCenter()),o.setZoom(l+3)):(a=n.cluster_.getBounds(),r.getMap().fitBounds(a),o.getZoom()<=l&&o.setZoom(l+3));let c=o.getCenter();o.setCenter(new google.maps.LatLng(c.lat()+1e-7,c.lng())),n.cluster_.markers_&&n.cluster_.markers_.length<=r.minMarkersZoom_&&setTimeout(function(){r.getMap().fitBounds(a),null!==s&&r.getMap().getZoom()>s&&r.getMap().setZoom(s+1);},100);}i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation();}}),google.maps.event.addDomListener(this.div_,'mouseover',function(){let e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,'mouseover',n.cluster_);}),google.maps.event.addDomListener(this.div_,'mouseout',function(){let e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,'mouseout',n.cluster_);});},t.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null);},t.prototype.draw=function(){if(this.visible_){let e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+'px',this.div_.style.left=e.x+'px';}},t.prototype.hide=function(){this.div_&&(this.div_.style.display='none'),this.visible_=!1;},t.prototype.show=function(){if(this.div_){let e='',t='';if(this.url_){let n=this.backgroundPosition_.split(' '),i=parseInt(n[0].trim(),10),a=parseInt(n[1].trim(),10);e='<img src=\''+this.url_+'\' style=\'position: absolute; top: '+a+'px; left: '+i+'px; ',this.cluster_.getMarkerClusterer().enableRetinaIcons_?e+='width: '+this.width_+'px;height: '+this.height_+'px;':e+='clip: rect('+-1*a+'px, '+(-1*i+this.width_)+'px, '+(-1*a+this.height_)+'px, '+-1*i+'px);',e+='\'>';}else t='background-color:'+this.backgroundColor_+';border-radius: 50%;',this.shadow_&&(t+='-webkit-box-shadow: 8px 5px 8px -3px rgba(43, 43, 43, 0.75);-moz-box-shadow: 8px 5px 8px -3px rgba(43, 43, 43, 0.75);box-shadow: 8px 5px 8px -3px rgba(43, 43, 43, 0.75);');let s=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(s),this.div_.innerHTML=e+'<div style=\'position: absolute;top: '+this.anchorText_[0]+'px;left: '+this.anchorText_[1]+'px;color: '+this.textColor_+';font-size: '+this.textSize_+'px;font-family: '+this.fontFamily_+';font-weight: '+this.fontWeight_+';font-style: '+this.fontStyle_+';text-decoration: '+this.textDecoration_+';text-align: center;width: '+this.width_+'px;line-height:'+this.height_+'px;'+t+'\'>'+(this.cluster_.hideLabel_?' ':this.sums_.text)+'</div>',void 0===this.sums_.title||''===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display='';}this.visible_=!0;},t.prototype.useStyle=function(e){this.sums_=e;let t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);let n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||'black',this.shadow_=void 0===n.shadow||n.shadow,this.backgroundColor_=n.backgroundColor||'blue',this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||'none',this.fontWeight_=n.fontWeight||'bold',this.fontStyle_=n.fontStyle||'normal',this.fontFamily_=n.fontFamily||'Arial,sans-serif',this.backgroundPosition_=n.backgroundPosition||'0 0';},t.prototype.setCenter=function(e){this.center_=e;},t.prototype.createCss=function(e){let t=[];return t.push('cursor: pointer;'),t.push('position: absolute; top: '+e.y+'px; left: '+e.x+'px;'),t.push('width: '+this.width_+'px; height: '+this.height_+'px;'),t.join('');},t.prototype.getPosFromLatLng_=function(e){let t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t;},n.prototype.getSize=function(){return this.markers_.length;},n.prototype.getMarkers=function(){return this.markers_;},n.prototype.getCenter=function(){return this.center_;},n.prototype.getMap=function(){return this.map_;},n.prototype.getMarkerClusterer=function(){return this.markerClusterer_;},n.prototype.getBounds=function(){let e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t;},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_;},n.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){let t=this.markers_.length+1,n=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,i=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(n,i),this.calculateBounds_();}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),!0;},n.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition());},n.prototype.calculateBounds_=function(){let e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e);},n.prototype.updateIcon_=function(){let e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(e<this.minClusterSize_||null!==t&&this.map_.getZoom()>t){this.clusterIcon_.hide(),this.markerClusterer_.dataLayer_&&this._resetDataLayerIcon_(this.getMarkers()),e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();for(let n=0;n<e;n++)this.markers_[n].properties&&this.markers_[n].properties.icon&&this.markers_[n].setIcon(this.markers_[n].properties.icon),this.markers_[n].getMap()!==this.map_&&this.markers_[n].setMap(this.map_);}else{let i=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(a),this.clusterIcon_.show();for(let s=0;s<this.markers_.length;s++)this.markers_[s].setMap(null);}},n.prototype._resetDataLayerIcon_=function(e){let t=this;e=e||[],e.forEach(function(e){e.setMap(null);let n=t.markerClusterer_.dataLayer_.getFeatureById(e.id);t.markerClusterer_.dataLayer_.overrideStyle(n,{ visible:!0 });});},n.prototype.isMarkerAlreadyAdded_=function(e){for(let t=0,n=this.markers_.length;t<n;t++)if(e===this.markers_[t])return!0;return!1;},i.prototype.onAdd=function(){let e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),'zoom_changed',function(){e.resetViewport_(!0),this.getZoom()!==(this.get('minZoom')||0)&&this.getZoom()!==this.get('maxZoom')||google.maps.event.trigger(this,'idle'),e.redrawOnIdle||e.redraw_();}),google.maps.event.addListener(this.getMap(),'idle',function(){e.redrawOnIdle&&e.redraw_();})];},i.prototype.onRemove=function(){let e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1;},i.prototype.draw=function(){},i.prototype.setupStyles_=function(){let e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({ url:this.imagePath_+(e+1)+'.'+this.imageExtension_,height:t,width:t });},i.prototype.fitMapToMarkers=function(){let e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n);},i.prototype.getGridSize=function(){return this.gridSize_;},i.prototype.setGridSize=function(e){this.gridSize_=e;},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize_;},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e;},i.prototype.getMaxZoom=function(){return this.maxZoom_;},i.prototype.setMaxZoom=function(e){this.maxZoom_=e;},i.prototype.getStyles=function(){return this.styles_;},i.prototype.setStyles=function(e){this.styles_=e;},i.prototype.getTitle=function(){return this.title_;},i.prototype.setTitle=function(e){this.title_=e;},i.prototype.getZoomOnClick=function(){return this.zoomOnClick_;},i.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e;},i.prototype.getAverageCenter=function(){return this.averageCenter_;},i.prototype.setAverageCenter=function(e){this.averageCenter_=e;},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden_;},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e;},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_;},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e;},i.prototype.getImageExtension=function(){return this.imageExtension_;},i.prototype.setImageExtension=function(e){this.imageExtension_=e;},i.prototype.getImagePath=function(){return this.imagePath_;},i.prototype.setImagePath=function(e){this.imagePath_=e;},i.prototype.getImageSizes=function(){return this.imageSizes_;},i.prototype.setImageSizes=function(e){this.imageSizes_=e;},i.prototype.getCalculator=function(){return this.calculator_;},i.prototype.setCalculator=function(e){this.calculator_=e;},i.prototype.setHideLabel=function(e){this.hideLabel_=e;},i.prototype.getHideLabel=function(){return this.hideLabel_;},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE_;},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e;},i.prototype.getClusterClass=function(){return this.clusterClass_;},i.prototype.setClusterClass=function(e){this.clusterClass_=e;},i.prototype.getMarkers=function(){return this.markers_;},i.prototype.getTotalMarkers=function(){return this.markers_.length;},i.prototype.getClusters=function(){return this.clusters_;},i.prototype.getTotalClusters=function(){return this.clusters_.length;},i.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_();},i.prototype.addMarkers=function(e,t){let n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_();},i.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){let t=this;google.maps.event.addListener(e,'dragend',function(){t.ready_&&(this.isAdded=!1,t.repaint());});}e.isAdded=!1,this.markers_.push(e);},i.prototype.removeMarker=function(e,t,n){let i=!n,a=this.removeMarker_(e,i);return!t&&a&&this.repaint(),a;},i.prototype.removeMarkers=function(e,t,n){let i,a,s=!1,r=!n;for(i=0;i<e.length;i++)a=this.removeMarker_(e[i],r),s=s||a;return!t&&s&&this.repaint(),s;},i.prototype.removeMarker_=function(e,t){let n,i=-1;if(this.markers_.indexOf)i=this.markers_.indexOf(e);else for(n=0;n<this.markers_.length;n++)if(e===this.markers_[n]){i=n;break;}return-1!==i&&(t&&e.setMap(null),this.markers_.splice(i,1),!0);},i.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[];},i.prototype.repaint=function(){let e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){let t;for(t=0;t<e.length;t++)e[t].remove();},0);},i.prototype.getExtendedBounds=function(e){let t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),a=t.fromLatLngToDivPixel(n);a.x+=this.gridSize_,a.y-=this.gridSize_;let s=t.fromLatLngToDivPixel(i);s.x-=this.gridSize_,s.y+=this.gridSize_;let r=t.fromDivPixelToLatLng(a),o=t.fromDivPixelToLatLng(s);return e.extend(r),e.extend(o),e;},i.prototype.redraw_=function(){this.createClusters_(0);},i.prototype.resetViewport_=function(e){let t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null);},i.prototype.distanceBetweenPoints_=function(e,t){let n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,a=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371;},i.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition());},i.prototype.addToClosestCluster_=function(e){let t,i,a,s,r=4e4,o=null;for(t=0;t<this.clusters_.length;t++)a=this.clusters_[t],(s=a.getCenter())&&(i=this.distanceBetweenPoints_(s,e.getPosition()))<r&&(r=i,o=a);o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(a=new n(this),a.addMarker(e),this.clusters_.push(a));},i.prototype.createClusters_=function(e){let t,n,i,a=this,s=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,'clusteringbegin',this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));let r=this.getExtendedBounds(i),o=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;t<o;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,r)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(o<this.markers_.length)this.timerRefStatic=setTimeout(function(){s.createClusters_(o);},0);else{for(delete this.timerRefStatic,this.dataLayer_&&this.dataLayer_.forEach(function(e){a.dataLayer_.overrideStyle(e,{ visible:!1 });}),t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();google.maps.event.trigger(this,'clusteringend',this);}}},i.prototype.extend=function(e,t){return function(e){let t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this;}.apply(e,[t]);},i.CALCULATOR=function(e,t){for(var n=0,i=e.length.toString(),a=i;0!==a;)a=parseInt(a/10,10),n++;return n=Math.min(n,t),{ text:i,index:n,title:'' };},i.BATCH_SIZE=2e3,i.BATCH_SIZE_IE=500,i.IMAGE_PATH='//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m',i.IMAGE_EXTENSION='png',i.IMAGE_SIZES=[53,56,66,78,90],'function'!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');}),e!==window)return i;window.MarkerClusterer=i;});},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(0),s=i(a),r=n(131),o=i(r),l=s.default.extend({},o.default);t.default=l;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r);t.default=s.default.View.extend({ template:n(138),constructor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.templateConfig={},s.default.View.prototype.constructor.call(this);},initialize:function(e){s.default.View.prototype.initialize.call(this,e),o.default.extend(this.templateConfig,this.options),this.render();},render:function(){return this.setElement(this.template(this.templateConfig)),this;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){let n=t.split('.');if(!(Array.isArray(n)&&n.length>1))return Array.isArray(n)&&1===n.length?e[n[0]]:void 0;for(var i=n.pop(),a=n.length,s=1,r=n[0];(e=e[r])&&s<a;)r=n[s],s++;return e?e[i]:void 0;}function s(e,t){let n={},i=function(n,i,a){return a===e.length-1?n[i]=t:n[i]={},n[i];};return e.reduce(i,n),n;}function r(e,t){function n(e,t){for(let i in e)e.hasOwnProperty(i)&&(t.apply(this,[e,i,e[i]]),null!==e[i]&&'object'===l(e[i])&&n(e[i],t));}function i(e,t,n){if(t.indexOf('.')>-1&&0!==t.indexOf('ref:')){let i=t.split('.'),a=s(i,n);u.default.recursive(e,a),delete e[t];}}function r(t,i,s){if(p.default.isObject(s)&&!p.default.isArray(s)&&n(s,r),0===i.indexOf('ref:')){let o=i.split(':'),l=o[1],c=p.default.isUndefined(o[2])?l:o[2],d={};d[l]=s,u.default.recursive(d,t);let h=a(e,c);p.default.isUndefined(h)||(d[l]=h,delete t[l]),u.default.recursive(t,d),delete t[i];}}let o=void 0;switch(t){case'processShortObjectNotation':o=i;break;case'processReferencialNotation':o=r;break;default:o=function(){};}return n(e,o),e;}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=r(e,'processShortObjectNotation'),a=r(t,'processShortObjectNotation');return n=u.default.recursive(!0,i,a),n=r(n,'processReferencialNotation');}Object.defineProperty(t,'__esModule',{ value:!0 });var l='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;};t.default=o;var c=n(211),u=i(c),d=n(0),p=i(d);},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 }),t.FilterTypes=void 0;let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(1),o=i(r),l=n(60),c=i(l),u=n(59),d=i(u),p=(t.FilterTypes={ FILTER_BY_POLYGON:'filter-by-polygon',RESTRICTED_POLYGON_RESULTS:'restricted-polygon-results' },function(){function e(t){a(this,e),this.eventBus=t,this.filterProviders={ travelTime:new c.default(this.eventBus),polygon:new d.default(this.eventBus) };}return s(e,[{ key:'applyFilter',value:function(e,t){let n=o.default.Deferred();return this.filterProviders[e].filterMarkers(t).then(function(e){n.resolve(e);}),n.promise();} },{ key:'applyVisibility',value:function(e,t){return this.filterProviders[e].applyVisibility(t);} }]),e;}());t.default=p;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){google.maps.event.addListener(e.map,'center_changed',function(){E.default.setLimitsToBBox(e.map,t);});}function s(e){let t=e.map.getBounds();e.map.minZoom=e.map.getZoom(),M.default.isObject(e.config.defaultView.limitBounds)?t=E.default.getBounds(e.config.defaultView.limitBounds):e.config.defaultView.bounds&&(t=E.default.getBounds(e.config.defaultView.bounds)),a(e,t);}function r(e,t){let i=n(78).default;M.default.each(t,function(t,n){e.customServices[n]=new i[n](M.default.extend(t,{ map:e.map,widget:e,config:t }));});}function o(e){let t=e.config.breakpoints,n=720,i=e.$el.width();return t.maxTablet?n=parseFloat(t.maxTablet.replace('px','')):t.maxMobile&&(n=parseFloat(t.maxMobile.replace('px',''))),n>i;}function l(e){let t=o(e);e.isMobile!==t&&e.bus.trigger('CHANGE_SCREEN_SIZE',t),e.isMobile=t;}function c(e){google.maps.event.addListenerOnce(e.map,'bounds_changed',function(){let t=n(22).default;I.default.addCustomComponents(e,e.config.mapComponents,t),e.config.defaultView.limitBounds&&s(e),e.bus.trigger('WIDGET_INITIALIZED',e.map.getBounds());}),google.maps.event.addDomListener(e.map,'resize',function(){setTimeout(function(){e.map.panTo(e._lastCenter),l(e);},1);}),google.maps.event.addDomListener(e.map,'dragend',function(){e.bus.trigger('USER_ACTION_TRACKING',{ tracking:'MapCenterChanged',boundingBox:e.map.getBounds() });}),google.maps.event.addDomListener(e.map,'zoom_changed',function(){e.bus.trigger('USER_ACTION_TRACKING',{ tracking:'ZoomChanged',zoom:e.map.getZoom() });}),google.maps.event.addDomListener(e.map,'idle',function(){e._lastCenter=e.map.getCenter();}),e._lastCenter=e.map.getCenter();}function u(e){let t=e.$el.find('.map-container')[0];(0,_.default)(t,function(){google.maps.event.trigger(e.map,'resize');});}function d(e){e.listenTo(e.bus,'CENTER_MAP',function(t){e.map.panTo(t);});}function p(e){let t={},n=M.default.filter(e.mapComponents,function(e){return M.default.indexOf(E.default.googleControls,e.componentConstructorClass)>-1;});return M.default.each(n,function(e){t[e.componentConstructorClass]=!0;let n=M.default.extend({},e.options);e.position&&(n.position=google.maps.ControlPosition[e.position]),e.style&&e.style.control&&e.style.controlStyle&&(n.style=google.maps[e.style.control][e.style.controlStyle]),e.mapTypeIds&&(n.mapTypeIds=e.mapTypeIds),t[e.nameOptions]=n;}),t;}function h(e){let t=e.config,n=p(t),i=M.default.extend({ minZoom:2,zoomControl:!1,mapTypeControl:!1,panControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,fullscreenControl:!1 });if(M.default.isObject(t.defaultView.mapOptions)&&M.default.extend(i,t.defaultView.mapOptions,n),M.default.isArray(t.defaultView.center)&&!M.default.isEmpty(t.defaultView.center)){let a=t.defaultView.center;i.center=new google.maps.LatLng(a[0],a[1]),i.zoom=t.defaultView.zoom;}else{let s=e._initialBBox=M.default.isObject(t.defaultView.bounds)?t.defaultView.bounds:{ neLat:83.31110306468723,neLng:180,swLat:-67.76757057057642,swLng:-180 },r=E.default.getBounds(s);i.center=E.default.getBoundsCenter(r);}return i;}function f(e){let t=h(e),n=e.$el.find('.map-container')[0];if(e.map=new google.maps.Map(n,t),e.handleLayers=new B.default(e),e.config.controlsAwareMapCentering&&F.default.init(e.map),e._initialBBox){let i=E.default.getBounds(e._initialBBox);e.map.fitBounds(i);}c(e),u(e),d(e);}function m(e,t){let n=H.default.sortBy(e),i=n.length,a=t.handleLayers.bookOverlaysSpace(i),s=[];return n.forEach(function(e,n){e.index=i-n+a;let r=t.config.layerDefaults?M.default.clone(t.config.layerDefaults):{};e=M.default.extend(r,e);let o=t.handleLayers.createLayer(e);o.model.get('visibleOnMap')&&t.handleLayers.addToMap(o),s.push(o);}),s;}function y(e){let t={};t['.snw-maps-widget-container']={ 'max-width':e.maxTablet },(0,G.default)(t,!0);}function g(e){let t=0,n=M.default.filter(e.config.layers,function(e){return e.active;});e.bus.listenTo(e.bus,'LAYER_LOADED',function(i,a){M.default.each(e.config.layers,function(n,s){s===i.id&&n.active&&M.default.isUndefined(i.notified)&&(e.bus.trigger('LAYER_RENDERED',{ type:i.id,number:a.length }),i.notified=!0,t++);}),n.length===t&&e.bus.stopListening(e.bus,'LAYER_LOADED');});}function v(e){navigator.geolocation.getCurrentPosition=function(t,n){t({ coords:{ latitude:e.lat,longitude:e.lng },timestamp:Date.now() });};}Object.defineProperty(t,'__esModule',{ value:!0 });var w=n(178),_=i(w),b=n(1),C=i(b),S=n(3),k=i(S),T=n(0),M=i(T);n(75);var x=n(8),E=i(x),L=n(26),D=i(L),P=n(81),O=i(P),R=n(83),I=i(R),A=n(66),B=i(A),N=n(4),H=i(N),W=n(65),F=i(W),j=n(76),G=i(j);t.default=k.default.View.extend({ template:n(139),constructor:function(e,t,n,i){let a=(0,C.default)('#'+e);1===a.length&&(this.config=I.default.prepareConfig(t,this),I.default.setLocale(this),I.default.registerHelpers(this),this.customComponents={},this.customServices={},this.eventBus=new D.default,this.bus=this.eventBus.bus,this.filterManager=new O.default(this.eventBus),this.handleLayers=null,this.api=n,this.setElement(a,!0),this.externalWidget=i,this.notify=this.portalInteraction,k.default.View.prototype.constructor.call(this));},initialize:function(){let e=this;if(this.config.screenResolution&&(this.templateConfig={ className:'_'+this.config.screenResolution }),f(this.render()),M.default.isObject(this.config.productLayers)&&(this._validateProductLayers(),this.productLayers=m(this.config.productLayers,this),this.handleLayers.setOrderProductLayers(this.productLayers),this.bus.listenTo(this.bus,'FIT_BOUNDS_LAYERS',function(){if(e._updateVisibleFeatures(),e.features.length>0){let t=new google.maps.LatLngBounds;e.features.forEach(function(e){let n=new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]);t.extend(n);}),e.map.fitBounds(t);}})),M.default.isObject(this.config.layers)&&(this.layers=m(this.config.layers,this),this.handleLayers.setOrderSecondaryLayers(this.layers)),y(this.config.breakpoints),this.config.filter&&this.config.filter.restrictedPolygon){let t=H.default.getPreloadedJson(this.config.filter.restrictedPolygon);this.filterManager.addRestrictedAreas(t);}g(this),r(this,this.config.services),I.default.createMessageControl(this),this.config.fakeLocation&&v(this.config.fakeLocation),this.isMobile=o(this);},_updateVisibleFeatures:function(){this.features=[];for(let e in this.productLayers)if(this.productLayers.hasOwnProperty(e)){let t=this.productLayers[e];t.model.get('active')&&t.model.get('visibleOnMap')&&(this.features=M.default.union(t.features,this.features));}},_validateProductLayers:function(){M.default.each(this.config.productLayers,function(e){e.params.searchOnce||(e.params.fitBounds=!1);});},render:function(e){return e&&(this.templateConfig=M.default.extend({},this.templateConfig,e)),this.$el.html(this.template(this.templateConfig)),this;},portalInteraction:function(e){'HIGHLIGHT_MARKER'===e.type&&this.bus.trigger('HIGHLIGHT_MARKER',e.object),'UNHIGHLIGHT_MARKER'===e.type&&this.bus.trigger('UNHIGHLIGHT_MARKER',e.object),'SELECT_MARKER'===e.type&&this.bus.trigger('SELECT_MARKER',e.object),'CENTER_MAP'===e.type&&this.bus.trigger('CENTER_MAP',e.object),'LOAD'===e.type&&this.bus.trigger('LOAD',e.object.layerId,e.object.results),'CTA'===e.type&&this.bus.trigger(e.type,e.object),'SHOW_MESSAGE'===e.type&&this.messageControl.add({ type:e.object.type,text:e.object.msg,repeteable:!1,autohide:!1,msgId:'messageFromIntegrationApi' }),'REMOVE_ROUTE'===e.type&&this.bus.trigger(e.type,e.object),'CREATE_MARKER'===e.type&&this.bus.trigger('CREATE_MARKER',e.object),'REMOVE_MARKER'===e.type&&this.bus.trigger('REMOVE_MARKER',e.object),'HANDLE_LAYER'===e.type&&this.bus.trigger(e.type,e.object),'CHANGE_JOURNEY_OPTIONS'===e.type&&this.bus.trigger('CHANGE_JOURNEY_OPTIONS',e.object);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},r=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),o=n(212),l=i(o),c=n(4),u=i(c),d=n(20),p=i(d),h=n(1),f=i(h),m=n(8),y=i(m),g=n(84),v=i(g),w=n(0),_=i(w),b=function(){function e(){a(this,e);}return r(e,null,[{ key:'prepareConfig',value:function(e,t){function n(t,n,i){'cluster'===n&&_.default.isString(i)&&e.clustersConf[i]&&(t[n]=e.clustersConf[i]);}function i(e,n){for(let a in e)e.hasOwnProperty(a)&&(n.apply(t,[e,a,e[a]]),null!==e[a]&&'object'===s(e[a])&&i(e[a],n));}return i(e,n),e;} },{ key:'setLocale',value:function(e){let t=e.config.locale,i=_.default.isUndefined(t.preloaded)?'en':t.preloaded,a=void 0,s=void 0;try{a=n(224)('./'+i+'.json');}catch(e){a=n(32);}let r=new l.default({ phrases:a });e.polyglot=r;try{s=u.default.getPreloadedJson('locales/'+i+'.json');}catch(e){s=u.default.getPreloadedJson('locales/en.json'),console.warn('Language file cannot be found.');}r.extend(s),t.url&&f.default.getJSON(t.url).done(function(e){r.extend(e);}),t.translations&&r.extend(t.translations);} },{ key:'registerHelpers',value:function(e){p.default.registerHelper('t',function(t){return e.polyglot.t(t);}),p.default.registerHelper('ifCond',function(e,t,n,i){switch(t){case'==':case'===':return e===n?i.fn(this):i.inverse(this);case'!=':case'!==':return e!==n?i.fn(this):i.inverse(this);case'<':return e<n?i.fn(this):i.inverse(this);case'<=':return e<=n?i.fn(this):i.inverse(this);case'>':return e>n?i.fn(this):i.inverse(this);case'>=':return e>=n?i.fn(this):i.inverse(this);case'&&':return e&&n?i.fn(this):i.inverse(this);case'||':return e||n?i.fn(this):i.inverse(this);default:return i.inverse(this);}}),p.default.registerHelper('list',function(e,t){let n,i,a,s='<ul>';for(n=0,i=e.length;n<i;n++)e[n]&&(a=n===i-1?'lastItem':'',s=s+'<li class="'+a+'">'+t.fn(e[n])+'</li>');return s+'</ul>';});} },{ key:'addCustomComponents',value:function(e,t,n){let i=_.default.filter(t,function(e,t){return!(!e||-1!==_.default.indexOf(y.default.googleControls,e.componentConstructorClass))&&(e.identifier=t,!0);});_.default.each(i,function(t,i){if(!_.default.isObject(n[t.componentConstructorClass]))throw new Error('There is not any component with identifier '+t.componentConstructorClass);e.customComponents[t.identifier]=new n[t.componentConstructorClass](_.default.extend(t,{ map:e.map,position:t.position,widget:e }));});} },{ key:'createMessageControl',value:function(e){e.messageControl=new v.default;} }]),e;}();t.default=b;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(85),o=i(r);t.default=s.default.Collection.extend({ model:o.default,initialize:function(){},add:function(e){if(this.isRepeteable(e)){let t=new o.default(e);return s.default.Collection.prototype.add.call(this,t),t.get('id');}},removeById:function(e){let t=this.get(e);this.remove(t);},clean:function(){this.reset();},removeByMsgId:function(e){let t=this.where({ msgId:e });this.remove(t);},isRepeteable:function(e){let t=!0;return this.each(function(n){e.repeatable||n.attributes.text!==e.text||(t=!1);}),t;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=s.default.Model.extend({ initialize:function(e){this.createId();},createId:function(){this.set('id',o.default.uniqueId('msg_'));} });t.default=l;},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(48),a=function(e){return e&&e.__esModule?e:{ default:e };}(i);t.default=new a.default;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}Object.defineProperty(t,'__esModule',{ value:!0 });let o=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),l=n(1),c=i(l),u=n(0),d=i(u),p=n(51),h=i(p),f=function(e){function t(e,n){a(this,t);let i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.geocoder=new google.maps.Geocoder,i;}return r(t,e),o(t,[{ key:'_createCoordinatesHandler',value:function(e){let t=this.geocoder;return function(){let e=c.default.Deferred();return t.geocode({ placeId:this.code },function(t,n){if('OK'!==n)return void e.reject(n);let i=null;i=d.default.isUndefined(t[0].geometry.viewport)?t[0].geometry.location:t[0].geometry,e.resolve(i);}),e.promise();};} }]),t;}(h.default);t.default=f;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}Object.defineProperty(t,'__esModule',{ value:!0 });let o=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),l=n(1),c=i(l),u=n(21),d=i(u),p=n(0),h=i(p),f=function(e){function t(e,n){a(this,t);let i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.widget=n,i.map=n.map,i.icon=e.icon,i;}return r(t,e),o(t,[{ key:'getPredictions',value:function(e){let t=this;if('string'!=typeof e)throw new Error('The text is missing');let n=c.default.Deferred(),i=[];return this._deferred=n,h.default.each(this.widget.drawnStations,function(n){let a=e.toLowerCase().split('(')[0].trim(),s=n.properties.name.toLowerCase().indexOf(a),r=n.properties.crs.toLowerCase().indexOf(a);if(s>-1||r>-1){let o={ index:r>-1?r:s,id:n.properties.crs,type:'StationsLayer',code:n.properties.crs,icon:t.icon,coordinates:function(){let e=c.default.Deferred(),t=new google.maps.LatLng(n.geometry.coordinates[1],n.geometry.coordinates[0]);return e.resolve(t),e.promise();},value:n.properties.name+' ('+n.properties.crs+')',originData:{ terms:[{ value:n.properties.name }] },content:'<div class=\'snw-station-result\'><span class=\'snw-station-name\'>\n          '+t._setStrong(a,n.properties.name)+'\n           ('+t._setStrong(a,n.properties.crs)+')</span></div>' };o.id.toLowerCase()===a.toLowerCase()?i.unshift(o):i.push(o);}}),i=h.default.sortBy(i,'index'),i=i.slice(0,this.conf.maxResults),n.resolve(i),n.promise();} },{ key:'_setStrong',value:function(e,t){let n=new RegExp('('+e+')','gi');return t.replace(n,'<strong>$1</strong>');} }]),t;}(d.default);t.default=f;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(88),s=i(a),r=n(87),o=i(r);t.default={ StationsAutocomplete:s.default,GoogleGeocodingAutocomplete:o.default };},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(94),o=i(r),l=n(92),c=i(l),u=n(91),d=i(u),p=n(93),h=i(p),f=n(95),m=i(f),y=n(1),g=i(y);n(43),t.default=s.default.extend({ template:n(140),initialize:function(e){let t=this;s.default.prototype.initialize.call(this,e),setTimeout(function(){t._createAccordion(),t._createComponents();},500);},_createAccordion:function(){let e=(0,g.default)('#snw-custom-panel-accordion');e.find('h3').hide(),e.accordion({ active:2,collapsible:!0,heightStyle:'content',icons:{ header:'snw-icon-chevron-down',activeHeader:'snw-icon-chevron-up' } });},_createComponents:function(){this._createFavouriteStations(),this._createFavouriteRoutes(),this._createNearbyStations();},_createFollowedRoutes:function(){let e=this.$el.find('#snw-followed-routes-accordion-container'),t=this.$el.find('#snw-followed-routes-accordion-header');this.followedRoutesPanel=new o.default({ parent:this,accordionContainer:e,accordionHeader:t });},_createFavouriteRoutes:function(){let e=this.$el.find('#snw-favourite-routes-accordion-container'),t=this.$el.find('#snw-favourite-routes-accordion-header');this.favouriteRoutesPanel=new c.default({ parent:this,accordionContainer:e,accordionHeader:t });},_createCompanyStations:function(){let e=this.$el.find('#snw-company-stations-routes-accordion-header'),t=this.$el.find('#snw-company-stations-routes-accordion-container');this.companyStations=new d.default({ parent:this,accordionContainer:t,accordionHeader:e });},_createFavouriteStations:function(){let e=this.$el.find('#snw-favourite-stations-routes-accordion-header'),t=this.$el.find('#snw-favourite-stations-routes-accordion-container');this.favouriteStations=new h.default({ parent:this,accordionContainer:t,accordionHeader:e });},_createNearbyStations:function(){let e=this.$el.find('#snw-nearby-stations-accordion-header'),t=this.$el.find('#snw-nearby-stations-accordion-container');this.nearbyStations=new m.default({ parent:this,accordionHeader:e,accordionContainer:t });},destroySubComponents:function(){this.favouriteStations.destroy(),this.favouriteRoutesPanel.destroy(),this.nearbyStations.destroy();},reinitializeAccordion:function(){this.destroySubComponents(),this._createAccordion(),this._createComponents();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=n(1),c=i(l);t.default=s.default.View.extend({ template:n(141),initialize:function(e){s.default.View.prototype.initialize.call(this,e),this.widget=e.parent.widget,this.parent=e.parent,this.accordionContainer=e.accordionContainer,this.accordionHeader=e.accordionHeader,this.companyStations={},this.populateFavouriteStationsList();},events:{ 'click .snw-station':'_selectStation' },populateFavouriteStationsList:function(){this.companyStations=this._getCompanyStations(),this.renderContent();},render:function(){return this.templateConfig={ stations:this.companyStations },this.setElement(this.template(this.templateConfig)),this;},renderContent:function(){this.render();let e=this.parent.$el.find('#snw-company-stations');0===e.length&&this.accordionContainer.append(this.$el),e.replaceWith(this.$el),0===Object.keys(this.companyStations).length?(this.$el.hide(),this.accordionHeader.css('visibility','hidden'),this.accordionHeader.hide()):(this.accordionHeader.show(),this.accordionHeader.css('visibility','visible'));},_getCompanyStations:function(){let e=this,t=[],n={};return o.default.each(this.widget.drawnStations,function(i){e.widget.config.mainStations.indexOf(i.properties.crs)>-1&&(n={ crs:i.properties.crs,name:i.properties.name },t.push(n));}),t;},_selectStation:function(e){let t=(0,c.default)(e.target).closest('.snw-station');this.widget.eventBus.bus.trigger('CLICK_ON_STATION',t.prop('id'),this.widget.isMobile);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=n(1),c=i(l);t.default=s.default.View.extend({ template:n(142),initialize:function(e){let t=this;s.default.View.prototype.initialize.call(this,e),this.widget=e.parent.widget,this.parent=e.parent,this.accordionContainer=e.accordionContainer,this.accordionHeader=e.accordionHeader,this.favouriteRoutes={},this._createList(),this.listenTo(this.parent.eventBus.bus,'CHANGE_FAVOURITE_STORAGE',function(){t._createList();});},events:{ 'click .snw-favourite-route':'_selectRoute' },_createList:function(){this.favouriteRoutes=this._getFavouriteRoutes(),this.renderContent();},render:function(){let e=this.widget.polyglot.t('customPanel.favouriteRoutes');return this.templateConfig={ header:e,routes:o.default.sortBy(this.favouriteRoutes,'createdAt').reverse() },this.setElement(this.template(this.templateConfig)),this;},renderContent:function(){this.render();let e=this.parent.$el.find('.snw-favourite-routes');0===e.length&&this.accordionContainer.append(this.$el),e.replaceWith(this.$el),0===Object.keys(this.favouriteRoutes).length?(this.$el.hide(),this.accordionHeader.css('visibility','hidden'),this.accordionHeader.hide()):(this.accordionHeader.show(),this.accordionHeader.css('visibility','visible'));},_getFavouriteRoutes:function(){return localStorage.getItem('favouriteRoutes')?JSON.parse(localStorage.getItem('favouriteRoutes')):[];},_selectRoute:function(e){let t=(0,c.default)(e.target).closest('.snw-favourite-route'),n=o.default.find(this.favouriteRoutes,function(e){return e.createdAt===t.prop('id');});this.widget.bus.trigger('FAVOURITE_ROUTE_SELECTED',n);},removeList:function(){let e=this;o.default.each(this.favouriteRoutes,function(t){e.removeRoute(t.serviceId);}),this.favouriteRoutes={};},destroy:function(){this.$el.remove(),this.parent.eventBus.bus.off('CHANGE_FAVOURITE_STORAGE');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=n(1),c=i(l);t.default=s.default.View.extend({ template:n(143),initialize:function(e){let t=this;s.default.View.prototype.initialize.call(this,e),this.widget=e.parent.widget,this.parent=e.parent,this.accordionContainer=e.accordionContainer,this.accordionHeader=e.accordionHeader,this.favouriteStations={},this.populateFavouriteStationsList(),this.listenTo(this.parent.eventBus.bus,'CHANGE_FAVOURITE_STATION_STORAGE',function(e){o.default.findIndex(t._getFavouriteStations(),function(t){return t.crs===e.crs;})>-1?t.removeStation(e.crs):t.addFavouriteStationInLocalStorare(e),t.populateFavouriteStationsList();});},events:{ 'click .snw-station':'_selectStation' },populateFavouriteStationsList:function(){this.favouriteStations=this._getFavouriteStations().sort(function(e,t){return t.createdTime-e.createdTime;}),this.renderContent();},render:function(){return this.templateConfig={ stations:this.favouriteStations },this.setElement(this.template(this.templateConfig)),this;},renderContent:function(){this.render();let e=this.parent.$el.find('#snw-favourite-stations');0===e.length&&this.accordionContainer.append(this.$el),e.replaceWith(this.$el),0===Object.keys(this.favouriteStations).length?(this.$el.hide(),this.accordionHeader.css('visibility','hidden'),this.accordionHeader.hide()):(this.accordionHeader.show(),this.accordionHeader.css('visibility','visible'));},removeStation:function(e){let t=this._getFavouriteStations(),n=o.default.findIndex(t,function(t){return t.crs===e;});t.splice(n,1),this.favouriteStations.splice(n,1),localStorage.setItem('favouriteStations',JSON.stringify(t));},_getFavouriteStations:function(){let e=[];return localStorage.getItem('favouriteStations')&&(e=JSON.parse(localStorage.getItem('favouriteStations'))),e;},_selectStation:function(e){let t=(0,c.default)(e.target).closest('.snw-station');this.widget.eventBus.bus.trigger('CLICK_ON_STATION',t.prop('id'),!1);},removeList:function(){let e=this;o.default.each(this.favouriteStations,function(t){e.removeStation(t);}),this.favouriteStations=[];},addFavouriteStationInLocalStorare:function(e){let t=this._getFavouriteStations();t.push(e),localStorage.setItem('favouriteStations',JSON.stringify(t));},destroy:function(){this.$el.remove(),this.parent.eventBus.bus.off('CHANGE_FAVOURITE_STATION_STORAGE');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e){let t=void 0,n=e.crs,i=e.callingPoints;if(e.isArrival)for(let a=i.length-1;a>0;a--)i[a].crs===n&&(t=i[a]);else for(let s=0;s<i.length-1;s++)i[s].crs===n&&(t=i[s]);return t;}Object.defineProperty(t,'__esModule',{ value:!0 });let s=n(3),r=i(s),o=n(0),l=i(o),c=n(13),u=i(c),d=n(1),p=i(d);t.default=r.default.View.extend({ template:n(144),initialize:function(e){let t=this;r.default.View.prototype.initialize.call(this,e),this.widget=e.parent.widget,this.parent=e.parent,this.accordionContainer=e.accordionContainer,this.accordionHeader=e.accordionHeader,this.followedRoutes={},this.populateFollowedRouteList(),this.listenTo(this.parent.eventBus.bus,'CHANGE_FOLLOWED_STORAGE',function(e){t.followedRoutes[e.serviceId]?(t.removeRoute(e.serviceId),t.renderContent()):t.populateFollowedRouteList();});},events:{ 'click .snw-route':'_selectService' },populateFollowedRouteList:function(){let e=this,t=this._getFollowedRoutes();0===t.length&&(this.removeList(),this.renderContent()),l.default.each(t,function(t,n){if(!e.followedRoutes[t.serviceId]){let i=new u.default(e.widget,null,l.default.extend(t,{ isFollowed:!0 }));e.listenTo(i,'change:serviceInfo',function(a,s){if(s===u.default.NOT_FOUND||s===u.default.ERROR)e.removeRoute(t.serviceId),e._removeFromLocalStorage(t);else{t.model=i;let r=e.parseData(l.default.extend(t,s));r?(r.order=n,r.serviceId=t.serviceId,e.followedRoutes[t.serviceId]=r):(e.followedRoutes[t.serviceId]||(i.reset(!0),e._removeFromLocalStorage(t)),e.removeRoute(t.serviceId));}e.renderContent();});}});},render:function(){return this.templateConfig={ routes:l.default.sortBy(this.followedRoutes,'order').reverse() },this.setElement(this.template(this.templateConfig)),this;},renderContent:function(){this.render();let e=this.parent.$el.find('.snw-followed-routes');0===e.length&&this.accordionContainer.append(this.$el),e.replaceWith(this.$el),0===Object.keys(this.followedRoutes).length?(this.$el.hide(),this.accordionHeader.css('visibility','hidden'),this.accordionHeader.hide()):(this.accordionHeader.show(),this.accordionHeader.css('visibility','visible'));},removeRoute:function(e){this.followedRoutes[e]&&(this.followedRoutes[e].model.reset(!0),delete this.followedRoutes[e]);},parseData:function(e){let t=this,n=a(e),i=e.isArrival?e.callingPoints[0]:n,s=e.isArrival?n:e.callingPoints[e.callingPoints.length-1],r={ from:l.default.extend(i,{ name:i.locationName+' ('+i.crs+')',scheduled:i.st||i.std,time:i.at||i.atd||i.et||i.etd,ontime:'ontime'===i.delayClass&&i.delayMin<=0 },{ location:[{ locationName:i.locationName,crs:i.crs }] }),to:l.default.extend(s,{ name:s.locationName+' ('+s.crs+')',scheduled:s.st||s.sta,time:s.at||s.ata||s.et||s.eta,ontime:'ontime'===s.delayClass&&s.delayMin<=0 },{ location:[{ locationName:s.locationName,crs:s.crs }] }),operator:e.operator,operatorCode:e.operatorCode,platform:e.platform,model:e.model,isArrival:e.isArrival },o='cancelled'===s.delayClass?s.scheduledTimeArrival||s.scheduledTime:!(!s.ata&&!s.at)&&s.arrivalTime;if(o){if(o+9e5<(new Date).getTime())return!1;'cancelled'!==s.delayClass&&(r.isArrived=!0,r.to.time=this.widget.polyglot.t('customPanel.arrived'),setTimeout(function(){t.removeRoute(e.serviceId);},9e5));}return r;},_getFollowedRoutes:function(){let e=localStorage.getItem('followedRoutes'),t=[];return e&&(t=JSON.parse(e)),t;},_selectService:function(e){let t=(0,p.default)(e.target).closest('.snw-route'),n=t.prop('id'),i=this.followedRoutes[n];i.isArrived||(i.hideBack=!0,this.widget.bus.trigger('SERVICE_SELECTED',n,i));},removeList:function(){let e=this;l.default.each(this.followedRoutes,function(t){e.removeRoute(t.serviceId);}),this.followedRoutes={};},addFollowedRouteInLocalStorare:function(e){let t=this._getFollowedRoutes();t.push(e),localStorage.setItem('followedRoutes',JSON.stringify(t));},destroy:function(){l.default.each(this.followedRoutes,function(e){e.model.reset(!0);}),this.$el.remove(),this.parent.eventBus.bus.off('CHANGE_FOLLOWED_STORAGE');},_removeFromLocalStorage:function(e){let t=this._getFollowedRoutes(),n=l.default.findIndex(t,function(t){return e.serviceId===t.serviceId;});t.splice(n,1),localStorage.setItem('followedRoutes',JSON.stringify(t));} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(1),o=i(r),l=n(0),c=i(l),u=n(4),d=i(u);t.default=s.default.View.extend({ template:n(145),initialize:function(e){let t=this;s.default.View.prototype.initialize.call(this,e),this.widget=e.parent.widget,this.parent=e.parent,this.accordionContainer=e.accordionContainer,this.accordionHeader=e.accordionHeader,this.nearbyStations={},this.populateNearbyStationsList(function(e){if(e){let n='string'==typeof e?JSON.parse(e):e;t._getNearbyStations(n).done(function(e){t.nearbyStations=c.default.sortBy(e,function(e){return e.matrix.duration.value;}),t.renderContent();});}}),this.bindListeners();},events:{ 'click .snw-station':'_selectStation' },bindListeners:function(){let e=this;this.widget.listenTo(this.widget.eventBus.bus,'LOCATION_REQUESTED',function(t){e.populateNearbyStationsList(function(t){if(t){let n='string'==typeof t?JSON.parse(t):t;e._getNearbyStations(n).done(function(t){e.nearbyStations=c.default.sortBy(t,function(e){return e.matrix.duration.value;}),e.renderContent();});}});});},populateNearbyStationsList:function(e){'undefined'!=typeof LocationInterface?LocationInterface.getLocation(e):d.default.requestUserPosition().done(function(t){let n={ lat:t.lat(),lng:t.lng() };e(n);});},render:function(){return this.templateConfig={ stations:this.nearbyStations },this.setElement(this.template(this.templateConfig)),this;},renderContent:function(){this.render();let e=this.parent.$el.find('#snw-nearby-stations');0===e.length&&this.accordionContainer.append(this.$el),e.replaceWith(this.$el),0===Object.keys(this.nearbyStations).length?(this.$el.hide(),this.accordionHeader.css('visibility','hidden'),this.accordionHeader.hide()):(this.accordionHeader.show(),this.accordionHeader.css('visibility','visible'));},_getNearbyStations:function(e){let t=o.default.Deferred(),n=d.default.stringFormat(this.widget.config.baseApiUrl+this.widget.config.requests.nearbyStationsReqUrl,[e.lat,e.lng,this.widget.config.nearbyTime]);return o.default.getJSON(n).done(function(e){t.resolve(e);}).fail(),t;},destroy:function(){this.$el.remove(),this.parent.eventBus.bus.off('CHANGE_NEARBY_STATION_STORAGE');},_selectStation:function(e){let t=(0,o.default)(e.target).closest('.snw-station');this.widget.eventBus.bus.trigger('CLICK_ON_STATION',t.prop('id'),!1);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(28),o=i(r);t.default=s.default.Collection.extend({ model:o.default,initialize:function(){},toggleFocusOut:function(e){let t=this.models.indexOf(e),n=void 0;n=t+1<this.models.length?this.models[t+1]:this.models[0],n.isEmpty()&&n.onFocus(),e.onBlur();},toggleFocusIn:function(e){let t=this.models.indexOf(e);t+1<this.models.length?this.models[t+1].onBlur():this.models[0].onBlur(),e.isEmpty()&&e.onFocus();},defaultFocus:function(){let e=this,t=!0;this.each(function(n){n.isFocused()&&(t=!1),t&&(e.models[0].onBlur(),e.models[0].onFocus());});},getEmptyModel:function(){let e=void 0;for(e=0;e<this.models.length;e++)if(this.models[e].isEmpty())return this.models[e];return!1;},getMyLocationModel:function(){let e=void 0;for(e=0;e<this.models.length;e++)if(this.models[e].isFromMyLoc())return this.models[e];return!1;},add:function(e,t){t?e.onFocus():this.defaultFocus(),e.empty(),s.default.Collection.prototype.add.call(this,e);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(1),s=i(a),r=n(0),o=i(r),l=n(5),c=i(l),u=n(4),d=i(u);t.default=c.default.extend({ template:n(147),events:{ 'click .close-btn':'close','click .back-btn':'hide','click .snw-cta-see-map':'_seeMap' },initialize:function(e){let t=this;c.default.prototype.initialize.call(this,e),this.listenTo(e.widget.bus,'SELECTED_INCIDENT_REMOVED',function(e){t._onIncidentRemoved(e);}),this.listenTo(e.widget.bus,'STATION_SELECTED',function(){t.hide();}),this.listenTo(e.widget.bus,'INCIDENT_SELECTED',function(e){t.hide(),t._onIncidentSelected(e);}),this.listenTo(e.widget.bus,'SERVICE_SELECTED',function(){t.templateConfig.showBack=!0;}),this.listenTo(e.widget.bus,'REMOVE_SERVICE',function(){t.templateConfig.showBack=!1;}),this.hide();},_onIncidentSelected:function(e){this._getIncidentData(e),this.id=e;},_onIncidentRemoved:function(e){e.toString()===this.id&&this.hide();},show:function(){this._hideOtherPanels(),this.render(),c.default.prototype.show.call(this);},close:function(){this.hide(),this.widget.bus.trigger('CLOSE_ALL_PANELS');},hide:function(){c.default.prototype.hide.call(this),this.widget.bus.trigger('INCIDENT_DETAILS_CLOSED'),this._showOtherPanels(),this.$el.remove();},_hideOtherPanels:function(){let e=this;this.panels=[];let t=this.map.controls[google.maps.ControlPosition[this.position]];t.forEach(function(t){e.panels.push(t);}),t.clear();},_showOtherPanels:function(){let e=this,t=this.map.controls[google.maps.ControlPosition[this.position]],n=t.getArray();o.default.each(this.panels,function(t){o.default.find(n,function(e,n){return t===e;})||e.map.controls[google.maps.ControlPosition[e.position]].push(t);});},_getIncidentData:function(e){let t=this,n=d.default.stringFormat(this.widget.config.baseApiUrl+this.widget.config.requests.incidentsReqUrl,[e]);s.default.getJSON(n).then(function(e){let n=e.InfoLinks;if(n.InfoLink&&(n=n.InfoLink,o.default.isArray(n)&&(n=n[0])),e.affects&&e.affects.Operators){let i=Array.isArray(e.affects.Operators.AffectedOperator)?e.affects.Operators.AffectedOperator:[e.affects.Operators.AffectedOperator];e.affectedOperators=i.map(function(e){return e.OperatorName;}).join(', ');}e.description=t._normalizeLinks(e.description),e.infoLink=n.Uri,t.templateConfig.incident=e,t.templateConfig.primaryColor=t.widget.config.customStyle.primaryColor,t.templateConfig.secondaryColor=t.widget.config.customStyle.secondaryColor,t.templateConfig.tertiaryColor=t.widget.config.customStyle.tertiaryColor,t.render(),t.show();});},_showErrorMessages:function(){this.$el.find('.snw-noResults').css('display','block'),this.$el.find('.snw-serviceError').css('display','block');},_hideErrorsMessages:function(){this.$el.find('.snw-noResults').css('display','none'),this.$el.find('.snw-serviceError').css('display','none');},_normalizeLinks:function(e){return e.replace(new RegExp('<a','g'),'<a target="_blank"');},_seeMap:function(){this.hide(),this.widget.bus.trigger('COLLAPSE_TRAVEL_NEWS_TAB');} });},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(5),a=function(e){return e&&e.__esModule?e:{ default:e };}(i);t.default=a.default.extend({ template:n(148),events:{ click:'_toggleClick' },initialize:function(e){e.isChild=!0,this.active=e.active,this._toggleClick(),this.templateConfig.name=this.widget.polyglot.t('journeyPlanner.checkJourney'),a.default.prototype.initialize.call(this,e);},_toggleClick:function(){this.active=!this.active,this.widget.eventBus.bus.trigger('journeyCheckActive',this.active),this.active?this.widget.eventBus.bus.trigger('journeyLiveTravelActive',!1):this.widget.eventBus.bus.trigger('journeyCollapse');} });},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(5),a=function(e){return e&&e.__esModule?e:{ default:e };}(i);t.default=a.default.extend({ template:n(149),events:{ click:'_toggleClick' },initialize:function(e){e.isChild=!0,this.templateConfig.name=this.widget.polyglot.t('journeyPlanner.liveTravel'),a.default.prototype.initialize.call(this,e);},_toggleClick:function(){this.active=!this.active,this.widget.eventBus.bus.trigger('journeyLiveTravelActive',this.active),this.widget.eventBus.bus.trigger('journeyCheckActive',!1),this.active?this.widget.eventBus.bus.trigger('journeyCheckActive',!1):this.widget.eventBus.bus.trigger('journeyCollapse');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(98),o=i(r),l=n(99),c=i(l),u=n(27),d=i(u),p=n(118),h=i(p),f=n(0),m=i(f),y=n(1),g=i(y);t.default=s.default.extend({ template:n(150),events:{ 'click .snw-cta-see-map':'_collapseTab' },initialize:function(e){let t=this;this.travelNews=new h.default(m.default.extend({},this.properties.children.TravelNews,{ widget:this.widget })),m.default.extend(this.templateConfig,this.widget.config.customStyle),s.default.prototype.initialize.call(this,e),this._fillPanel(),this.bindListeners(),setTimeout(function(){t._calculateHeight();},300);},bindListeners:function(){let e=this;this.listenTo(this.eventBus.bus,'journeyCheckActive',function(t){e.$el.removeClass('snw-collapsed'),t?e._activeDirectionsBox():e._deactiveDirectionsBox(),e.journeyCheck.delegateEvents();}),this.listenTo(this.eventBus.bus,'journeyLiveTravelActive',function(t){e.$el.removeClass('snw-collapsed'),t?e._activeTravelNews():e._deactiveTravelNews(),e.journeyLiveTravel.delegateEvents();}),this.listenTo(this.eventBus.bus,'journeyCollapse',function(t){e.$el.addClass('snw-collapsed'),e.$el.find('.snw-cta-see-map').hide(),e.$el.find('.snw-journey-check').css({ 'background-color':'',color:'' }),e.$el.find('.snw-journey-live-travel').css({ 'background-color':'',color:'' });}),this.listenTo(this.eventBus.bus,'CLOSE_ALL_PANELS',function(){e.show();}),this.listenTo(this.eventBus.bus,'STATION_SELECTED',function(){e.hide();}),this.listenTo(this.eventBus.bus,'COLLAPSE_TRAVEL_NEWS_TAB',function(){e.$el.find('.snw-cta-see-map').hide(),e._deactiveTravelNews();}),(0,g.default)(window).resize(function(){clearTimeout(e.resizeTimer),e.$el.find('.snw-cta-see-map').css('visibility','hidden'),e.resizeTimer=setTimeout(function(){e._calculateHeight(),e.$el.find('.snw-cta-see-map').css('visibility','visible');},10);});},_fillPanel:function(){let e=this.widget.isMobile;this.journeyCheck=new o.default({ widget:this.widget,isChild:!0,active:e }),this.journeyLiveTravel=new c.default({ widget:this.widget,isChild:!0,active:e }),this.$el.find('.snw-journey-header').append(this.journeyCheck.el),this.$el.find('.snw-journey-header').append(this.journeyLiveTravel.el),e?this._deactiveDirectionsBox():(this.$el.find('.snw-journey-check').addClass('snw-journey-check-active'),this._activeDirectionsBox());},_activeDirectionsBox:function(){this.$el.find('.snw-journey-check').addClass('snw-journey-check-active'),this.directionBox?this.directionBox.show():this.directionBox=new d.default(m.default.extend({},this.properties.children.DirectionsBox,{ widget:this.widget })),this.$el.find('.snw-journey-content').prepend(this.directionBox.el),this.$el.find('.snw-journey-content').find('.snw-route-details-container').css('display','block'),this.$el.find('.snw-journey-header').find('.snw-journey-check').find('.snw-icon-md').addClass('snw-icon-chevron-up'),this.$el.find('.snw-journey-header').find('.snw-journey-check').find('.snw-icon-md').removeClass('snw-icon-chevron-down'),this.$el.find('.snw-travel-news-panel').addClass('snw-container-fix'),this.$el.find('.snw-journey-content').find('.snw-service-container-collapse').length?this.$el.find('.snw-cta-see-map').hide():this.$el.find('.snw-cta-see-map').show(),this.$el.addClass('snw-directions-box-active'),this.journeyCheck.active=!0;},_deactiveDirectionsBox:function(){this.$el.find('.snw-journey-check').removeClass('snw-journey-check-active'),this.directionBox&&this.directionBox.hide(),this.$el.find('.snw-journey-content').find('.snw-route-details-container').css('display','none'),this.$el.find('.snw-travel-news-panel').removeClass('snw-container-fix'),this.$el.find('.snw-journey-header').find('.snw-journey-check').find('.snw-icon-md').removeClass('snw-icon-chevron-up'),this.$el.find('.snw-journey-header').find('.snw-journey-check').find('.snw-icon-md').addClass('snw-icon-chevron-down'),this.$el.removeClass('snw-directions-box-active'),this.journeyCheck.active=!1;},_activeTravelNews:function(){this.$el.find('.snw-journey-live-travel').addClass('snw-journey-live-travel-active'),this.travelNews.update(),this.travelNews.show(),this.$el.find('.snw-journey-header').find('.snw-journey-live-travel').find('.snw-icon-md').addClass('snw-icon-chevron-up'),this.$el.find('.snw-journey-header').find('.snw-journey-live-travel').find('.snw-icon-md').removeClass('snw-icon-chevron-down'),this.$el.find('.snw-directions-box').addClass('snw-container-fix'),(0,g.default)('.snw-journey-container-collapse').addClass('snw-container-fix'),this.$el.find('.snw-cta-see-map').show(),this.$el.find('.snw-journey-content').append(this.travelNews.el),this.$el.addClass('snw-travel-news-active'),this.journeyLiveTravel.active=!0;},_deactiveTravelNews:function(){this.$el.find('.snw-journey-live-travel').removeClass('snw-journey-live-travel-active'),this.travelNews&&this.travelNews.hide(),this.$el.find('.snw-journey-header').find('.snw-journey-live-travel').find('.snw-icon-md').removeClass('snw-icon-chevron-up'),this.$el.find('.snw-journey-header').find('.snw-journey-live-travel').find('.snw-icon-md').addClass('snw-icon-chevron-down'),this.$el.find('.snw-directions-box').removeClass('snw-container-fix'),(0,g.default)('.snw-journey-container-collapse').removeClass('snw-container-fix'),this.$el.removeClass('snw-travel-news-active'),this.journeyLiveTravel.active=!1;},_calculateHeight:function(){let e=this.$el.find('.snw-journey-content').offset().top,t=this.widget.$el.height(),n=this.widget.$el.find('.snw-journey-container').css('margin')?this.widget.$el.find('.snw-journey-container').css('margin').split('px')[0]:'15px';this.$el.find('.snw-journey-content').css('max-height',t-e-parseInt(n)+'px');},_collapseTab:function(){this.$el.find('.snw-cta-see-map').hide(),this.journeyCheck.active?this._deactiveDirectionsBox():this.journeyLiveTravel.active&&this._deactiveTravelNews(),this.eventBus.bus.trigger('SEE_ROUTES');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(1),o=i(r),l=n(0),c=i(l),u=n(4),d=i(u),p=n(133),h=i(p);t.default=s.default.extend({ template:n(151),initialize:function(e){this.stationPanel=e.parent.parentComponent,this.delayStyle=this.properties.delayStyle,this.templateConfig={ delayStyle:this.delayStyle },s.default.prototype.initialize.call(this,e),this.model=this.properties.model,this.isServicePanelOpen=!1,this._bindListener();},_bindListener:function(){let e=this;this.model.on('change:selected',function(t){e.$el.addClass('snw-animated'),t.isSelected()?e.$el.fadeIn(500,function(){e.$el.removeClass('snw-animated');}):e.$el.fadeOut(500,function(){e.$el.removeClass('snw-animated'),e.resetBoard(),e.interval&&clearInterval(e.interval);});}),this.listenTo(this.widget.eventBus.bus,'SERVICE_PANEL_BACK',function(){setTimeout(function(){e.$el.is(':visible')&&(e.resizing(),e.$el.fadeIn(500,function(){e.$el.removeClass('snw-animated');}));},10),e.serviceInterval&&clearInterval(e.serviceInterval);}),this.listenTo(this.widget.eventBus.bus,'CLOSE_STATION_PANEL',function(){e.destroy(),e.rowPanel&&e.rowPanel.close();}),this.listenTo(this.eventBus.bus,'SERVICE_SELECTED',function(t,n,i){i||(e.isServicePanelOpen=!0);}),this.listenTo(this.eventBus.bus,'REMOVE_SERVICE',function(t,n){e.isServicePanelOpen=!1;}),this.listenTo(this.eventBus.bus,'SERVICE_PANEL_BACK',function(){e.isServicePanelOpen=!1;});},events:{ 'click tbody tr':'_selectService' },activate:function(){let e=this;this.$el.removeClass('snw-unselected'),s.default.prototype.activate.call(this);let t=this.properties.data.crs,n=this.properties.data.name;this._fillBoard(t,n),this.serviceInterval=setInterval(function(){e._fillBoard(t,n);},1e4),this.model.select();},deactivate:function(){s.default.prototype.deactivate.call(this),this.model.unselect(),this._cancelTimeouts();let e=this.rowPanel||this.stationPanel.rowPanel;e&&e.close();},_fillBoard:function(e,t){let n=this;this._getLiveData(e).done(function(e){n.info=e,n.info.stationName=t,n.resetTable(),n._createTable(e),n.properties.childEl.append(n.el),n.errorService=!1;}).fail(function(){n.errorService=!0,n._createTable({ stationName:t });});},_getLiveData:function(e){let t=this,n=o.default.Deferred(),i=d.default.stringFormat(this.request,[e]);return o.default.getJSON(i,function(e){let i=t._normalizeData(e);n.resolve(i);}).fail(function(){n.reject();}),n.promise();},_normalizeData:function(e){throw new Error('LiveBoard::normalize data method needs an implementation in the extending class');},_normalizeSubsequentStations:function(e){if(!e.subsequentCallingPoints)return[];let t=e.subsequentCallingPoints.callingPointList,n=[];return c.default.each(t.callingPoint,function(e){n.push(e);}),n;},_normalizePreviousStations:function(e){if(!e.previousCallingPoints)return[];let t=e.previousCallingPoints.callingPointList,n=[];return c.default.each(t.callingPoint,function(e){n.push(e);}),n;},_getDelay:function(e){let t={},n=this.widget.polyglot;if('On time'===e.estimated)t={ status:n.t('liveBoard.ontime'),expected:e.expected,className:'ontime',color:this.delayStyle&&this.delayStyle.ontime?this.delayStyle.ontime.color:null,delay:{ delayClass:'ontime' } };else if(e.isCancelled)t={ status:n.t('liveBoard.cancelled'),expected:'--:--',className:'cancelled',color:this.delayStyle&&this.delayStyle.cancelled?this.delayStyle.cancelled.color:null };else{let i=this._getDelayInfo(e.expected,e.estimated);t={ status:'ontime'!==i.delayClass&&'minorDelay'!==i.delayClass?n.t('liveBoard.delayed'):n.t('liveBoard.ontime'),expected:'Delayed'===e.estimated?'--:--':e.estimated,className:i.delayClass,color:this.delayStyle&&this.delayStyle[i.delayClass]?this.delayStyle[i.delayClass].color:null,delay:i };}return t;},_getDelayInfo:function(e,t){let n='',i=void 0;return'Delayed'===t?n='severeDelay':(i=this._calculateDelay(e,t),n=this._getClassByDelay(i)),{ delayClass:n,delay:i };},_calculateDelay:function(e,t){let n=new Date,i=n.setHours(e.split(':')[0],e.split(':')[1]),a=n.setHours(t.split(':')[0],t.split(':')[1]),s=a-i,r=!1,o=s/36e5;if(o>12&&o<24||o<-12&&o>-24)if(s<0){let l=i-864e5;s=a-l;}else{let c=a-864e5;s=i-c,r=!0;}else s<0&&(s=i-a,r=!0);let u=new Date(s);return(r?-u:u)/6e4;},_getClassByDelay:function(e){let t=this.delayStyle&&this.delayStyle.minorDelay?this.delayStyle.minorDelay.time||15:15,n=this.delayStyle&&this.delayStyle.severeDelay?this.delayStyle.severeDelay.time||29:29;return e>0?e<=t?'minorDelay':e<n?'moderateDelay':'severeDelay':e<0?'ontime':'minorDelay';},_hideErrorsMessages:function(){this.$el.find('.snw-noResults').css('display','none'),this.$el.find('.snw-serviceError').css('display','none');},_createTable:function(e){let t=this,n=this.widget.polyglot,i=this._setTableData(e),a=(0,o.default)('<table>'),s=(0,o.default)('<thead>'),r=(0,o.default)('<tr>');c.default.each(i,function(e){let t=(0,o.default)('<th>');t.html(e.text),r.append(t);}),s.append(r),a.append(s);let l=(0,o.default)('<tbody>');if(c.default.isUndefined(e)||!e.items||0===e.items.length){if(this._hideErrorsMessages(),this.errorService)this.$el.find('.snw-serviceError').css('display','block');else{let u=this.widget.polyglot,p=this.isArrival()?u.t('liveBoard.arrivals'):u.t('liveBoard.departures'),h=d.default.stringFormat(u.t('liveBoard.noResults'),[p,e.stationName]);this.$el.find('.snw-noResults').css('display','block'),this.$el.find('.snw-noResults .snw-noResults-text').html(h);}this.resetBoard();}else this._hideErrorsMessages(),c.default.each(e.items,function(e){let t=(0,o.default)('<tr>');e.className&&'cancelled'===e.className&&t.addClass(e.className),t.attr('id',e.serviceId),c.default.each(i,function(n){let i=(0,o.default)('<td>'),a=(0,o.default)('<span>');i.addClass(n.field+' '+(e[n.className]?e[n.className]:'')),e[n.color]&&'expected'===n.field&&'ontime'!==n.className&&('cancelled'===n.className?a.attr('style','background-color:'+e[n.color]):a.attr('style','color:'+e[n.color])),a.html(e[n.field]||''),i.append(a),t.append(i);}),l.append(t);});a.append(l);let f=s.clone(),m=(0,o.default)('<tr>'),y=(0,o.default)('<td>');y.attr('colspan',i.length),y.addClass('snw-countdown'),this.countTime=0,y.html(d.default.stringFormat(n.t('liveBoard.lastUpdateText'),[this.countTime.toString()])),this.countdown=setInterval(function(){let e=t.$el.find('.snw-countdown');++t.countTime<10&&e.html(d.default.stringFormat(n.t('liveBoard.lastUpdateText'),[t.countTime.toString()]));},1e3),m.append(y),0===this.$el.find('thead:first-child tr').children().length&&(f.append(m),f.css('opacity',0),this.$el.prepend(f)),this.$el.find('.snw-table').append(a),setTimeout(function(){t.$el.is(':visible')&&f.css('opacity',1);},0),this._handleSelectedRow(),this._handleResizing(e);},_handleResizing:function(e){let t=this;this.resizing=function(){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.resetTable(),t._createTable(e);},10);},(0,o.default)(window).resize(function(e){t.resizing&&t.resizing();});},_changeHeaderSizes:function(e,t){c.default.each(e,function(e,n){(0,o.default)(e).css('width',(0,o.default)(t[n]).css('width'));});},_setTableData:function(e){throw new Error('LiveBoard::set table data method needs an implementation in the extending class');},_selectService:function(e){let t=this,n=e.currentTarget.id,i=this.properties.data.crs,a=this.properties.data.name;this._getLiveData(i).done(function(i){let s=c.default.find(t.info.items,function(e){return e.serviceId===n;});t.info=i,t.info.stationName=a,t.errorService=!1,c.default.extend(s,{ crs:t.info.crs,isArrival:t.isArrival() }),t.widget.isMobile?t.widget.bus.trigger('SERVICE_SELECTED',n,s):(t._createRowPanel(n,s,e.currentTarget),t.widget.bus.trigger('SERVICE_SELECTED',n,s,!0));}).fail(function(){t.errorService=!0,t._createTable({ stationName:a });});},_createRowPanel:function(e,t,n){this.rowPanel?this.rowPanel.update({ serviceId:e,serviceInfo:t,row:n }):this.rowPanel=new h.default({ widget:this.widget,serviceId:e,serviceInfo:t,row:n,styles:this.widget.config.customStyle,stationPanel:this.stationPanel });},_handleSelectedRow:function(){let e=this;if(this.rowPanel=this.rowPanel||this.stationPanel.rowPanel,this.rowPanel&&this.rowPanel.row)if(this.widget.isMobile)this.rowPanel.close(null,null,this.isServicePanelOpen);else{let t=this.$el.find('tr'),n=c.default.find(t,function(t){return t.id===e.rowPanel.serviceId;});n?this._createRowPanel(this.rowPanel.serviceId,this.rowPanel.serviceInfo,n):this.rowPanel.close(null,null,this.isServicePanelOpen);}},isArrival:function(){throw new Error('Must be implemented in derivate classes');},resetBoard:function(){this.$el.find('thead').remove(),this.resetTable(),this.resizing=null;},resetTable:function(){this.countdown&&clearInterval(this.countdown),this.$el.find('.snw-table').attr('style',''),this.$el.find('.snw-table').empty(),this.resizing=null;},_cancelTimeouts:function(){this.interval&&clearInterval(this.interval),this.countdown&&clearInterval(this.countdown),this.serviceInterval&&clearInterval(this.serviceInterval);},destroy:function(){this.$el.remove(),this._cancelTimeouts();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(54),s=i(a),r=n(0),o=i(r),l=n(1),c=i(l);t.default=s.default.extend({ initialize:function(e){this.breakPoint=!!this.widget.config.breakpoints&&parseInt(this.widget.config.breakpoints.maxTablet.split('px')[0]),this.defaultPosition=e.position,this.isChild=!1,this._setPosition(),s.default.prototype.initialize.call(this,e),this._bindListeners(e.map);},_bindListeners:function(e){let t=this;google.maps.event.addListener(e,'resize',function(){google.maps.event.addListenerOnce(e,'idle',function(){t._changePosition();});});},_setPosition:function(){this.widgetWidth=this.widget.$el.width(),this.widgetWidth>this.breakPoint?this.position=this.defaultPosition:this.position=!1;},_changePosition:function(){let e=this.widget.$el.width();(e<=this.breakPoint&&this.widgetWidth>this.breakPoint||e>this.breakPoint&&this.widgetWidth<=this.breakPoint)&&(this.remove(),this._setPosition(),this.rerender());},remove:function(){let e=this;if(this.position){let t=this.map.controls[google.maps.ControlPosition[this.position]],n=t.getArray();o.default.find(n,function(n,i){n.className===e.el.className&&(t.removeAt(i),e.className=n.className);});}else this.widget.$el.find('.snw-maps-widget-container').find('.'+this.el.className).remove();},rerender:function(){this.position?this.map.controls[google.maps.ControlPosition[this.position]].push(this.el):(this.$el.removeAttr('style'),this.widget.$el.find('.snw-maps-widget-container').append(this.el));},_createMessageEl:function(e){return(0,c.default)('<div id="'+e.id+'" class="snw-message-control snw-message snw-'+e.type+' '+e.msgId+'">\n      <div class="snw-icon snw-icon-'+e.type+'"></div>\n      <div class="snw-message-text">'+e.text+'\n      </div>\n      <div class="snw-icon snw-icon-close"></div>\n    </div>');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(55),s=i(a),r=n(4),o=i(r),l=n(8),c=i(l),u=n(0),d=i(u),p=n(9);t.default=s.default.extend({ initialize:function(e){let t=this;s.default.prototype.initialize.call(this,e),this.widget.myLocation=this,this.hide(),this.listenTo(this.eventBus.bus,'GET_MYLOCATION',function(e){t.getLocation(function(n){if(n){let i='string'==typeof n?JSON.parse(n):n;t.showMyLocation(i,e);}});});},events:{ click:'requestLocation' },requestLocation:function(){let e=this;this.getLocation(function(t){if(t){let n='string'==typeof t?JSON.parse(t):t;e.showMyLocation(n,null);}});},getLocation:function(e){'undefined'!=typeof LocationInterface?LocationInterface.getLocation(e):o.default.requestUserPosition().done(function(t){let n={ lat:t.lat(),lng:t.lng() };e(n);});},showMyLocation:function(e,t){if(e){this.show();let n=new google.maps.LatLngBounds({ lat:this.widget.config.defaultView.bounds.swLat,lng:this.widget.config.defaultView.bounds.swLng },{ lat:this.widget.config.defaultView.bounds.neLat,lng:this.widget.config.defaultView.bounds.neLng });e=new google.maps.LatLng(e.lat,e.lng),c.default.containPointInBBox(n,e)?(this._createMyLocationMarker(e),t?t.resolve(e):this._centerMap(e)):(this._showNotAllowedAreaMsg(),this.marker.setMap(null),t&&t.reject()),this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'myLocation',position:e }),this.widget.eventBus.bus.trigger('LOCATION_REQUESTED',e);}else this.hide(),t&&t.reject();},_createMyLocationMarker:function(e){d.default.isUndefined(this.marker)||this._deleteMyLocationMarker();let t=this.properties;if(!t||d.default.isUndefined(t.iconMarker)&&!t.richMarkerClass)this.marker=new google.maps.Marker({ position:e,draggable:!1,map:this.widget.map });else{let n=void 0,i=void 0;d.default.isObject(t.iconMarker)&&t.iconMarker.url?(n='<img src="'+o.default.getImgUrl(t.iconMarker.url,this.widget)+'"\n           width="'+t.iconMarker.width+'px"  height="'+t.iconMarker.height+'px">',i='<div class="marker-icon">'+n+'</div>'):d.default.isString(t.iconMarker)?(n='<i class="'+t.iconMarker+'"></i>',i='<div class="marker-icon">'+n+'</div>'):t.richMarkerClass?i='<div class="'+t.richMarkerClass+'">':(n='<i class="snw-md-icon-pin"></i>',i='<div class="marker-icon">'+n+'</div>'),this.marker=new p.RichMarker({ shadow:'none',content:i,map:this.widget.map,position:e,zIndex:10 });}},_centerMap:function(e){this.map.panTo(e),this.map.setZoom(this.properties.zoomTargetMyLoc);},show:function(){s.default.prototype.show.call(this),this.$el.css('display','flex');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(0),o=i(r),l=n(114),c=i(l),u=n(1),d=i(u);t.default=s.default.extend({ template:n(152),initialize:function(e){let t=this;this.directionsBox=e.directionsBox,this.iconsProperties=e.iconsProperties,this.origin=this.directionsBox.getOrigin(),this.destination=this.directionsBox.getDestination(),this.isFavourite=this._isFavourite(this.origin,this.destination)>-1,this.templateConfig.isFavourite=this.isFavourite,o.default.extend(this.templateConfig,e.properties),s.default.prototype.initialize.call(this,e),this.closeDetails=e.closeDetails,this.directionsBox=e.directionsBox,this.$el.replaceWith(this.render().$el),this.$el.show(),this._fillPanel(e.routePanel),this._applyStyles(),setTimeout(function(){t._calculateHeight();},10),this.listenTo(this.eventBus.bus,'CHANGE_SCREEN_SIZE',function(e){e||(t._uncollpaseToDesktopVersion(),t._calculateHeight());}),e.properties.originalRouteforAlternatives&&e.fromEvent&&(this.disclaimerShown=!0,this._showDisclaimerMessage());},events:{ 'click .back-btn':'_clickOnBack','click .snw-disruption-check':'_showDisruptionMsg','click .snw-disruption-msg i':'_hideDisruptionMsg','click .snw-cta-see-route':'_collapseToMobileVersion','click .snw-cta-back-details':'_uncollpaseToDesktopVersion','click .snw-alternative-routes':'_clickOnAlternativesRoutes','click .snw-favourite-route':'_toggleFavouriteRoute','click .snw-disclaimer-message .close':'_closeDisclaimerMessage' },destroy:function(){this.remove(),this.widget.eventBus.bus.trigger('CLOSE_ALL_PANELS');},_clickOnBack:function(){let e=this;if('ALTERNATIVE'===this.properties.id){let t={ cb:function(){e.remove();} };this.directionsBox.requestJourney(t);}else this.$el.closest('.snw-journey-container').find('.snw-cta-see-map').show(),this.remove();this.widget.eventBus.bus.trigger('CLOSE_DETAILS');},remove:function(){this.$el.closest('.snw-journey-container').removeClass('snw-journey-container-collapse'),this.$el.removeClass('snw-service-container-collapse'),this.$el.remove(),this.closeDetails();},_fillPanel:function(e){this.children=[],this.children.push(e),this.serviceRoute=new c.default({ properties:{ stationsIcon:this.iconsProperties.iconUrl,stationsIconSelected:this.iconsProperties.iconUrlSelected,iconPath:this.iconsProperties.iconsPath,transitIcon:this.iconsProperties.transitIcon },widget:this.widget,isArrival:this.isArrival,route:this.properties,isChild:!0,parent:this }),this.children.push(this.serviceRoute),this._replaceContent();},_replaceContent:function(){let e=this.$el.find('.snw-service-content'),t=this.$el.find('.snw-service-content').clone();o.default.each(this.children,function(e){let n=e.el.cloneNode(!0);t.append(n);}),e.replaceWith(t);},_applyStyles:function(){o.default.isObject(this.widget.config.customStyle)&&(this.$el.find('.back-btn').css({ color:this.widget.config.customStyle.primaryColor }),this.$el.find('.snw-cta-see-route').css({ 'background-color':this.widget.config.customStyle.tertiaryColor,color:this.widget.config.customStyle.secondaryColor }),this.$el.find('.snw-cta-back-details').css({ color:this.widget.config.customStyle.tertiaryColor }),this.$el.find('.snw-favourite-route').css({ color:this.widget.config.customStyle.primaryColor }),this.$el.find('.snw-favourite-route.isFavourite').css({ color:this.widget.config.customStyle.primaryColor }));},_calculateHeight:function(){let e=this.$el.find('.snw-service-steps').offset().top,t=this.widget.$el.height(),n=this.widget.$el.find('.snw-journey-container').css('margin')?this.widget.$el.find('.snw-journey-container').css('margin').split('px')[0]:'15px';this.$el.find('.snw-service-steps').css('max-height',t-e-parseInt(n)+'px');},_calculatePositionToInCollapsePanel:function(){let e=this.$el.closest('.snw-journey-container'),t=e.find('.snw-journey-header').height();this.$el.css({ top:t+'px' });let n=this.widget.$el.find('.snw-maps-widget-container').height()-126-t;this.$el.find('.snw-service-content').css({ position:'relative',top:n+'px' }),this.$el.find('.snw-delayed-time-collapse .snw-alternative-routes').css({ bottom:'66px' });},_collapseToMobileVersion:function(){this._hideDisclaimerMessage(),this.$el.find('.snw-cta-see-route').css({ display:'none' }),this.$el.closest('.snw-journey-container').addClass('snw-journey-container-collapse'),this._calculatePositionToInCollapsePanel(),this.$el.addClass('snw-service-container-collapse'),this.$el.closest('.snw-journey-container').find('.snw-cta-see-map').hide(),this._handleResizing(),this.serviceRoute.panelCollapse(),this.eventBus.bus.trigger('SEE_ROUTES');},_uncollpaseToDesktopVersion:function(){this._showDisclaimerMessage(),this.$el.find('.snw-cta-see-route').css({ display:'inline-block' }),this.$el.closest('.snw-journey-container').removeClass('snw-journey-container-collapse'),this.$el.removeClass('snw-service-container-collapse'),this.$el.closest('.snw-journey-container').find('.snw-cta-see-map').show(),this.$el.css({ top:0 }),this.$el.find('.snw-service-content').css({ top:0 }),this.resizing=null,this.serviceRoute.panelUncollapse();},_clickOnAlternativesRoutes:function(){let e=this,t={ alternativeRoute:this.properties,cb:function(){e.remove();} };this.directionsBox.requestJourney(t);},_handleResizing:function(e){let t=this;this.resizing=function(){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){t._calculatePositionToInCollapsePanel();},10);},(0,d.default)(window).resize(function(e){t.resizing&&t.resizing();});},_isFavourite:function(e,t){let n=localStorage.getItem('favouriteRoutes')?JSON.parse(localStorage.getItem('favouriteRoutes')):[];return o.default.findIndex(n,function(n){let i=e.crs||e.placeId,a=t.crs||t.placeId,s=n.originCrs||n.originPlaceId,r=n.destinationCrs||n.destinationPlaceId,o=i===s,l=a===r;return o&&l;});},_toggleFavouriteRoute:function(e){let t=localStorage.getItem('favouriteRoutes')?JSON.parse(localStorage.getItem('favouriteRoutes')):[];if(this.isFavourite)t.splice(this._isFavourite(this.origin,this.destination),1),(0,d.default)(e.target).removeClass('isFavourite');else{let n=[this.origin.crs,this.destination.crs];t.push({ createdAt:(new Date).getTime().toString(),origin:n[0]&&3===n[0].length?this.origin.value.slice(0,this.origin.value.indexOf('(')-1):this.origin.value,originCrs:n[0]&&3===n[0].length?n[0]:null,originPlaceId:this.origin.placeId,destination:n[1]&&3===n[1].length?this.destination.value.slice(0,this.destination.value.indexOf('(')-1):this.destination.value,destinationCrs:n[1]&&3===n[1].length?n[1]:null,destinationPlaceId:this.destination.placeId,originCoord:this.origin.marker.getPosition(),destinationCoord:this.destination.marker.getPosition() }),(0,d.default)(e.target).addClass('isFavourite');}localStorage.setItem('favouriteRoutes',JSON.stringify(t)),this.widget.eventBus.bus.trigger('CHANGE_FAVOURITE_STORAGE'),this._applyStyles();},_showDisruptionMsg:function(e){let t=(0,d.default)(e.target).closest('.snw-service-step-station');t.find('.snw-disruption-msg').slideDown(500),t.find('.snw-disruption-check').slideUp(500);},_hideDisruptionMsg:function(e){let t=(0,d.default)(e.target).closest('.snw-service-step-station');t.find('.snw-disruption-msg').slideUp(500),t.find('.snw-disruption-check').slideDown(500);},_showDisclaimerMessage:function(){this.disclaimerShown&&this.$el.find('.snw-disclaimer-message').show();},_hideDisclaimerMessage:function(){this.disclaimerShown&&this.$el.find('.snw-disclaimer-message').hide();},_closeDisclaimerMessage:function(e){let t=(0,d.default)(e.target).closest('.snw-disclaimer-message');this.disclaimerShown=!1,t.slideUp(500);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(106),o=i(r),l=n(108),c=i(l),u=n(110),d=i(u),p=n(0),h=i(p);t.default=s.default.extend({ template:n(153),events:{ 'click .snw-options-mode-selector':'_closeTimeMode','click .snw-options-more-options':'_closeTimeMode' },initialize:function(e){let t=this;this.components=e.properties.journeyOptions,this._createComponents(e),s.default.prototype.initialize.call(this,e),this.listenTo(this.widget.eventBus.bus,'CHANGE_TRAVEL_TIME_MODE',function(e){e&&t._addNewDateDeparture(e);});},_closeTimeMode:function(e){this.timeMode.closeTimeSelector();},_createComponents:function(e){let t=this;setTimeout(function(){h.default.isObject(t.components.timeSelector)&&t._createTimeMode(e),t.components.modeSelector&&t._createModeSelector(e),t.components.moreOptions&&t._createTransportOptions(e),t.components.timeSelector||t.components.modeSelector||t.components.moreOptions||t.$el.parent().hide(),t.hideSubComponents();},100);},_createTimeMode:function(e){let t=this.$el.find('.snw-options-time-selector');t.css('opacity',1),this.timeMode=new o.default(e),t.append(this.timeMode.el);},_createModeSelector:function(e){let t=this.$el.find('.snw-options-mode-selector');t.css('opacity',1),this.transportMode=new c.default(e),t.append(this.transportMode.el);},_createTransportOptions:function(e){let t=this.$el.find('.snw-options-more-options');t.css('opacity',1),this.transportOptions=new d.default(e),t.append(this.transportOptions.el);},_addNewDateDeparture:function(e){let t='',n=e.time,i=this.$el.find('.snw-options-date-departure span');n&&(t=new Date(n).toLocaleDateString('en-UK',{ month:'short',day:'numeric' })),i.text(t);},resetSubComponents:function(){this.transportMode.resetDefaultValues(),this.transportOptions.resetTransportOptions();},hideSubComponents:function(){this.transportMode.$el.hide(),this.transportOptions.$el.hide();},showSubComponents:function(){this.transportMode.$el.show(),this.transportOptions.$el.show();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(1),o=i(r),l=n(107),c=i(l);n(16),n(221),t.default=s.default.View.extend({ template:n(154),initialize:function(e){s.default.View.prototype.initialize.call(this,e),this.widget=e.widget,this.templateConfig={ timeModeView:this.widget.polyglot.t('routeOptions.leaveNow') },this._createSubView(),this.timeMode='leaveNow',this.render(),this._applyCustomStyles();},events:{ 'click .snw-selected-time':'_toggleTimeSelector','click .snw-parameters-timeselector li':'_changeTimeSelector' },restoreSelect:function(){this.$el.find('.snw-selected-time').html(this.templateConfig.timeModeView);},_createSubView:function(){let e=this;setTimeout(function(){e.timeModePanel=new c.default({ parent:e });});},_renderSubView:function(){let e=(0,o.default)('.snw-routes-options-container');(0,o.default)('.ui-timepicker-wrapper').remove(),this.timeModePanel.$el.remove(),this.timeModePanel.render(),e.append(this.timeModePanel.$el);},_closePanel:function(){this.$el.find('#datePickerElement').css('display','none');},_toggleTimeSelector:function(){'none'===this.$el.find('.snw-parameters-timeselector').css('display')?this.$el.find('.snw-parameters-timeselector').css('display','inline-block'):this.closeTimeSelector();},_changeTimeSelector:function(e){e.stopPropagation();let t=(0,o.default)(e.target).closest('li')[0].id;this.timeMode=t,'departAt'===t||'arriveBy'===t?(this._renderSubView(),this.timeModePanel.$el.parent().show()):'leaveNow'===t&&(this.$el.find('.snw-selected-time').html((0,o.default)(e.target).closest('li').html()),this.timeModePanel.$el.parent().hide(),this.timeModePanel.resetDateTime(),this.widget.eventBus.bus.trigger('CHANGE_TRAVEL_TIME_MODE',{ time:null,timeMode:t })),this.closeTimeSelector(),this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'selectedTimeMode',error:null,typeTime:t });},getTimeMode:function(){return this.timeMode;},render:function(){return this.setElement(this.template(this.templateConfig)),this;},closeTimeSelector:function(){this.$el.find('.snw-parameters-timeselector').css('display','none');},changePickersToJorney:function(e){let t=void 0;'arriveBy'===this.timeMode?t='arrivalTime':'departAt'===this.timeMode&&(t='departureTime'),this.templateConfig.timeModeView=this.widget.polyglot.t('routeOptions.'+this.timeMode),this.restoreSelect(),this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'selectedDate',error:null,date:e.toString() }),this.widget.eventBus.bus.trigger('CHANGE_TRAVEL_TIME_MODE',{ time:e,timeMode:t });},_applyCustomStyles:function(){this.$el.find('.snw-parameters-timeselector li').css('color',this.widget.config.customStyle.primaryColor);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r);n(209);let l=n(1),c=i(l);t.default=s.default.View.extend({ template:n(155),events:{ 'click .snw-icon-close':'close','click #datePickerElement .ui-timepicker-wrapper li:not(.ui-timepicker-disabled)':'_changePickers','change #datePickerElement #datepicker':'_changePickers','click .divTimePicker':'_disableTimeRanges' },initialize:function(e){s.default.View.prototype.initialize.call(this,e),this.parent=e.parent,this.date=new Date,this.isToday=!0,this.widget=this.parent.widget,this.stylesApplied=!1;},render:function(){let e=this.parent.widget.polyglot.t('routeOptions.'+this.parent.timeMode);return this.templateConfig={ timeMode:e,primaryColor:this.widget.config.customStyle.primaryColor,secondaryColor:this.widget.config.customStyle.secondaryColor },this.setElement(this.template(this.templateConfig)),this.parent.$el.find('.snw-selected-time').html(e),this.createPickers(),this;},createPickers:function(){this.$el.find('#timepicker').timepicker({ step:15,forceRoundTime:!0,timeFormat:'H:i',scrollDefault:'now',appendTo:'.divTimePicker' }).timepicker('setTime',this.date),this.$el.find('.snw-parameters-timeselector-panel').css('display','inline-block');let e=this.widget;this.$el.find('#datepicker').datepicker({ minDate:'now',dateFormat:'D, d M',maxDate:this.parent.widget.config.journeyOptions.timeSelector.dateLimit,beforeShow:function(t,n){let i=n.dpDiv;setTimeout(function(){e.isMobile&&i.position({ my:'right top',at:'right bottom',collision:'none',of:t }),i.addClass('snw-datepicker-popup'),(0,c.default)('.snw-maps-widget-container').append(i);},1);} }).datepicker('setDate',this.date),o.default.isUndefined(this.parent.widget.config.journeyOptions.timeSelector.timeDefault)||this.$el.find('#timepicker').val(this.parent.widget.config.journeyOptions.timeSelector.timeDefault);},_changePickers:function(e){let t=this;'hasDatepicker'===e.currentTarget.className&&this.$el.find('#timepicker').timepicker('setTime',new Date),this.timeOutChangeTime&&(clearTimeout(this.timeOutChangeTime),this.timeOutChangeTime=null),this.timeOutChangeTime=setTimeout(function(){let e=t.$el.find('#datepicker').datepicker('getDate'),n=t.$el.find('#timepicker').val().split(':'),i=new Date(e);t.isToday=i.getDate()===(new Date).getDate()&&i.getMonth()===(new Date).getMonth(),i.setHours(n[0]),i.setMinutes(n[1]),t.date=i,t.parent.changePickersToJorney(i);},500);},_disableTimeRanges:function(e){if('ui-timepicker-input'===e.target.className){if(this.isToday){let t=new Date,n=t.getHours(),i=t.getMinutes()<10?'0'+t.getMinutes():t.getMinutes(),a=n+':'+i;this.$el.find('#timepicker').timepicker('option','disableTimeRanges',[['0am',a]]);}else this.$el.find('#timepicker').timepicker('option','disableTimeRanges',[[]]);this.$el.find('#timepicker').timepicker('isVisible')||this.$el.find('#timepicker').timepicker('show');}},resetDateTime:function(){this.date=new Date;let e=this.date.getTime();this.$el.find('#timepicker').timepicker('setTime',e),this.$el.find('#datepicker').datepicker('setDate',e);},close:function(){this.$el.parent().hide(),this.$el.hide();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(1),s=i(a),r=n(3),o=i(r),l=n(109),c=i(l);t.default=o.default.View.extend({ template:n(156),events:{ click:'showTransportModePanel' },initialize:function(e){this.options=e.properties.journeyOptions,o.default.View.prototype.initialize.call(this,e),this.widget=e.widget,this.templateConfig={ customPrimaryColor:this.widget.config.customStyle.primaryColor,customSecondaryColor:this.widget.config.customStyle.secondaryColor },this.transportModeDefault='transit',this.transportMode=this.transportModeDefault,this.templateConfig.transportMode=this.transportMode,this._createSubView(),this.render();},getTransportMode:function(){return this.transportMode;},render:function(){return this.setElement(this.template(this.templateConfig)),this;},showTransportModePanel:function(){this.rendered||(this._renderSubView(),this.rendered=!0),this.transportModePanel.$el.show(),this.transportModePanel.$el.parent().show();},_createSubView:function(){let e=this;setTimeout(function(){e.transportModePanel=new c.default({ parent:e });});},_renderSubView:function(){let e=(0,s.default)('.snw-routes-options-container');this.transportModePanel.$el.remove(),this.transportModePanel.render(),e.append(this.transportModePanel.el),this._selectedByDefault();},_changeTransportMode:function(e,t){let n='snw-icon-'+this.transportMode,i='snw-icon-'+e,a=this.$el.find('.'+n);a.removeClass(n),a.addClass(i),this.transportMode!==e&&t&&(this.widget.eventBus.bus.trigger('CHANGE_TRAVEL_MODE',e),this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'Means of transport',mode:e })),this.transportMode=e;},_selectedByDefault:function(){for(let e=this.transportModePanel.$el.find('.snw-icon-transport'),t=this.transportMode,n=0;n<e.length;n++)e[n].id===t&&((0,s.default)(e[n]).addClass('snw-mode-selected'),this._changeTransportMode(t));},resetDefaultValues:function(){this._changeTransportMode(this.transportModeDefault,!1),this.transportModePanel.$el.find('.snw-icon-transport').removeClass('snw-mode-selected'),(0,s.default)(this.transportModePanel.$el.find('#'+this.transportModeDefault)).addClass('snw-mode-selected');} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(1),s=i(a),r=n(3),o=i(r);t.default=o.default.View.extend({ template:n(157),events:{ 'click .snw-icon-close':'close','click .snw-icon-transport':'clickOnIcon' },initialize:function(e){o.default.View.prototype.initialize.call(this,e),this.parent=e.parent;},render:function(){return this.setElement(this.template(this.templateConfig)),this;},close:function(){this.$el.parent().hide(),this.$el.hide();},clickOnIcon:function(e){this.close(),this.$el.find('.snw-icon-transport').removeClass('snw-mode-selected'),(0,s.default)(e.target).addClass('snw-mode-selected');this.parent._changeTransportMode(e.target.id,!0);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(1),s=i(a),r=n(3),o=i(r),l=n(111),c=i(l),u=n(0),d=i(u);t.default=o.default.View.extend({ template:n(158),events:{ click:'showTransportOptionsPanel' },initialize:function(e){let t=this;o.default.View.prototype.initialize.call(this,e),this._createSubView(e),this.widget=e.widget,this.templateConfig={ customPrimaryColor:this.widget.config.customStyle.primaryColor,customSecondaryColor:this.widget.config.customStyle.secondaryColor },this.transportModeDefault='transit',this.transportMode=this.transportModeDefault,this.preferenceDefault='train',this.preferenceRadioOptions='best',this.listenTo(this.widget.eventBus.bus,'CHANGE_TRAVEL_MODE',function(e){t.transportMode=e,t._setTransportOptions();}),this.render(),'walking'!==this.transportMode&&'bicycling'!==this.transportMode||this.$el.addClass('snw-disabled');},getTransportOptions:function(){return this.transportOptions;},render:function(){return this.setElement(this.template(this.templateConfig)),this;},showTransportOptionsPanel:function(){'bicycling'!==this.transportMode&&'walking'!==this.transportMode&&(this.rendered||(this._renderSubView(),this.rendered=!0,this._setTransportPreferences(this.preferenceDefault),this._setAvoidPreferences(this.preferenceRadioOptions)),this.transportOptionsPanel.$el.show(),this.transportOptionsPanel.$el.parent().show());},_renderSubView:function(){let e=(0,s.default)('.snw-routes-options-container');this.transportOptionsPanel.$el.remove(),this.transportOptionsPanel.render(),e.append(this.transportOptionsPanel.el),this._setTransportOptions();},_createSubView:function(e){let t=this;e.parent=this,setTimeout(function(){t.transportOptionsPanel=new c.default(e);});},_setTransportOptions:function(){let e=this;'driving'===this.transportMode?(this.transportOptionsPanel.$el.find('.snw-transport-options-transit').hide(),this.transportOptionsPanel.$el.find('.snw-transport-options-driving').show(),this.$el.removeClass('snw-disabled')):'transit'===this.transportMode?(this.transportOptionsPanel.$el.find('.snw-transport-options-driving').hide(),this.transportOptionsPanel.$el.find('.snw-transport-options-transit').css('display','flex'),this.$el.removeClass('snw-disabled')):(this.$el.off('click'),this.$el.addClass('snw-disabled')),this.$el.unbind('click'),this.$el.on('click',function(){e.showTransportOptionsPanel();});},_setTransportPreferences:function(e){e=e||'',e=e.split(',');let t=['train','bus','subway','tram'];d.default.forEach(t,function(t){(0,s.default)('#snw-option-'+t.trim()).prop('checked',e.indexOf(t)>-1);});},_setAvoidPreferences:function(e){e=e||'',e=e.split(',');let t=['best','fewertransfers','lesswalking'];d.default.forEach(t,function(t){(0,s.default)('#snw-option-'+t.trim()).prop('checked',e.indexOf(t)>-1);});},_toggleCheckBox:function(e){e.forEach(function(e){let t=(0,s.default)('#snw-option-'+e.trim());t.prop('checked',!t.prop('checked'));});},_setRouteType:function(e){(0,s.default)('#snw-option-'+e).prop('checked',!0);},resetTransportOptions:function(){this.transportMode=this.transportModeDefault,this.transportOptionsPanel.routeOptions.modes=[this.preferenceDefault],this._setTransportOptions(),this._setTransportPreferences(this.preferenceDefault),this._setAvoidPreferences(this.preferenceRadioOptions);} });},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i=n(3),a=function(e){return e&&e.__esModule?e:{ default:e };}(i);t.default=a.default.View.extend({ template:n(159),events:{ 'click .snw-icon-close':'close','click .snw-option-checkbox':'clickOnCheckboxOption','change .snw-option-radio':'clickOnRadioOption' },initialize:function(e){a.default.View.prototype.initialize.call(this,e),this.parent=e.parent,this.widget=e.widget,this.routeOptions={ modes:['train'],routingPreference:[] },this.drivingOptions={ avoid:[] };},render:function(){return this.setElement(this.template(this.templateConfig)),this;},close:function(){this.$el.hide(),this.$el.parent().hide();},clickOnCheckboxOption:function(e){let t=null;if('transit'===this.parent.transportMode){let n=this.routeOptions.modes.indexOf(e.target.value);if(e.target.checked&&n<0)'train'===e.target.value?(this.parent._toggleCheckBox(this.routeOptions.modes),this.routeOptions.modes=[]):this.routeOptions.modes.indexOf('train')>-1&&(this.parent._toggleCheckBox(['train']),this.routeOptions.modes.splice(this.routeOptions.modes.indexOf('train'),1)),this.routeOptions.modes.push(e.target.value);else if(!e.target.checked&&n>=0){if(this.routeOptions.modes.length<2)return void this.parent._toggleCheckBox(this.routeOptions.modes);for(var i=[],a=0;a<this.routeOptions.modes.length;a++)a!==n&&i.push(this.routeOptions.modes[a]);this.routeOptions.modes=i;}t=this.routeOptions;}else if('driving'===this.parent.transportMode){if(e.target.checked)this.drivingOptions.avoid.push(e.target.value);else{let s=this.drivingOptions.avoid.indexOf(e.target.value);this.drivingOptions.avoid.splice(s,1);}t=this.drivingOptions;}t.travelMode=this.parent.transportMode,this.widget.eventBus.bus.trigger('CHANGE_ROUTE_PARAMS',t),e.target.checked&&this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'Types of route',selected:e.target.value });},clickOnRadioOption:function(e){this.routeOptions.routingPreference=[],'best'!==e.target.value&&this.routeOptions.routingPreference.push(e.target.value),this.routeOptions.travelMode=this.parent.transportMode,this.widget.eventBus.bus.trigger('CHANGE_ROUTE_PARAMS',this.routeOptions),this.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'Types of route',route:e.target.value });} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(0),o=i(r),l=n(113),c=i(l),u=n(1),d=i(u),p=n(104),h=i(p),f=n(11),m=i(f);t.default=s.default.extend({ template:n(160),initialize:function(e){let t=this;this.panel=e.properties.panel,this.iconsProperties=e.properties.directionsMarkers,this.widget=e.widget,this.listenTo(this.widget.eventBus.bus,'BACK_TO_ALTERNATIVE_ROUTE',function(e){t._openDetails(e,null,!1),t.widget.eventBus.bus.trigger('LOAD_SERVICE_STATIONS',e.transitStops),e.routeModel.set('visibility',!0);}),this.listenTo(this.widget.eventBus.bus,'CLOSE_DETAILS',function(){let e=t.routes.routesDetails.filter(function(e){return'ALTERNATIVE'!==e.id;});t.widget.eventBus.bus.trigger('FILTER_INCIDENTS',{ arr:m.default.getCallingPointsFromJourney(e),alternatives:e,activeRoute:!0 });}),s.default.prototype.initialize.call(this,e);},_applyStyles:function(){o.default.isObject(this.widget.config.customStyle)&&(this.$el.find('.snw-service-delayed .snw-details').css({ color:this.widget.config.customStyle.tertiaryColor }),this.$el.find('.snw-service-details .snw-cta-see-map-list-routes').css({ color:this.widget.config.customStyle.tertiaryColor }));},update:function(e,t){let n=this;this.templateConfig={ strFrom:t.origin.value,strTo:t.destination.value },this.routes=e,this.data=t,this.emptyPanel(),this._createRoutesList(e,function(){n.widget.eventBus.bus.trigger('CLOSE_DETAIL');}),this._applyStyles(),this.$el.parent().animate({ scrollTop:0 },'fast');},emptyPanel:function(){let e=this.$el.find('.snw-routes-list');this.$el.find('.snw-routes-list').parent().parent().hide(),e.removeClass('hasRoutes'),e.empty(),this.routesPanel={},o.default.each(this.routeItemList,function(e){e&&(e.$el.remove(),e.destroy());}),this.routeItemList={};},_createRoutesList:function(e,t){let n=this,i=e.routesView||e,a=e.departureTime;if(this.routeItemList={},i.routesDetails.length>0){this.$el.find('.snw-routes-list').parent().parent().show();let s=this.$el.find('.snw-routes-list');s.addClass('hasRoutes'),o.default.each(i.routesDetails,function(e){if('ALTERNATIVE'!==e.id){e.mMode=i.mMode,e.transitMode=i.transitMode,e.isTrainMode=i.isTrainMode,e.id='route-'+e.id,e.departureTime=a,n.routesPanel[e.id]=e;let t=(0,d.default)('<li>');t.addClass('snw-route'),t.attr('id',e.id);let r=n._newLayerItem(e);n.routeItemList[e.id]=r,n._bindListener(e),t.append(r.$el),s.append(t);}});}},_newLayerItem:function(e){let t=e?this._normalizeRouteData(e):{},n=e.isWalking;return!0!==n&&!0===(n=e.leg.every(function(e){return'WALK'===e.mode;}))&&(t.fromRoute=e.from,t.toRoute=e.to),new c.default({ map:this.map,widget:this.widget,isChild:!0,globalPosition:this.globalPosition,panel:this.panel,data:t,parent:this,isWalking:n,isTrain:e.isTrain,properties:{ fromJP:!0,originalRouteforAlternatives:e.originalRouteforAlternatives,mMode:e.mMode,transitMode:e.transitMode,routeId:e.id },leg:e.leg });},_normalizeRouteData:function(e){let t=o.default.isObject(e.timetable.realtime)?e.timetable.realtime:e.timetable.scheduled,n=m.default.toFormatedTimeString(t.departure,this.widget),i=m.default.toFormatedTimeString(t.arrival,this.widget);return o.default.extend({ from:{ fromTime:new Date(t.departure).getTime(),time:n,strPlace:e.from },to:{ toTime:new Date(t.arrival).getTime(),time:i,strPlace:e.to },platform:e.leg[0].originPlatform,transbords:e.leg,summary:e.summary,googleDuration:e.duration,numOperators:this._getNumOperators(e) },this.getDelayClassAndColours(e));},_bindListener:function(e){let t=this;e.routeModel.on('change:highlighted',function(n){n.isHovered()?t.hoverRoute(e):t.leaveRoute(e);}),e.routeModel.on('change:selected',function(n){n.isSelected()?t.selectRoute(e):t.unSelectRoute(e);});},selectRoute:function(e){let t=this.$el.find('#'+e.id);t.addClass('selected'),t.removeClass('highlighted'),this._applyStyles(),this.widget.eventBus.bus.trigger('CLOSE_DETAILS',e);},unSelectRoute:function(e){this.$el.find('#'+e.id).removeClass('selected');},hoverRoute:function(e){this.$el.find('#'+e.id).addClass('highlighted');},leaveRoute:function(e){this.$el.find('#'+e.id).removeClass('highlighted');},_setPanelFirst:function(e){let t=this,n=this.$el.find('.snw-routes-list'),i=this.routeItemList[e[0].id],a=i.render();e.slideUp(500,function(){e.empty(),e.append(a.$el),n.prepend(e),t._applyStyles(),e.hide(),e.slideDown(500);});},_isFirstRoute:function(e){return this.$el.find('.snw-routes-list').children().first()[0].id===e[0].id;},events:{ 'click li':'_clickRoute','mouseover li':'_mouseoverRoute','mouseout li':'_mouseoutRoute','click .snw-details':'_openDetailsEvent' },collpaseListPanel:function(e){this.parentComponent.collapseListPanel();},_clickRoute:function(e){this.routesPanel[(0,d.default)(e.target).closest('li.snw-route')[0].id].routeModel.onSelect();},_mouseoverRoute:function(e){this.routesPanel[(0,d.default)(e.target).closest('li.snw-route')[0].id].routeModel.onHover();},_mouseoutRoute:function(e){this.routesPanel[(0,d.default)(e.target).closest('li.snw-route')[0].id].routeModel.onLeave();},_openDetailsEvent:function(e){this._clickRoute(e),e.stopPropagation();let t=(0,d.default)(e.target).closest('li.snw-route')[0].id,n=this.routesPanel[t];this._openDetails(n,t,!0),this.widget.eventBus.bus.trigger('OPEN_DETAILS');},_openDetails:function(e,t,n){let i=this;e.routeModel.set('detailsOpen',!0),this._toggleRoutes(e,!1);let a=new h.default({ properties:o.default.extend(e,{ from:this.data.origin.value,to:this.data.destination.value,numOperators:this._getNumOperators(e) }),fromEvent:n,widget:this.widget,routePanel:n?this.routeItemList[t]:this._newLayerItem(e),isChild:!0,closeDetails:function(){i.widget.detailsShown=!1,e.routeModel.set('detailsOpen',!1),i.panel.show(),i.show(),i._toggleRoutes(e,!0);},iconsProperties:this.iconsProperties,directionsBox:this.parentComponent });this.widget.eventBus.bus.trigger('FILTER_INCIDENTS',{ arr:m.default.getCallingPointsFromJourney([e]),alternatives:[e],activeRoute:!0 }),this.widget.detailsShown=!0,this.panel.hide(),this.hide(),this.panel.parent().prepend(a.el);},getDelayClassAndColours:function(e){e.timetable.scheduledTimes=e.timetable.scheduled,e.realtime={ updatedTimes:e.timetable.realtime?e.timetable.realtime:e.leg[0].timetable.realtime };let t=m.default.getDelayClassFromRoute(e,this.widget);return t.delay={ delay:t.delay,delayClass:t.delayClass },t;},_toggleRoutes:function(e,t){e.routeModel.set('noHighlighted',!t),t&&e.routeModel.set('visibility',!1);let n=e.routeModel.collection;if(n){let i=new google.maps.LatLngBounds;n.each(function(n){n!==e.routeModel?n.set('visibility',t):n.set('visibility',!0);let a=n.get('bounds');a&&i.union(a);}),this.map.fitBounds(i);}},_getNumOperators:function(e){let t=0;return e.leg.map(function(e){t=e.operator?t+1:t;}),t;} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t,n){return n===S?t?e.departureTime:e.arrivalTime:n===C?e.scheduledTime?e.scheduledTime:t?e.scheduledTimeDeparture:e.scheduledTimeArrival:void 0;}function s(e,t){return t?e.st||e.std:e.st||e.sta;}function r(e,t){return e.delayMin?t?e.et||e.etd||e.at||e.atd:e.et||e.eta||e.at||e.ata:s(e,t);}function o(e,t,n){let i=void 0;i=(t-e)/b;let a=Math.floor(i/60),s=Math.floor(i%60),r=(a>0?a+'h':'')+' '+(s>0?s+'min':'');return{ strDuration:' '!==r&&r,milisecondsDuration:t-e };}function l(e,t,n){let i=void 0,a=void 0;if(u.default.isUndefined(t)||t<=0)switch(e){case'ontime':case'minorDelay':i=n.t('liveBoard.ontime');break;case'cancelled':i=n.t('liveBoard.cancelled');break;default:i=n.t('liveBoard.delayed');}else a=t>0?n.t('serviceBoard.late'):n.t('serviceBoard.before'),i=t+' '+a;return i;}Object.defineProperty(t,'__esModule',{ value:!0 });var c=n(0),u=i(c),d=n(5),p=i(d),h=n(13),f=i(h),m=n(11),y=i(m),g=n(115),v=i(g),w=n(1),_=i(w),b=6e4,C='SCHEDULED',S='REAL';t.default=p.default.extend({ template:n(161),events:{ 'click .snw-cta-see-route':'_collapseToMobileVersion','click .snw-cta-back-details':'_uncollapseToDesktopVersion','click .snw-cta-see-map-list-routes':'_collpaseListPanel','click .snw-share':'shareBox','click .snw-follow-route':'_toggleFollowRoute' },initialize:function(e){let t=this;this.properties.customStyle=this.widget.config.customStyle,this.companiesStyle=e.properties.companiesStyle||this.widget.config.companiesStyle;let n=f.default.getInstance(this.widget);if(this.fromJP=e.properties.fromJP,this.isArrival=e.isArrival,this.serviceId=e.data.serviceId,this.optionsData=e.data,this.originalRouteforAlternatives=e.properties.originalRouteforAlternatives,this.fromJP)this.isWalking=e.isWalking,this.isTrain=e.isTrain,this.mMode=e.properties.mMode,this.transitMode=e.properties.transitMode,this.isAlternative='ALTERNATIVE'===e.properties.routeId,this.renderData(e.data,e.leg[0].serviceInfo,e.leg[e.leg.length-1].serviceInfo),this.templateConfig.showAlternativeBtn=(this.isAlternative||!this.originalRouteforAlternatives)&&(this.templateConfig.delayMin>=this.widget.config.alternativesRoutesDelayed||'severeDelay'===this.templateConfig.delay.delayClass||'cancelled'===this.templateConfig.delay.delayClass);else{this.mMode='transit',this.isTrain=!0;let i=n.get('serviceInfo');this._setServiceInfo(i),this.widget.eventBus.bus.trigger('SERVICE_PANEL_SHOWN');}this.listenTo(n,'change:serviceInfo',function(e,n){t._setServiceInfo(n),t.widget.eventBus.bus.trigger('SERVICE_PANEL_SHOWN');}),this.listenTo(this.eventBus.bus,'CHANGE_SCREEN_SIZE',function(e){e||t._uncollapseToDesktopVersion();}),p.default.prototype.initialize.call(this,e);},_setServiceInfo:function(e){e!==f.default.ERROR&&e!==f.default.NOT_FOUND&&this.renderData(this.optionsData,e);},shareBox:function(){let e=void 0;e=this.serviceId?[location.protocol,'//',location.host,location.pathname].join('')+'?from='+this.fromCP.crs+'&to='+this.toCP.crs+'&arr='+Number(this.isArrival)+'&service='+this.serviceId:window.location.href,this.shareBoxElement=new v.default({ map:this.map,widget:this.widget,properties:{ url:e } });},renderData:function(e,t,n){this.fromCP=y.default.getCallingPoint(!0,this.isArrival,t),this.toCP=y.default.getCallingPoint(!1,this.isArrival,n||t);let i=!this.isAlternative&&this.fromCP.crs&&'TRANSFER'!==this.fromCP.mode&&'WALK'!==this.fromCP.mode?a(this.fromCP,!0,S):e.transbords[0].timetable.realtime?new Date(e.transbords[0].timetable.realtime.departure).getTime():e.from.fromTime,c=!this.isAlternative&&this.toCP.crs&&'TRANSFER'!==this.toCP.mode&&'WALK'!==this.toCP.mode?a(this.toCP,!1,S):e.transbords[e.transbords.length-1].timetable.realtime?new Date(e.transbords[e.transbords.length-1].timetable.realtime.arrival).getTime():e.to.toTime,d=!this.isAlternative&&this.fromCP.crs&&'TRANSFER'!==this.fromCP.mode&&'WALK'!==this.fromCP.mode&&'METRO'!==this.fromCP.mode?a(this.fromCP,!0,C):e.from.fromTime,p=!this.isAlternative&&this.toCP.crs&&'TRANSFER'!==this.toCP.mode&&'WALK'!==this.toCP.mode&&'METRO'!==this.toCP.mode?a(this.toCP,!1,C):e.to.toTime,h=this.widget.polyglot,f=void 0,m=void 0;this.fromJP&&new Date(e.from.fromTime).setHours(0,0,0,0)!==(new Date).setHours(0,0,0,0)&&(f=new Date(e.from.fromTime).toLocaleDateString('en-UK',{ month:'short',day:'numeric' }));let g=void 0,v=void 0,w=void 0,_=void 0,b=void 0,k=void 0,T=void 0;if(this.fromJP)g=t.cancelReason?t.cancelReason:t.delayReason,w=e.delayClass,_=e.delay.delay,b=e.platform,k='ontime'===e.delayClass?'#666666':e.color;else{let M=t.callingPoints[u.default.findIndex(t.callingPoints,function(e){return e.selected;})-1],x=t.callingPoints.filter(function(e){return e.selected;})[0];b=t.platform;let E=y.default.getDelayClass(x,this.widget,this.isArrival);g=t.cancelReason||t.delayReason,w=E.delayClass,_=E.delay,k=E.color,v=this.isArrival?M.colorLine:x.colorLine,T=this.isFullyCancelled(e),e.operator=t.operator,e.operatorCode=t.operatorCode;}this.fromJP&&e.transbords&&e.transbords[0]&&e.transbords[0].callingPoints&&e.numOperators<2&&(v=e.transbords[0].callingPoints[0].predictionColor,m=this._getFirstDisruptionMsg(e));let L=o(d,p,t),D=o(i,c,t),P=!!e.googleDuration&&e.googleDuration.text;L.milisecondsDuration>D.milisecondsDuration&&(D.strDuration=L.strDuration);let O=!!this.originalRouteforAlternatives&&'rdgMode'===this.transitMode;if(u.default.extend(this.templateConfig,e,{ fromDate:f,realTime:r(this.fromCP,!0)+' - '+r(this.toCP,!1),scheduledDuration:L.strDuration||P,delayedDuration:D.strDuration,transbords:this._getTransbords(e),platform:'-'!==b&&b,color:k,delayMsg:g,delayClass:w,delayMin:_>0&&_,hasDelay:'ontime'!==w&&'minorDelay'!==w,fromJP:this.fromJP,showDisclaimerText:O,isTravelling:!this.fromJP&&this._isTravelling(t),isRendered:!0,predictionColor:v,disruption:m,mMode:this.mMode,isWalking:this.isWalking,isTrain:this.isTrain,isFullyCancelled:T,textByDelayClass:l(w,_,h),serviceID:e.serviceID||e.serviceId,customPrimaryColor:this.properties.customStyle.primaryColor,customSecondaryColor:this.properties.customStyle.secondaryColor,customTertiaryColor:this.properties.customStyle.tertiaryColor }),this.fromJP){if('transit'===this.mMode){let R=void 0;R=t.isGoogleStep||'TRAIN'!==t.mode?t.timetable.scheduled.departure:t.callingPoints[0].timetable.scheduledTimes.departure;let I=n.isGoogleStep?n.timetable.scheduled.arrival:n.callingPoints[n.callingPoints.length-1].timetable?n.callingPoints[n.callingPoints.length-1].timetable.scheduledTimes.arrival:'';this.templateConfig.scheduledTime=y.default.toFormatedTimeString(R,this.widget)+' - '+(I?y.default.toFormatedTimeString(I,this.widget):e.to.time);let A=o(new Date(R).getTime(),new Date(I).getTime()).strDuration;if(A&&(this.templateConfig.scheduledDuration=o(new Date(R).getTime(),new Date(I).getTime()).strDuration),this.fromCP.delayMin>0){this.templateConfig.color=this.fromCP.delayColor,this.templateConfig.delayClass=this.fromCP.delayClass;let B=t.isGoogleStep?R:this.fromCP.realtime&&this.fromCP.realtime.updatedTimes?this.fromCP.realtime.updatedTimes.departure.time:'',N=n.isGoogleStep?I:this.toCP.realtime&&this.toCP.realtime.updatedTimes?this.toCP.realtime.updatedTimes.arrival.time:'';this.templateConfig.realTime=y.default.toFormatedTimeString(B,this.widget)+' - '+(N?y.default.toFormatedTimeString(N,this.widget):e.to.time);}else this.templateConfig.realTime=this.templateConfig.scheduledTime;}}else this.templateConfig.scheduledTime=s(this.fromCP,!0)+' - '+s(this.toCP,!1),'Delayed'!==t.etd&&'Delayed'!==t.eta||(this.templateConfig.realTime=''),this.isFollowed(e.serviceId)>-1?(this.templateConfig.followedClass='isFollowed',this.templateConfig.followedTitle=h.t('serviceBoard.unfollow')):(this.templateConfig.followedClass='',this.templateConfig.followedTitle=h.t('serviceBoard.follow'));this.$el.replaceWith(this.render().$el);},_getFirstDisruptionMsg:function(e){let t=void 0,n=void 0;if(this.fromJP&&e.transbords&&e.transbords.length)for(t=0;t<e.transbords.length;t++)for(n=0;n<e.transbords[t].serviceInfo.callingPoints.length;n++)if(e.transbords[t].callingPoints[n].realtime&&(e.transbords[t].callingPoints[n].realtime.cancelled||e.transbords[t].callingPoints[n].realtime.lateRunningReason))return{ cancelled:e.transbords[t].callingPoints[n].realtime.cancelled,msg:e.transbords[t].callingPoints[n].realtime.cancellationReason||e.transbords[t].callingPoints[n].realtime.lateRunningReason,color:'ontime'===e.transbords[t].callingPoints[n].delayClass?this.widget.config.delayStyle.severeDelay.color:e.transbords[t].callingPoints[n].delayColor };return null;},_getTransbords:function(e){let t=this,n=[];return e.transbords&&u.default.each(e.transbords,function(e){n.push({ operatorName:!!e.operator&&e.operator.name,style:!!(t.companiesStyle&&e.operator&&t.companiesStyle[e.operator.code])&&t.companiesStyle[e.operator.code],icon:'snw-icon-'+e.mode.toLowerCase(),iconUrl:e.iconUrl,mode:e.mode.toUpperCase() });}),e.operator&&n.push({ operatorName:e.operator,style:!(!this.companiesStyle||!this.companiesStyle[e.operatorCode])&&this.companiesStyle[e.operatorCode],mode:'TRAIN' }),n;},_isTravelling:function(e){let t=u.default.filter(e.callingPoints,function(e){return e.selected;})[0],n=e.callingPoints[e.callingPoints.length-1];return!!(t.ata||t.atd||t.at)&&!(n.ata||n.atd||n.at);},destroy:function(){this.shareBoxElement&&(this.shareBoxElement.destroy(),this.shareBoxElement=null),this.stopListening();},_collapseToMobileVersion:function(){this.parentComponent&&this.parentComponent.panelCollapse();},_uncollapseToDesktopVersion:function(){this.parentComponent&&this.parentComponent.panelUncollapse();},_collpaseListPanel:function(){this.parentComponent.collpaseListPanel();},isFullyCancelled:function(e){let t=!0;return e.callingPoints.map(function(e){t=e.cancelled?t:e.cancelled;}),t;},isFollowed:function(e){if(localStorage.getItem('followedRoutes')){let t=JSON.parse(localStorage.getItem('followedRoutes'));return u.default.findIndex(t,function(t){return t.serviceId===e;});}},_removeFollowedRouteFromLocalStorare:function(e){let t=this._getFollowedRoutes(),n=u.default.findIndex(t,function(t){return t.serviceId===e;});t.splice(n,1),localStorage.setItem('followedRoutes',JSON.stringify(t));},_addFolloweRouteInLocalStorare:function(e){let t=this._getFollowedRoutes();t.push(e),localStorage.setItem('followedRoutes',JSON.stringify(t));},_getFollowedRoutes:function(){let e=localStorage.getItem('followedRoutes'),t=[];return e&&(t=JSON.parse(e)),t;},_toggleFollowRoute:function(e){let t=this.isFollowed(this.serviceId),n=this.widget.polyglot,i=(0,_.default)(e.target),a={ serviceId:this.serviceId,isArrival:this.isArrival };t>-1?(i.removeClass('isFollowed'),i.attr('title',n.t('serviceBoard.follow')),this._removeFollowedRouteFromLocalStorare(this.serviceId)):(i.addClass('isFollowed'),i.attr('title',n.t('serviceBoard.unfollow')),this._addFolloweRouteInLocalStorare(a)),this.widget.eventBus.bus.trigger('CHANGE_FOLLOWED_STORAGE',a);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e){let t={ WALK:'url(../images/circle.svg) 50% 50%/6px 6px',UNDERGROUND:'#009afd',BUS:'#009afd',TRAIN:'#009afd',METRO:'#009afd' };return t[e]?t[e]:'#009afd';}function s(e,t){p.default.each(e,function(e,n){e.selected?t?(e.time=e.ata?e.ata:e.eta,p.default.extend(e,{ timetable:{ scheduledTimes:{ formatedDate:e.sta } } })):(e.time=e.atd?e.atd:e.etd,p.default.extend(e,{ timetable:{ scheduledTimes:{ formatedDate:e.std } } })):(e.time=e.at?e.at:e.et,p.default.extend(e,{ timetable:{ scheduledTimes:{ formatedDate:e.st } } })),e.time===f.default.ON_TIME||e.time===f.default.NO_REPORT?e.selected?e.time=t?e.sta:e.std:e.time=e.st:e.time===f.default.DELAYED?(e.timeLabel='delayed',e.time=''):e.cancelled&&(e.timeLabel='cancelled',e.time=''),e.timeLabel&&(e.timeLabel='serviceRoute.'+e.timeLabel);});}function r(e,t,n,i){p.default.each(e,function(s,r){let o=s.timetable.scheduledTimes.departure?'departure':'arrival';(t||r===e.length-1)&&(o=s.timetable.scheduledTimes.arrival?'arrival':'departure'),s.timetable&&s.realtime&&s.realtime.updatedTimes?s.time=s.realtime.updatedTimes[o].time||s.realtime.updatedTimes[o]:s.time=s.timetable.scheduledTimes[o],s.realtime&&s.realtime.cancelled&&(s.timeLabel='cancelled',s.time=''),s.timeLabel&&(s.timeLabel='serviceRoute.'+s.timeLabel),s.properties&&!s.isGoogleStep?(s.crs=s.properties.crs,s.locationName=s.properties.name):(s.locationName=s.station||s.crs,s.crs=s.crs||''),s.time=s.time?y.default.toFormatedTimeString(s.time,i):s.time,'TRAIN'===s.mode&&s.properties||(s.colorLine=a(s.mode)),s.firstTransbord&&(s.iconClass='snw-icon-'+s.mode.toLowerCase(),s.isGoogleStep&&p.default.isEmpty(s.crs)||(s.companyStyle=n&&n[s.operatorCode]?n[s.operatorCode]:s.companyStyle)),s.mode=s.mode.toLowerCase();});}Object.defineProperty(t,'__esModule',{ value:!0 });var o=n(5),l=i(o),c=n(4),u=i(c),d=n(0),p=i(d),h=n(13),f=i(h),m=n(11),y=i(m);t.default=l.default.extend({ template:n(162),events:{},initialize:function(e){let t=this;if(this.options=e,this.panel=e.panel,this.isArrival=e.isArrival,l.default.prototype.initialize.call(this,e),this.properties=e.properties,e.properties.stationsIcon=''+u.default.getImgUrl(e.properties.stationsIcon,this.widget,e.properties.iconPath),e.properties.stationsIconSelected=''+u.default.getImgUrl(e.properties.stationsIconSelected,this.widget,e.properties.iconPath),e.properties.transitIcon=''+u.default.getImgUrl(e.properties.transitIcon,this.widget,e.properties.iconPath),this.delayStyle=this.widget.config.delayStyle,e.route)this.processJPRoute(e.route,e.properties);else{let n=f.default.getInstance(this.widget);this.steps=n.get('serviceInfo').callingPoints,this._renderNewContent(this.steps),this.listenTo(n,'change:serviceInfo',function(e,n){let i=n.callingPoints;t._renderNewContent(i);}),this.listenTo(n,'change:trainProgress',function(e,n){t._showTrainProgress(n);});}},_renderNewContent:function(e){s(e,this.isArrival,this.widget.config.delayStyle),p.default.extend(this.templateConfig,this.properties,{ steps:e }),this.$el.replaceWith(this.render().$el);},destroy:function(){this.stopListening();},panelCollapse:function(){this.hide(),this.options.route?this.processJPRoute(this.options.route,this.options.properties):this._renderNewContent(this.steps);},panelUncollapse:function(){this.show();},processJPRoute:function(e,t){let n=this,i=[],a=-1;p.default.each(e.leg,function(t,s){let r=t.serviceInfo||t;('TRAMLINK'===r.mode&&r.callingPoints[0]&&void 0===r.callingPoints[0].nTramStops||r.operator&&'TW'===r.operator.code)&&(r.callingPoints=n._filterTramLinksLegs(r)),r.duration&&r.duration.value<1&&(r.duration.text='1 min'),p.default.each(r.callingPoints,function(o,l){if(p.default.extend(o,{ mode:r.mode,iconUrl:r.iconUrl }),o.isGoogleStep=r.isGoogleStep,o.duration=r.duration,s>0&&s<=e.leg.length-1&&o.isGoogleStep){let c=e.leg[s-1];'WALK'===t.mode?(o.station=c.isGoogleStep?c.transit.arrival_stop.name:c.callingPoints[c.callingPoints.length-1].properties.name,o.crs=c.isGoogleStep?null:c.callingPoints[c.callingPoints.length-1].properties.crs,o.isGoogleStep=0===l?c.isGoogleStep:o.isGoogleStep):(o.station=c.isGoogleStep?t.transit.departure_stop.name:c.callingPoints[c.callingPoints.length-1].properties.name,o.crs=c.isGoogleStep?null:c.callingPoints[c.callingPoints.length-1].properties.crs,o.isGoogleStep=0===l?c.isGoogleStep:o.isGoogleStep);}0===l&&(o.firstTransbord=!0,o.station=o.isGoogleStep&&0===s?e.from:o.station,o.timetable||(o.timetable={ scheduledTimes:r.timetable.scheduled,realtime:{ updatedTimes:r.timetable.realtime } })),l===r.callingPoints.length-1&&(o.station=o.isGoogleStep&&s===e.leg.length-1?e.to:o.station,o.lastTransbord=!0,o.timetable||(o.timetable={ scheduledTimes:{ arrival:r.timetable.scheduled.arrival },realtime:{ updatedTimes:r.timetable.realtime } }),s===e.leg.length-1&&(o.crs=o.isGoogleStep?null:o.crs)),l===r.callingPoints.length-1&&s!==e.leg.length-1||i.push(o),o.isGoogleStep?(o.companyStyle=r.companyStyle,o.operator=r.operator,o.operatorCode=r.operatorCode):(o.companyStyle=r.companyStyle,o.operatorCode=r.operator&&r.operator.code?r.operator.code:r.operator,o.operator=r.operator&&r.operator.name?r.operator.name:r.operator,o.operator||o.properties||(o.operator=r.operatorCode)),o.realtime&&(o.realtime.cancelled||o.realtime.lateRunningReason)&&a!==s&&o.operator&&e.numOperators>1&&!o.isGoogleStep&&(a=s,o.disruption={ cancelled:o.realtime.cancelled,msg:o.realtime.cancellationReason||o.realtime.lateRunningReason,color:'ontime'===o.delayClass?n.delayStyle.severeDelay.color:o.delayColor }),o.firstTransbord||o.lastTransbord||(o.isCallingPoint=!0),o.delayMin||(o.delayMin=0);let u=new Date(o.timetable.scheduledTimes.departure?o.alight?o.timetable.scheduledTimes.arrival:o.timetable.scheduledTimes.departure:o.timetable.scheduledTimes.arrival);o.timetable.scheduledTimes.formatedDate=y.default.toFormatedTimeString(u,n.widget);});}),this.templateConfig.showDisclaimerText=e.originalRouteforAlternatives&&'ALTERNATIVE'!==e.id,r(i,this.isArrival,this.widget.config.companiesStyle,this.widget),p.default.extend(this.templateConfig,t,{ steps:i }),this.$el.replaceWith(this.render().$el),this._applyStyles();},_filterTramLinksLegs:function(e){let t=[],n=e.callingPoints.length;if(n>1){let i=e.callingPoints[0];i.nTramStops=n-1,t.push(i),t.push(e.callingPoints[n-1]);}return t;},_showTrainProgress:function(e){let t=this.$el.find('.snw-service-train-icon')[0];if(!e)return void t.classList.add('hidden');let n=this.$el.find('.snw-service-step'),i=n[e.callingPointIndex];t.style.top=Math.floor(i.offsetTop+e.progress*i.offsetHeight)+'px',t.classList.remove('hidden');},_applyStyles:function(){p.default.isObject(this.widget.config.customStyle)&&(this.$el.find('.snw-disruption-check').css({ color:this.widget.config.customStyle.primaryColor }),this.$el.find('.snw-disruption-msg .snw-icon').css({ color:this.widget.config.customStyle.primaryColor }));} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(175),o=i(r),l=n(0),c=i(l);t.default=s.default.extend({ template:n(163),events:{ 'click .snw-close-button':'_close','click .snw-share-box-done-button':'_close' },initialize:function(e){let t=this;c.default.extend(this.templateConfig,e.properties),s.default.prototype.initialize.call(this,e),this.cbSetup=new o.default('.snw-share-box-input-copy-button'),this.cbSetup.on('success',function(e){t.$el.find('.snw-share-box-copied-button').css('visibility','visible');}),this._applyStyles();},_applyStyles:function(){this.$el.find('.snw-share-box-input-copy-button').css({ 'background-color':this.widget.config.customStyle.primaryColor }),this.$el.find('.snw-share-box-done-button').css({ color:this.widget.config.customStyle.primaryColor,'border-color':this.widget.config.customStyle.primaryColor });},_close:function(){this.destroy();},destroy:function(){this.hide(),this.$el.remove(),this.cbSetup.destroy();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(0),o=i(r),l=n(1),c=i(l),u=n(4),d=i(u),p=n(30),h=i(p),f=n(117),m=i(f);t.default=s.default.extend({ template:n(165),initialize:function(e){let t=this;this.listenTo(this.eventBus.bus,'STATION_SELECTED',function(n){t.station=n,s.default.prototype.initialize.call(t,e),t.show();}),this.listenTo(this.widget.eventBus.bus,'SERVICE_PANEL_BACK',function(){t.station&&t.show();}),this.listenTo(this.eventBus.bus,'CLOSE_ALL_PANELS',function(){t.hide(),t.station=null;}),this.listenTo(this.widget.eventBus.bus,'INCIDENT_SELECTED',function(){t.hide(),t.station&&(t.widget.eventBus.bus.trigger('CLOSE_STATION_PANEL',t.station.crs),t.widget.eventBus.bus.trigger('CLOSE_ALL_PANELS'));}),this.listenTo(this.widget.eventBus.bus,'SERVICE_SELECTED',function(e,n,i){i||t.hide();}),this.listenTo(this.eventBus.bus,'CHANGE_SCREEN_SIZE',function(e){e||t._uncollapseToDesktopVersion();});},show:function(){let e=this;this.stationSummary&&this.destroy(),this._hideOtherPanels(),this._getStationData(this.station.crs).done(function(t){o.default.extend(e.station,t),e.renderData(e.station),e.render(),s.default.prototype.show.call(e),e._fillPanel(e.station),e.widget.eventBus.bus.trigger('STATION_PANEL_SHOWN');});},_hideOtherPanels:function(){let e=this;this.panels=[];let t=this.map.controls[google.maps.ControlPosition[this.position]];t.forEach(function(t){e.panels.push(t);}),t.clear();},_showOtherPanels:function(){let e=this,t=this.map.controls[google.maps.ControlPosition[this.position]],n=t.getArray();o.default.each(this.panels,function(t){o.default.find(n,function(e,n){return t===e;})||e.map.controls[google.maps.ControlPosition[e.position]].push(t);});},events:{ 'click .close-btn':'close','click .back-collapse-btn':'panelUncollapse','click .snw-cta-station-see-map':'panelCollapse' },collapsePanel:function(){this.$el.find('.snw-station-content').hide();},renderData:function(e){o.default.extend(this.templateConfig,{ name:e.name,crs:e.crs,primaryColor:this.widget.config.customStyle.primaryColor,secondaryColor:this.widget.config.customStyle.secondaryColor,tertiaryColor:this.widget.config.customStyle.tertiaryColor });},hide:function(){s.default.prototype.hide.call(this);},close:function(){this.hide(),this.widget.eventBus.bus.trigger('REMOVE_SERVICE'),this.widget.eventBus.bus.trigger('CLOSE_STATION_PANEL',this.station.crs),this.widget.eventBus.bus.trigger('CLOSE_ALL_PANELS');},destroy:function(){this.hide(),this.$el.remove(),this.stationInfoBoard.destroy(),this.stationSummary.destroy();},_fillPanel:function(e){this.stationSummary=new m.default({ widget:this.widget,data:e,properties:this.properties,map:this.widget.map,parent:this }),this.stationInfoBoard=new h.default({ widget:this.widget,properties:{ data:e },map:this.widget.map,parent:this.station }),this.$el.find('.snw-station-content').append(this.stationSummary.el),this.$el.find('.snw-station-content').append(this.stationInfoBoard.el),this.stationInfoBoard.activate();},_getStationData:function(e){let t=c.default.Deferred(),n=d.default.stringFormat(this.widget.config.baseApiUrl+this.properties.requests.stationReqUrl,[e]);return c.default.getJSON(n,function(e){let n=e;t.resolve(n);}),t.promise();},_uncollapseToDesktopVersion:function(){this.panelUncollapse();},panelCollapse:function(){this.$el.addClass('snw-station-container-collapse'),this.stationSummary&&this.stationSummary.panelCollapse();},panelUncollapse:function(){this.$el.removeClass('snw-station-container-collapse'),this.stationSummary&&this.stationSummary.panelUncollapse();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(4),o=i(r),l=n(0),c=i(l),u=n(1),d=i(u);t.default=s.default.extend({ template:n(166),events:{ 'click .snw-cta-see-route':'_collapseToMobileVersion','click .snw-street-view':'_changeToStreetView','click .snw-favourite .snw-icon-star':'_toggleFavouriteStation' },initialize:function(e){this.properties.customStyle=this.widget.config.customStyle,this.station=e.data,e.isChild=!0,this._fillBoard(),this.templateConfig.favourite=this.isFavourite(this.station.crs)>-1,s.default.prototype.initialize.call(this,e),this._applyConfigStyles(),this.$el.find('.walking-time').hide(),this.listenTo(this.eventBus.bus,'nearby:station:add',this._addNearbyInformation);},_fillBoard:function(){this.station.Address['com:PostalAddress']['add:A_5LineAddress']['add:Line'].splice(0,1),c.default.extend(this.templateConfig,{ isNearby:!1,address:this.station.Address['com:PostalAddress']['add:A_5LineAddress']['add:Line'],pCode:this.station.Address['com:PostalAddress']['add:A_5LineAddress']['add:PostCode'],walkingTimeText:this.widget.polyglot.t('stationSummary.walkingTime'),customColor:this.properties.customStyle.primaryColor }),this.render();},_addNearbyInformation:function(e){e.legs.length&&(this.$el.find('.walking-time-number').text(e.legs[0].duration.text),this.$el.find('.walking-time').show());},destroy:function(){this.eventBus.bus.off('nearby:station:add'),this.$el.remove();},_changeToStreetView:function(){let e=this,t=new google.maps.StreetViewService,n=new google.maps.LatLng({ lat:this.station.Latitude,lng:this.station.Longitude }),i={ location:n,preference:google.maps.StreetViewPreference.NEAREST,radius:50 };t.getPanorama(i,function(t,i){i===google.maps.StreetViewStatus.OK?e._showStreetView(n):e.widget.messageControl.add(o.default.createMessage('error',e.widget.polyglot.t('stationInfoBoard.streetViewError'),2500,!1));});},_showStreetView:function(e){let t=this.map.getStreetView(),n={ addressControl:!0,clickToGo:!0,panControl:!0,linksControl:!0,fullScreenControl:!0,MotionTracking:!0,position:e,visible:!0 };t.setOptions(n);},_collapseToMobileVersion:function(){this.parentComponent.panelCollapse();},panelCollapse:function(){this.$el.addClass('snw-summary-collapse');},panelUncollapse:function(){this.$el.removeClass('snw-summary-collapse');},_applyConfigStyles:function(){this.$el.find('.snw-favourite .snw-icon-star').css({ color:this.properties.customStyle.primaryColor });},isFavourite:function(e){if(localStorage.getItem('favouriteStations')){let t=JSON.parse(localStorage.getItem('favouriteStations'));return c.default.findIndex(t,function(t){return t.crs===e;});}},_toggleFavouriteStation:function(e){let t=this.isFavourite(this.station.crs),n=(0,d.default)(e.target);t>-1?(n.removeClass('snw-md-icon-star-full'),n.addClass('snw-md-icon-star-empty'),this.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'favouriteStation',text:'Station unmarked as favourite',station:this.station.crs })):(n.removeClass('snw-md-icon-star-empty'),n.addClass('snw-md-icon-star-full'),this.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'favouriteStation',text:'Station marked as favourite',station:this.station.crs })),this.widget.eventBus.bus.trigger('CHANGE_FAVOURITE_STATION_STORAGE',{ crs:this.station.crs,name:this.station.name,createdTime:(new Date).getTime() });} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(5),s=i(a),r=n(0),o=i(r),l=n(119),c=i(l),u=n(1),d=i(u),p=n(12),h=i(p);t.default=s.default.extend({ template:n(168),initialize:function(e){this.requestUrl=e.properties.requestUrl,this.filtered=!1,this.unfilteredIncidents=[],s.default.prototype.initialize.call(this,e),this.update(),this._bindListener();},events:{ 'click .snw-travel-new':'_selectIncident','click .snw-disclaimer-message .close':'_closeDisclaimerMessage' },_bindListener:function(){let e=this;this.listenTo(this.incidentsModel,'change:incidents',function(t,n){e.unfilteredIncidents=e.filtered?e.unfilteredIncidents:n,e.emptyPanel(),e._createTravelNewsList(n);}),this.listenTo(this.widget.eventBus.bus,'FILTER_INCIDENTS',function(t){e.filtered=!0,e.unfilteredIncidents.length>0?e._showDisclaimerMessage():e._hideDisclaimerMessage();}),this.listenTo(this.widget.eventBus.bus,'OPEN_DETAILS',function(){e.filtered=!0,e.unfilteredIncidents.length>0?e._showDisclaimerMessage():e._hideDisclaimerMessage();}),this.listenTo(this.widget.eventBus.bus,'CLOSE_DETAILS',function(){e.filtered=!0,e.unfilteredIncidents.length>0?e._showDisclaimerMessage():e._hideDisclaimerMessage();}),this.listenTo(this.widget.eventBus.bus,'RESTORE_STATIONS',function(){e.filtered=!1,e._hideDisclaimerMessage();});},update:function(){let e=this;this._getIncidentsData().then(function(t){e.unfilteredIncidents=e.filtered?e.unfilteredIncidents:t,e.emptyPanel(),e._createTravelNewsList(t);});},_getIncidentsData:function(){let e=d.default.Deferred();this.incidentsModel=h.default.getInstance(this.widget);let t=this.incidentsModel.get('incidents');if(t)e.resolve(t);else{let n=this.widget.config.baseApiUrl+this.requestUrl;d.default.getJSON(n,function(t){e.resolve(t);}).fail(function(){e.reject();});}return e.promise();},emptyPanel:function(){this.$el.find('.snw-travel-news-list').empty(),this.travelNewsPanel={},o.default.each(this.travelNewItemList,function(e){e.routeDetails&&e.routeDetails.$el.remove();}),this.travelNewItemList={};},_createTravelNewsList:function(e,t){let n=this;if(e.length>0){this.$el.find('.snw-noResults').hide(),this.$el.find('.snw-travel-news-list').parent().parent().show();let i=this.$el.find('.snw-travel-news-list');i.addClass('hasNews'),o.default.each(e,function(e){n.travelNewsPanel[e.id]=e;let a=(0,d.default)('<li>');a.addClass('snw-travel-new'),a.attr('id',e.id);let s=n._newLayerItem(e,t);a.append(s.$el),i.append(a);});}else this.$el.find('.snw-noResults').show();},_newLayerItem:function(e,t){return new c.default(o.default.extend({},{ map:this.map,widget:this.widget,isChild:!0,data:e,polyglot:this.widget.polyglot,customStyle:this.widget.config.customStyle }));},_selectIncident:function(e){let t=(0,d.default)(e.target).closest('li.snw-travel-new')[0].id;this.widget.eventBus.bus.trigger('INCIDENT_SELECTED',t);},_showDisclaimerMessage:function(){this.$el.find('.snw-disclaimer-message').show();},_hideDisclaimerMessage:function(){this.$el.find('.snw-disclaimer-message').hide();},_closeDisclaimerMessage:function(e){(0,d.default)(e.target).closest('.snw-disclaimer-message').slideUp(500);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r);t.default=s.default.View.extend({ template:n(167),constructor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.polyglot=e.polyglot,this.customStyle=e.customStyle,this.templateConfig=e.data,s.default.View.prototype.constructor.call(this);},initialize:function(e){let t=this;s.default.View.prototype.initialize.call(this,e),this.render(),setTimeout(function(){t._applyStyles();},100);},render:function(){return this.setElement(this.template(this.templateConfig)),this;},_getDateTime:function(e){return''+new Date(e).toDateString();},_applyStyles:function(){o.default.isObject(this.customStyle)&&this.$el.find('.snw-ellipsis').css({ color:this.customStyle['background-color'] });} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a,s=n(24),r=i(s),o=n(0),l=i(o),c=n(1),u=i(c),d=n(12),p=i(d),h=n(129),f=i(h),m=3e4;t.default=r.default.extend({ constructor:function(e){e.source.params.widget=e.widget,r.default.prototype.constructor.call(this,e);},initialize:function(e){e.source.params.sourceUrl=this.widget.config.baseApiUrl+e.source.params.sourceUrl,this.zoomTarget=e.source.params.selectedZoom,this.disruptionStyles=e.source.params.disruptionStyle,this.params.propertyType=this.propertyType='severity',this.params.markerByType=this.markerByType=l.default.each(this.disruptionStyles,function(t,n){l.default.extend(t,{ defaultClass:e.source.params.richmarkerClassDefault+' '+n,selectedUrl:'selected' });}),this.hideSelectedMarker=!0,this.deselectMarkerClick=!0,this.incidentsModel=new p.default(this.widget),e.source.params.model=this.incidentsModel,r.default.prototype.initialize.call(this,e),this.bindListeners();},clusterShow:function(){if(this.div_){let e=l.default.filter(this.cluster_.markers_,function(e){return!e.getVisible();});if(0===e.length||e.length===this.cluster_.markers_.length){let t=a._getSeverity(this.cluster_.markers_),n='',i=this.backgroundPosition_.split(' '),s=parseInt(i[0].trim(),10),r=parseInt(i[1].trim(),10);n='<div class=\''+this.url_+'\' style=\'position: absolute; top: '+r+'px; left: '+s+'px;\n        color:'+(t?a.disruptionStyles[t].color:'')+'\'></div>';let o=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(o),this.div_.innerHTML=n,this.div_.style.display='';}}this.visible_=!0;},clusterRemove:function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null,this.label&&(this.label.setMap(null),this.label=null));},bindListeners:function(){let e=this;this.listenTo(this.widget.eventBus.bus,'CLICK_ON_MARKER',function(t,n,i){'incidents'===n.id?(e.selectedIncident={ selectedSeverity:i.target.className.split(' ')[1],selectedId:i.target.id,content:t.content },e.widget.eventBus.bus.trigger('INCIDENT_SELECTED',e.selectedIncident.selectedId)):e._deleteSelectedMarker();}),this.listenTo(this.widget.eventBus.bus,'CLICK_ON_MARKER_SELECTED',function(t,n,i){'incidents'===n.id&&setTimeout(function(){e._deleteSelectedMarker(),e.widget.eventBus.bus.trigger('SELECTED_INCIDENT_REMOVED',t.properties.incidentId);},100);}),this.listenTo(this.widget.eventBus.bus,'UPDATED_MARKERS',function(){e.incidentsModel.set('incidentsMarkers',e.markers);}),this.listenTo(this.widget.eventBus.bus,'INCIDENT_DETAILS_CLOSED',function(){e._deleteSelectedMarker();}),this.listenTo(this.widget.eventBus.bus,'FILTER_INCIDENTS',function(){e._loadData();}),this.listenTo(this.widget.eventBus.bus,'INCIDENT_SELECTED',function(t){if(l.default.each(e.cluster.clusters_,function(e){e.label&&(e.label.setMap(null),e.label=null);}),!e.currentSelectedMarker||e.currentSelectedMarker.id.toString()!==t){let n=e._getMarkersByIncident(t);1===n.length&&(e.selectMarker(n[0].id),e._setBounds(n[0]));}}),this.cluster&&(this.clusterListening=google.maps.event.addListener(this.cluster,'clusteringend',function(t){l.default.each(t.clusters_,function(t){t.markers_.length>1&&(t.label&&(t.label.setMap(null),t.label=null),t.label=f.default.createIncidentLabel(t,e.widget)),t.clusterIcon_.show=e.clusterShow,t.clusterIcon_.onRemove=e.clusterRemove;});}),a=this),this.widget.bus.on('RESTORE_STATIONS',function(){e._loadData(),e.cluster&&e.cluster.redraw_();});},_doSearch:function(e){let t=this;m=this.params.widget.config.debugEnabled?3e4:m,r.default.prototype._doSearch.call(this,e),setInterval(function(){t._loadData();},m);},_loadData:function(){let e=this,t=this.params.widget.config.debugEnabled;this.provider.load(t).then(function(t){l.default.each(e.cluster.clusters_,function(e){e.markers_.length>1&&e.label&&(e.label.setMap(null),e.label=null);}),e._removeResults(t.features),e.beforeProcessResultSearch(),e._processResultSearch(t),e.afterProcessResultSearch();});},_addResults:function(e){let t=this,n=this.featureId,i=[];return e.forEach(function(e){t.features.some(function(t){return e.properties[n]===t.properties[n]&&e.properties.incidentId.toString()===t.properties.incidentId.toString();})||(t.features.push(e),i.push(e));},this),i;},_removeResults:function(e){let t=this,n=this.featureId,i=[];this.features.forEach(function(t,a){e.some(function(e){return e.properties[n]===t.properties[n]&&e.properties.incidentId.toString()===t.properties.incidentId.toString();})||i.push(t);},this);let a=this._getMarkersToRemove(i);this.cluster.removeMarkers(a),l.default.each(a,function(e){let i=e.properties[n];t.removePoint(i),t.selectedIncident&&t.selectedIncident.selectedId===e.properties.incidentId.toString()&&t.widget.eventBus.bus.trigger('SELECTED_INCIDENT_REMOVED',e.properties.incidentId);});},_getMarkersToRemove:function(e){let t=this,n=[];return l.default.each(e,function(e){let i=e.properties[t.featureId],a=t._getMarkerFromId(i);n.push(a);}),n;},_getRichMarker:function(e,t,n){return this.generalClass=this.generalClass?this.richmarkerClassDefault=this.generalClass:this.richmarkerClassDefault,this.richmarkerClassDefault+=u.default.isArray(e.properties.severity)?' '+e.properties.severity.join(' '):' '+e.properties.severity,r.default.prototype._getRichMarker.call(this,e,t,n);},_getRichMarkerContent:function(e,t,n,i){let a=this,s=this._getFeatureById(t),r='<div>';return l.default.isArray(s.properties.incidentId)?l.default.each(s.properties.incidentId,function(t,n){if(i)if(a.selectedIncident.selectedId===t.toString())e=' '+a.selectedIncident.selectedSeverity+' '+e,r+=a._getContent(e,t,1,i);else{let s=(0,u.default)(a.selectedIncident.content).find('#'+t);s.removeClass('snw-marker-selected'),r+=s[0].outerHTML;}else r+=a._getContent(e,t,n+1,i);}):r+=this._getContent(e,s.properties.incidentId,1,i),r+='</div>';},_getContent:function(e,t,n,i){let a=e.split(' '),s=a[n].trim(),r=i?a[a.length-1].trim():'';return'<div class=\''+this.generalClass+' '+s+' '+r+'\'\n       id=\''+t+'\' style=\'color:'+this.disruptionStyles[s].color+'\'></div>';},_getFeatureById:function(e){for(var t=null,n=0;n<this.features.length;n++)if(this.features[n].properties.id===e){t=this.features[n];break;}return t;},_getMarkersByIncident:function(e){for(var t=[],n=0;n<this.markers.length;n++){let i=this.markers[n].properties.incidentId;this._hasIdIncident(i,e)&&t.push(this.markers[n]);}return t;},_hasIdIncident:function(e,t){if(l.default.isArray(e))l.default.each(e,function(e){if(e.toString()===t)return!0;});else if(e.toString()===t)return!0;},_createSelectedMarker:function(e){let t=this;r.default.prototype._createSelectedMarker.call(this,e),this.incidentsModel.set('selectedIncident',this.currentSelectedMarker),this.currentSelectedMarker&&(e.visibleStation||e.visibleServiceStation)&&(this.currentSelectedMarker.setVisible(!1),setTimeout(function(){if(t.currentSelectedMarker){let n=e.visibleServiceStation?'snw-visible-service-station':'snw-visible-station';(0,u.default)(t.currentSelectedMarker.markerWrapper_).addClass(n),t.currentSelectedMarker.properties.incidentId.length>0&&(0,u.default)(t.currentSelectedMarker.markerWrapper_).addClass('snw-multiple-incidents-'+t.currentSelectedMarker.properties.incidentId.length),t.currentSelectedMarker.setVisible(!0);}},100));},_getSeverity:function(e){let t=l.default.pluck(e,'properties'),n=l.default.pluck(t,'priority'),i=l.default.flatten(n),a=i.sort();return this.provider._getSeverity(a[0]);},_setBounds:function(e){let t=new google.maps.LatLngBounds;t.extend(e.position),this.map.fitBounds(t),this.map.setZoom(this.zoomTarget);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(10),s=i(a),r=n(70),o=i(r),l=n(18),c=i(l),u=n(62),d=i(u),p=n(0),h=i(p),f=n(132),m=i(f);t.default=s.default.extend({ initialize:function(e){this.minZoom=e.source.minZoom,this.nearbySeconds=60*e.source.params.nearbyTime||1200,s.default.prototype.initialize.call(this,e),this.routeStyles=e.source.routeStyles?e.source.routeStyles:{ type:'modesStyle',basicStyle:{ strokeOpacity:0,strokeWeight:0,icons:[{ icon:{ path:google.maps.SymbolPath.CIRCLE,fillColor:'#009afd',strokeColor:'#009afd',fillOpacity:1,strokeOpacity:1,scale:2,zIndex:20,iconClassLegend:'circle' },offset:'0',repeat:'10px' }] } },this.bindListeners();},bindListeners:function(){let e=this;this.listenTo(this.widget.eventBus.bus,'CLOSE_STATION_PANEL',function(){e.remove();});},getRoute:function(e,t,n){let i=this,a=void 0,s=void 0;d.default.getJourney({ value:e },{ value:t },{ travelMode:'walking' }).done(function(e){'OK'===e.status&&e.routes.length>0&&(s=h.default.filter(e.routes,function(e){return e.legs[0].duration.value<=i.nearbySeconds;}),(a=s.length>0)&&(i._createLabel(s[0]),i._createRoute(s[0]),setTimeout(function(){i.widget.eventBus.bus.trigger('nearby:station:add',s[0]);},200))),n&&n(a||!1);});},_createRoute:function(e){this.routeView=new o.default(e,{ widget:this.widget,routeStyles:this.routeStyles,model:new c.default,routeClickable:!1,routeHoverable:!1 }),this.routeView.draw(),this.widget.map.fitBounds(this.routeView.getBounds());},_createLabel:function(e){this.routeLabel=new m.default({ widget:this.widget,params:{ minZoom:this.minZoom||0 },opt:{ path:e.overview_path,dataLabel:{ duration:e.legs[0].duration.text,iconClass:'walking' } } });},remove:function(){this.routeView&&(this.routeView.remove(),this.routeView=null),this.routeLabel&&(this.routeLabel.remove(),this.routeLabel=null);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(10),s=i(a),r=n(0),o=i(r),l=n(13),c=i(l);t.default=s.default.extend({ constructor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.featureId='RouteLayer',t.source={ id:'RouteLayer' },this.from=t.origin,this.to=t.destination,this.providedRoute=o.default.extend(e,{ from:this.from.value,to:this.to.value }),this.geoRoute=[],this.optRoute=[],this.styles=this._mergeStyles(t.routeStyles),this.routeModel=t.model,this.index=t.index,this.transitStops=t.transitStops,this.routeClickable=!!o.default.isUndefined(t.routeClickable)||t.routeClickable,this.routeHoverable=!!o.default.isUndefined(t.routeHoverable)||t.routeHoverable,t.index<this.styles.applyTo?this.initialStyle='defaultStyle':'ALTERNATIVE'===this.providedRoute.id?this.initialStyle='darwinStyle':this.initialStyle='basicStyle',s.default.prototype.constructor.call(this,t);},initialize:function(e){this._createRoute(e.historical),e.index<this.styles.applyTo&&this.widget.eventBus.bus.trigger('LOAD_SERVICE_STATIONS',this.providedRoute.transitStops);},_mergeStyles:function(e){let t=this._defaultStyles(),n=o.default.filter(t,function(t){let n=o.default.propertyOf(t)('TRAIN');if(!o.default.isEmpty(n))return o.default.each(e,function(e){o.default.extend(e,n,{ strokeColor:e.color });}),o.default.extend(n,e);});return o.default.extend(t,n[0]);},_defaultStyles:function(e){return{ defaultStyle:{ WALK:{ strokeOpacity:0,strokeWeight:0,icons:[{ icon:{ path:google.maps.SymbolPath.CIRCLE,fillColor:'#1A9CFA',strokeColor:'#1A9CFA',fillOpacity:1,strokeOpacity:1,scale:2,zIndex:20,iconClassLegend:'circle' },offset:'0',repeat:'10px' }],zIndex:20 },TRAIN:{ strokeWeight:3,strokeColor:'#1A9CFA',icons:!1,zIndex:20 },UNDERGROUND:{ strokeWeight:3,strokeColor:'#1A9CFA',icons:!1,zIndex:20 },BUS:{ strokeWeight:3,strokeColor:'#1A9CFA',icons:!1,zIndex:20 },strokeWeight:3,strokeColor:'#1A9CFA',icons:!1,zIndex:20 },applyTo:1,basicStyle:{ strokeWeight:2,strokeColor:'#a0a0a0',strokeOpacity:.8,icons:!1,zIndex:10 },highlightStyle:{ strokeOpacity:1,strokeWeight:5,zIndex:40 },selectedStyle:{ strokeWeight:3,zIndex:30 },deselectClickingOut:!0,legend:!1 };},_createRoute:function(e){let t=this;this.legs=this.providedRoute.leg,this.legs=this._getNormalizedLegs(),this.providedRoute.transitStops=[];let n=null;o.default.each(this.legs,function(i,a){let s=void 0,r=new c.default(t.widget,!0);e&&(s={ delays:e }),r._normalizeServiceData({ serviceDetails:i },null,s,!0);let l=r.get('serviceInfo');if(l.path||l.polyline){let u={ coords:i.start_location,mode:i.mode,properties:i,mMode:i.mMode };t.optRoute.push(t._createOptStep(l)),u.properties.name=i.transit?i.transit.departure_stop.name:a>0&&t.legs[a-1].transit?t.legs[a-1].transit.arrival_stop.name:'',0===a?u.properties.name=t.providedRoute.from:a===t.legs.length-1&&(t.legs[a-1].isGoogleStep&&t.providedRoute.transitStops.push(u),u=o.default.extend({},u,{ coords:i.end_location,properties:{ name:t.providedRoute.to } })),(0===a||a===t.legs.length-1||t.legs[a-1].isGoogleStep)&&t.providedRoute.transitStops.push(u);}else o.default.each(l.callingPoints,function(e,i){l.callingPoints[i].geometry&&(n=l.callingPoints[i]),o.default.extend(e,{ mode:l.mode,path:t._getStepPath(n,i,l.callingPoints) }),e.path&&t.optRoute.push(t._createOptStep(e)),0===i&&(e.firstTransbord=!0),i===l.callingPoints.length-1&&(e.lastTransbord=!0),t.providedRoute.transitStops.push(e);});i.serviceInfo=l;}),this._createTransparentRoute();},_getNormalizedLegs:function(){let e=this,t=0,n=this.legs.length-1,i=!1;return o.default.each(this.legs,function(a,s){!e.from.crs||a.isGoogleStep||i||a.board!==e.from.crs||(t=s,i=!0),e.to.crs&&!a.isGoogleStep&&a.alight===e.to.crs&&(n=s);}),this.legs.slice(t,n+1);},_getStepPath:function(e,t,n){if(n[t+1]&&n[t+1].geometry&&e&&e.geometry){return[new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]),new google.maps.LatLng(n[t+1].geometry.coordinates[1],n[t+1].geometry.coordinates[0])];}},_getCompletePath:function(){let e=o.default.pluck(this.optRoute,'path');return e=o.default.flatten(e);},_createTransparentRoute:function(){this.transparentRoute=new google.maps.Polyline({ options:{ strokeOpacity:0,strokeWeight:15 },geodesic:!0,clickable:!0,path:this._getCompletePath() }),this._bindListeners(this.transparentRoute);},getBounds:function(){for(var e=new google.maps.LatLngBounds,t=this.transparentRoute.getPath(),n=0;n<t.getLength();n++)e.extend(t.getAt(n));return e;},_createGeoStep:function(e,t){return new google.maps.Polyline({ path:e,options:t });},_createOptStep:function(e){return{ path:e.path||google.maps.geometry.encoding.decodePath(e.polyline.points),options:{ defaultStyle:this._setStyleByType(e),basicStyle:this._normalizeOpt(this.styles.basicStyle),highlightStyle:this._normalizeOpt(this.styles.highlightStyle),selectedStyle:this._normalizeOpt(this.styles.selectedStyle),darwinStyle:this._setStyleByTypeDarwin(e) } };},_normalizeOpt:function(e){let t=this,n={ geodesic:!0 };return o.default.each(e,function(e,i){t._isPolylineOption(i)&&(n[i]=e);}),n;},_isPolylineOption:function(e){return-1!==['clickable','draggable','editable','geodesic','icons','map','path','strokeColor','strokeOpacity','strokeWeight','visible','zIndex'].indexOf(e);},_setStyleByType:function(e){let t=this.styles.defaultStyle[e.mode]||this.styles.defaultStyle;if('TRAIN'===e.mode&&!e.isGoogleStep){t=this.styles.defaultStyle[e.mode][e.delayClass]||t,t.strokeColor=e.colorLine;}return this._normalizeOpt(t);},_setStyleByTypeDarwin:function(e){let t=this.styles.defaultStyle[e.mode]||this.styles.defaultStyle;if('TRAIN'===e.mode&&!e.isGoogleStep){t=this.styles.defaultStyle[e.mode][e.delayClass]||t,t.strokeColor=e.delayColor;}return this._normalizeOpt(t);},draw:function(){let e=void 0,t=void 0;for(e=0;e<this.optRoute.length;e++){let n=this._createGeoStep(this.optRoute[e].path,this.optRoute[e].options[this.initialStyle]);this.geoRoute.push(n),t=this.optRoute[e].options[this.initialStyle].zIndex;}this.transparentRoute.setOptions({ map:this.map,zIndex:t+999 }),this.routeModel.setStyle(this.initialStyle);},remove:function(){let e=void 0;for(e=0;e<this.geoRoute.length;e++)this.geoRoute[e].setMap(null);this.transparentRoute.setMap(null),google.maps.event.removeListener(this.clickOnMapListener),this.routeModel.off('change:selected'),this.routeModel.off('change:style'),this.routeModel.off('change:highlighted');},_bindListeners:function(e){let t=this;this.routeHoverable&&(google.maps.event.addListener(e,'mouseover',function(){t.routeModel.onHover();}),google.maps.event.addListener(e,'mouseout',function(){t.routeModel.onLeave();})),this.routeClickable&&google.maps.event.addListener(e,'click',function(){t.selectRoute();}),this.styles.deselectClickingOut&&(this.clickOnMapListener=google.maps.event.addListener(this.map,'click',function(){t.routeModel.isSelected()&&(t.mapClick=!0,t.deselectRoute());})),this.routeModel.on('change:selected',function(e){if(t.mapClick)return void(t.mapClick=!1);e.isSelected()?t.selectRoute():t.deselectRoute('basicStyle');},this.routeModel),this.routeModel.on('change:style',function(e){e.isSelected()||t._applyStyle(e.getStyle());}),this.routeModel.on('change:highlighted',function(e){e.isHovered()?t.highlightRoute():t.leaveRoute();}),this.routeModel.on('change:visibility',function(e){e.get('visibility')?(t._showRoute(),t.routeModel.set('bounds',t.getBounds())):(t._hideRoute(),t.routeModel.set('bounds',!1));}),this.routeModel.on('change:detailsOpen',function(e){e.get('detailsOpen')?t._setDarwinDelays():t._setPredictionDelays();});},_setDarwinDelays:function(){this.routeModel.set('style','darwinStyle'),this._applyStyle(this.routeModel.get('style')),this.routeModel.onHover(),this.routeModel.onLeave();},_setPredictionDelays:function(){this.routeModel.set('style','defaultStyle'),this._applyStyle(this.routeModel.get('style')),this.routeModel.onHover(),this.routeModel.onLeave();},_getStyleWithIcons:function(e){let t={};if(e){for(var n=[],i=0;i<e.length;i++){let a=e[i].icon.scale+1,s=o.default.extend({},e[i].icon,{ scale:a }),r=parseInt(e[i].repeat.split('px')[0])+2+'px',l=o.default.extend({},e[i],{ icon:s,repeat:r });n.push(l);}t={ strokeWeight:0,strokeOpacity:0,icons:n };}return t;},highlightRoute:function(){if(!this.routeModel.get('noHighlighted')){let e=this.routeModel.getStyle();this._applyEventStyle('highlightStyle',e);}},leaveRoute:function(){let e=this.routeModel.getStyle();this._applyStyle(e);},selectRoute:function(){this.routeModel.get('detailsOpen')||(this._applyEventStyle('selectedStyle','defaultStyle'),this.routeModel.onSelect(),this.widget.eventBus.bus.trigger('LOAD_SERVICE_STATIONS',this.providedRoute.transitStops));},deselectRoute:function(e){let t=e||this.routeModel.getStyle();this._applyStyle(t),this.routeModel.onDeselect();},_applyStyle:function(e){let t=void 0;for(t=0;t<this.optRoute.length;t++){let n=this.optRoute[t].options[e];n.map=this.map,this.geoRoute[t]&&this.geoRoute[t].setOptions(n);}},_applyEventStyle:function(e,t){let n=void 0;for(n=0;n<this.optRoute.length;n++){let i=this.optRoute[n].options[t],a=this._getStyleWithIcons(i.icons),s=o.default.extend({},i,this.optRoute[n].options[e],a);delete s.map,this.geoRoute[n]&&this.geoRoute[n].setOptions(s);}},_hideRoute:function(){let e=void 0;for(e=0;e<this.geoRoute.length;e++)this.geoRoute[e].setMap(null);this.transparentRoute.setMap(null);},_showRoute:function(){let e=void 0;for(e=0;e<this.geoRoute.length;e++)this.geoRoute[e].setMap(this.map);this.transparentRoute.setMap(this.map);} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(10),s=i(a),r=n(4),o=i(r),l=n(0),c=i(l),u=n(13),d=i(u);t.default=s.default.extend({ constructor:function(e){s.default.prototype.constructor.call(this,e);},initialize:function(e){let t=this;s.default.prototype.initialize.call(this,e),this.serviceInfoModel=d.default.getInstance(this.widget),this.widget.bus.on('SERVICE_SELECTED',function(e,n,i){if(t.centeredOnTheTrain=!n.fromURL,!i){let a=t.stationsLayer.params.selectedZoom-2;t._trainMarker&&(t.map.setZoom(a),t.map.setCenter(t._trainMarker.getPosition()));}if(t._lastService!==e){t._lastService&&t.removeService();let s=!0;t.listenTo(t.serviceInfoModel,'change:serviceInfo',function(n,i){if(i===d.default.NOT_FOUND&&t._lastService)return void t._removeTrain();if(i!==d.default.ERROR){if(i.missingCoords)return void t.widget.eventBus.bus.trigger('RESTORE_STATIONS');t._drawLayer(i.callingPoints),s&&(t.stationsLayer.removeSelectedMarker(),t.map.fitBounds(t.bounds),s=!1),t._lastService=e;}}),t.listenTo(t.serviceInfoModel,'change:trainProgress',function(e,n){t._onTrainPositionChanged(n),c.default.isUndefined(t._trainMarker)||t.centeredOnTheTrain||c.default.isUndefined(n.position)||(t.map.setZoom(t.stationsLayer.params.selectedZoom-2),t.map.setCenter(t._trainMarker.getPosition()),t.centeredOnTheTrain=!0);});}}),this.widget.bus.on('LAYER_LOADED',function(e,n){'stations'===e.id&&(t.stationsLayer=e);}),this.widget.bus.on('REMOVE_SERVICE',function(){t.reset();}),this.widget.bus.on('STATION_SELECTED',function(e){t.selectedStation=e;}),this.hoverUrl=e.source.params.hoverIcon;},normalizeResponse:function(e){return{ features:e };},_drawLayer:function(e){this.serviceInfo=e,this.widget.eventBus.bus.trigger('LOAD_SERVICE_STATIONS',this.serviceInfo),this._drawPolyline();},_drawPolyline:function(){this._removePolyline(),this.servicePolyline=[];for(let e=0;e<=this.serviceInfo.length-2;){let t=new google.maps.LatLng(this.serviceInfo[e].geometry.coordinates[1],this.serviceInfo[e].geometry.coordinates[0]);this.serviceInfo[e].position=t;let n=new google.maps.LatLng(this.serviceInfo[e+1].geometry.coordinates[1],this.serviceInfo[e+1].geometry.coordinates[0]);this.serviceInfo[e+1].position=n;let i=new google.maps.Polyline(c.default.extend({ path:[t,n],map:this.widget.map,geodesic:!0 },{ strokeColor:this.serviceInfo[e].colorLine,strokeWeight:4 }));this._extendBounds(i.getPath()),this.servicePolyline.push(i),e++;}},_extendBounds:function(e){this.bounds||(this.bounds=new google.maps.LatLngBounds);for(let t=0;t<e.getLength();t++)this.bounds.extend(e.getAt(t));},_removePolyline:function(){let e=this;c.default.each(this.servicePolyline,function(t,n){t.setMap(null),delete e.servicePolyline[n];}),this.servicePolyline=[];},_removeTrain:function(){this._trainMarker&&(this._trainMarker.setMap(null),this._trainMarker=null);},_onTrainPositionChanged:function(e){if(e){let t=e.position;this._trainMarker?this._trainMarker.setPosition(t):this._trainMarker=new google.maps.Marker({ icon:this._createMarkerIconProperties(this.params.trainIcon),position:t,map:this.widget.map,optimized:!this.widget.config.debugEnabled,zIndex:999999 });}else this._trainMarker&&(this._trainMarker.setMap(null),this._trainMarker=null);},_createMarkerIconProperties:function(e){if(!e)return null;let t={};return c.default.isString(e)?t={ url:e }:t.url=e.url,t.url=o.default.getImgUrl(t.url,this.widget,this.params.iconsPath),c.default.isArray(e.anchor)?t.anchor=new google.maps.Point(e.anchor[0],e.anchor[1]):t.anchor=new google.maps.Point(13,13),t;},removeService:function(){this.bounds=null,this._lastService=null,this.widget.eventBus.bus.trigger('REMOVE_SERVICE_STATIONS'),this._removePolyline(),this._removeTrain(),this.stopListening();},reset:function(){this.removeService(),this.stationsLayer.activateSource();} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(10),s=i(a),r=n(4),o=i(r),l=n(0),c=i(l),u=n(31),d=i(u),p=n(1),h=i(p),f=n(12),m=i(f);t.default=s.default.extend({ constructor:function(e){s.default.prototype.constructor.call(this,e);},initialize:function(e){let t=this;s.default.prototype.initialize.call(this,e),this.widget.bus.on('LOAD_SERVICE_STATIONS',function(e){t.serviceInfo=e,t.stationsLayer.noVisible=!0,t.stationsLayer.remove(),t._drawStations(),t.updatingIncidentsListener=t.listenTo(t.incidentsModel,'change:incidentsMarkers',function(e,n){t._showIncident();});}),this.widget.bus.on('REMOVE_SERVICE_STATIONS',function(){t.stationsLayer.noVisible=!1,t._removeStations(),t.stopListening(t.incidentsModel,'change:incidentsMarkers');}),this.widget.bus.on('RESTORE_STATIONS',function(){t.stationsLayer.activateSource();}),this.widget.bus.on('LAYER_LOADED',function(e,n){'stations'===e.id&&(t.stationsLayer=e);}),this.hoverUrl=e.source.params.hoverIcon,this.incidentsModel=m.default.getInstance(this.widget);},normalizeResponse:function(e){return{ features:e };},_drawStations:function(){let e=this;this._removeStations(),this.serviceStations=[];let t=this._createMarkerIconProperties(this.params.stationIcon);1===this.serviceInfo.length&&this.serviceInfo.push({ coords:this.serviceInfo[0].properties.end_location,properties:{} }),c.default.each(this.serviceInfo,function(n,i){let a=void 0;if(a=n.selected?e._createMarkerIconProperties(e.params.hoverIcon):0===i?e._createMarkerIconProperties(e.params.originIcon):i===e.serviceInfo.length-1?e._createMarkerIconProperties(e.params.destinationIcon):n.firstTransbord?t:n.lastTransbord?t:n.properties&&n.properties.isGoogleStep?'bicycling'===n.properties.mMode||'walking'===n.properties.mMode||'driving'===n.properties.mMode?null:e._createMarkerIconProperties(e.params.transitIcon):t,(n.geometry||n.coords)&&a){let s=n.coords?n.coords:new google.maps.LatLng(n.geometry.coordinates[1],n.geometry.coordinates[0]),r=new google.maps.Marker({ position:s,cursor:a!==t?'default':'pointer',properties:n.properties,icon:a,map:e.widget.map,optimized:!e.widget.config.debugEnabled });(n.properties.name||n.properties.crs)&&(r.addListener('mouseover',function(){e.previousMarkerIcon=r.getIcon(),e.marker=d.default.createStationLabel(r,e.widget),r.getIcon().url&&-1===r.getIcon().url.indexOf('icon-selected.png')&&-1===r.getIcon().url.indexOf('icon-start.png')&&r.setIcon(e._createMarkerIconProperties(e.params.hoverIcon));}),r.addListener('mouseout',function(){e.marker.setMap(null),r.getIcon().url&&-1===r.getIcon().url.indexOf('icon-selected.png')&&-1===r.getIcon().url.indexOf('icon-start.png')&&r.setIcon(e.previousMarkerIcon);})),e.serviceStations.push(r);}}),this._showIncident(),this.idleListener=google.maps.event.addDomListener(this.widget.map,'idle',function(){e._showIncident();});},_removeStations:function(){let e=this;c.default.each(this.serviceStations,function(t,n){t.setMap(null),delete e.serviceStations[n];}),this.serviceStations=[],this._showIncident(),google.maps.event.removeListener(this.idleListener);},_createMarkerIconProperties:function(e){if(!e)return null;let t={};return c.default.isString(e)?t={ url:e }:t.url=e.url,t.url=o.default.getImgUrl(t.url,this.widget,this.params.iconsPath),c.default.isArray(e.anchor)?t.anchor=new google.maps.Point(e.anchor[0],e.anchor[1]):t.anchor=new google.maps.Point(13,13),t;},_showIncident:function(){let e=this,t=this.incidentsModel.get('incidentsMarkers');if(t){if(0===t.length)return;let n=this.serviceStations;c.default.each(t,function(t){0===n.length?(t.setVisible(!0),t.visibleServiceStation=!1,(0,h.default)(t.markerWrapper_).removeClass('snw-visible-service-station')):e._hasVisibleStation(t,n);});let i=this.incidentsModel.get('selectedIncident');i&&this._hasVisibleStation(i,n);}},_hasVisibleStation:function(e,t){c.default.findIndex(t,function(t){return t.properties.crs===e.properties.crs;})>-1?(e.visibleServiceStation=!0,(0,h.default)(e.markerWrapper_).addClass('snw-visible-service-station'),e.properties.incidentId.length>0&&(0,h.default)(e.markerWrapper_).addClass('snw-multiple-incidents-'+e.properties.incidentId.length),e&&!e.markerWrapper_&&setTimeout(function(){(0,h.default)(e.markerWrapper_).addClass('snw-visible-service-station'),e.properties.incidentId.length>0&&(0,h.default)(e.markerWrapper_).addClass('snw-multiple-incidents-'+e.properties.incidentId.length);},50)):(e.visibleStation=!1,(0,h.default)(e.markerWrapper_).removeClass('snw-visible-service-station'));} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(24),s=i(a),r=n(0),o=i(r),l=n(4),c=i(l),u=n(31),d=i(u),p=n(1),h=i(p),f=n(217),m=i(f),y=n(12),g=i(y),v=n(11),w=i(v);t.default=s.default.extend({ constructor:function(e){e.source.params.widget=e.widget,s.default.prototype.constructor.call(this,e);},initialize:function(e){let t=this,n=e.source.params.iconsPath;e.source.params.sourceUrl=this.widget.config.baseApiUrl+e.source.params.sourceUrl,this.disruptionsMinZoom=e.source.params.disruptionsMinZoom||15,this.disruptionsURL=e.source.params.disruptionsUrl,this.disruptionStyles=e.source.params.disruptionStyle,this.infowindowMarkers=[],n&&(e.source.params.iconMarker&&(o.default.isString(e.source.params.iconMarker.url)&&-1===e.source.params.iconMarker.url.indexOf('http')&&(e.source.params.iconMarker.url=n+'/'+e.source.params.iconMarker.url),o.default.isString(e.source.params.iconMarker.selectedUrl)&&-1===e.source.params.iconMarker.selectedUrl.indexOf('http')&&(e.source.params.iconMarker.selectedUrl=n+'/'+e.source.params.iconMarker.selectedUrl),o.default.isString(e.source.params.iconMarker.hoverUrl.url)&&-1===e.source.params.iconMarker.hoverUrl.url.indexOf('http')&&(e.source.params.iconMarker.hoverUrl=n+'/'+e.source.params.iconMarker.hoverUrl.url,this.hoverUrl=e.source.params.iconMarker.hoverUrl)),e.source.params.cluster&&e.source.params.cluster.styles.length>0&&o.default.each(e.source.params.cluster.styles,function(i,a){if(o.default.isString(i.url)){let s=i.url;-1===i.url.indexOf('http')&&(s=n+'/'+i.url),e.source.params.cluster.styles[a].url=c.default.getImgUrl(s,t.widget);}})),s.default.prototype.initialize.call(this,e),this.incidentsModel=g.default.getInstance(this.widget),this.bindListeners(),this._doSearch();},bindListeners:function(){let e=this;this.listenTo(this.widget.eventBus.bus,'CLICK_ON_MARKER',function(t,n){e.marker=t,'stations'===n.id?(e.selectedStation=t,e.widget.eventBus.bus.trigger('STATION_SELECTED',t.properties),e.widget.eventBus.bus.trigger('USER_ACTION_TRACKING',{ tracking:'StationSelected',value:t.properties.crs }),e.nearbyView=e.widget.handleLayers.getLayerView('nearbyRoute'),e.nearbyView&&e.nearbyView.remove()):e._deleteSelectedMarker();}),this.listenTo(this.widget.eventBus.bus,'STATION_PANEL_SHOWN',function(){e.serviceView=e.widget.handleLayers.getLayerView('service'),e.serviceView&&e.serviceView.bounds?e.map.fitBounds(e.serviceView.bounds):(e._goToStationLocation(e.marker),e.getMyLocation().done(function(t){e.nearbyView.getRoute(t,new google.maps.LatLng(e.marker.properties.geometry[1],e.marker.properties.geometry[0]),function(t){t||e._goToStationLocation(e.marker);});}).fail(function(){e._goToStationLocation(e.marker);}));}),this.listenTo(this.widget.eventBus.bus,'CLICK_ON_MARKER_SELECTED',function(t,n){'stations'===n.id&&(e.widget.eventBus.bus.trigger('REMOVE_SERVICE'),e.widget.eventBus.bus.trigger('CLOSE_STATION_PANEL',t.id),e.widget.eventBus.bus.trigger('CLOSE_ALL_PANELS'));}),this.listenTo(this.widget.eventBus.bus,'CLOSE_STATION_PANEL',function(t){e.currentSelectedMarker&&e.currentSelectedMarker.setClickable(!0),e._deleteSelectedMarker(),e.selectedStation=null;}),this.listenTo(this.widget.eventBus.bus,'REMOVE_SERVICE',function(){if(e.previouslySelectedMarker=e.selectedStation,e.previouslySelectedMarker){e.currentSelectedMarker=e.previouslySelectedMarker,e.previouslySelectedMarker.setMap(e.map);let t=e.previouslySelectedMarker.getPosition();setTimeout(function(){e.map.setZoom(e.params.selectedZoom),e.map.setCenter(t);},100);}e.idleListener||(e.idleListener=google.maps.event.addDomListener(e.widget.map,'idle',e.idleListenerFunction)),e.updatingIncidentsListener=e.listenTo(e.incidentsModel,'change:incidentsMarkers',function(t,n){e._showIncident();});}),this.listenTo(this.widget.eventBus.bus,'SERVICE_SELECTED',function(){google.maps.event.removeListener(e.idleListener),e.idleListener=null,e.stopListening(e.incidentsModel,'change:incidentsMarkers'),e._showDisruption(!1),e._showIncident();}),this.idleListenerFunction=function(){e.activateSource(),e._showDisruption(e.widget.map.getZoom()>=e.disruptionsMinZoom),e._showIncident();},this.idleListener=google.maps.event.addDomListener(this.widget.map,'idle',this.idleListenerFunction),this.updatingIncidentsListener=this.listenTo(this.incidentsModel,'change:incidentsMarkers',function(t,n){e._showIncident();}),this.widget.bus.on('RESTORE_STATIONS',function(){e._showIncident();}),this.listenTo(this.widget.eventBus.bus,'CLICK_ON_STATION',function(t,n){let i=e._getMarkerFromId(t),a=function(t){e.map.setZoom(e.params.selectedZoom),e.map.setCenter(t);},s=function(){i=e._getMarkerFromId(t),n?(a(i.position),e.widget.eventBus.bus.trigger('journeyCheckActive',!1)):new google.maps.event.trigger(i,'click');};i?s():(e.activateSource(),w.default.getCoordinatesByCrs(t,e.widget).then(function(t){let n=new google.maps.LatLng(t[1],t[0]);a(n),google.maps.event.addListenerOnce(e.widget.map,'idle',s);}));});},_createMarkerTree:function(){if(!this.stationsTree){this.stationsTree=(0,m.default)(9,['[0]','[1]','[0]','[1]']);for(let e=this.features.length-1;e>=0;e--)if(this.features[e].properties.display){let t=this.features[e].geometry.coordinates;t.push(this.features[e].properties.id),this.stationsTree.insert(t);}}},_showDisruption:function(e){function t(){let e=this;this._getDisruptions().then(function(t){if(!t)return!1;let n=t.stationMessage,i=[];e.markersWithInfoWindow=e._getStationMarkers(n),o.default.each(e.markersWithInfoWindow,function(t){null!==t.map&&i.push(d.default.createDisruptLabel(t,e.widget));}),setTimeout(function(){o.default.forEach(e.infowindowMarkers,function(e){e.setMap(null);}),e.infowindowMarkers=i;},1);});}e?this.stationsTree&&this.stationsTree.search?t.call(this):setTimeout(t.bind(this),1e3):((0,h.default)('.marker-label').remove(),o.default.forEach(this.infowindowMarkers,function(e){e.setMap(null);}));},_getDisruptions:function(){let e=h.default.Deferred(),t=void 0;return t=this.stationsTree?this._getVisibleStations():null,o.default.isEmpty(t)?e.resolve():h.default.getJSON(this.widget.config.baseApiUrl+this.disruptionsURL+'?crs='+t.join(','));},_getStationMarkers:function(e){let t=this,n=[],i=null;return o.default.isArray(e)||(e=[e]),o.default.each(e,function(e){(i=t._getMarkerFromId(e.stationCRS||e))&&(i.properties||(i.properties={}),i.properties.stationDistruption=t._processDisruptIcons(e.stationAlerts),i.properties.stationAlerts=e.stationAlerts?e.stationAlerts:null,n.push(i));}),n;},_processDisruptIcons:function(e){let t='';if(!o.default.isEmpty(e)){t+='<span class="icon minorDisruption"></span>';}return t;},beforeRemove:function(){this.currentSelectedMarker&&(this.selectedStation=this.currentSelectedMarker,this.selectedStationIcon=this.currentSelectedMarker.icon);},activateSource:function(){let e=this;this.activeTimeOut&&clearTimeout(this.activeTimeOut),this.activeTimeOut=setTimeout(function(){if(e.map.getZoom()>=e.minZoom&&!e.noVisible){e.currentSelectedMarker=e.selectedStation||null;let t=e._getVisibleStations(),n=e.features.filter(function(n){let i=e._getMarkerFromId(n.properties.id);return t.indexOf(n.properties.id)>-1&&!i;}),i=e._getMarkersFromFeatures(n);e.markers=e.markers.concat(i),e.isOnMap?e._showMarkers(i):e._showMarkers(e.markers),e.isOnMap=!0;}},100);},_onMouseOver:function(e,t){let n=this;this.widget.map.getZoom()<this.disruptionsMinZoom&&(this.previousMarkerIcon=e.getIcon(),this.label=d.default.createStationLabel(e,this.widget)),s.default.prototype._onMouseOver.call(this,e,t),google.maps.event.addListener(this.map,'zoom_changed',function(){n._onMouseOut(e,t);});},_onMouseOut:function(e,t){this.label&&this.widget.map.getZoom()<this.disruptionsMinZoom&&(this.label.setMap(null),(0,h.default)('.marker-label').remove()),s.default.prototype._onMouseOut.call(this,e,t);},removeSelectedMarker:function(){this._deleteSelectedMarker();},_showIncident:function(){let e=this,t=this.incidentsModel.get('incidentsMarkers');if(t&&this.stationsTree){if(0===t.length)return;let n=this._getVisibleStations();this.map.getZoom()<this.minZoom&&(n=[]),o.default.each(t,function(t){t.setVisible(!0),e._hasVisibleStation(t,n);});let i=this.incidentsModel.get('selectedIncident');i&&this._hasVisibleStation(i,n);}},_getVisibleStations:function(){let e=this.map.getBounds(),t={ maxX:e.getNorthEast().lng(),maxY:e.getNorthEast().lat(),minX:e.getSouthWest().lng(),minY:e.getSouthWest().lat() };return this.stationsTree.search(t).map(function(e){return e[2];});},_hasVisibleStation:function(e,t){o.default.findIndex(t,function(t){return t===e.properties.crs;})>-1?(e.visibleStation=!0,(0,h.default)(e.markerWrapper_).addClass('snw-visible-station'),e.properties.incidentId.length>0&&(0,h.default)(e.markerWrapper_).addClass('snw-multiple-incidents-'+e.properties.incidentId.length),e&&!e.markerWrapper_&&setTimeout(function(){(0,h.default)(e.markerWrapper_).addClass('snw-visible-station'),e.properties.incidentId.length>0&&(0,h.default)(e.markerWrapper_).addClass('snw-multiple-incidents-'+e.properties.incidentId.length);},50)):(e.visibleStation=!1,(0,h.default)(e.markerWrapper_).removeClass('snw-visible-station'));},getMyLocation:function(){let e=h.default.Deferred();return this.widget.eventBus.bus.trigger('GET_MYLOCATION',e),e.promise();},_goToStationLocation:function(e){this.map.getZoom()!==this.params.selectedZoom&&this.map.setZoom(this.params.selectedZoom),this.marker&&this.map.setCenter(e.getPosition());},highlightMarker:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'default',n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],void 0);switch(t){case'hover':n='hoverUrl';break;case'selected':n='selectedUrl';break;case'default':default:n='url';}let i=o.default.filter(this.markers,function(t){return t.id===e;});if(o.default.isArray(i)){i=i[0];let a=this._getMarkerIcon(n);this.richmarkerByUrl?this._setRichMarkerContent(i,a):this.params.propertyType?(a=this._getMarkerIconByType(i.properties[this.params.propertyType],n),i.setOptions({ icon:a })):i.setOptions({ icon:o.default.extend(i.getIcon(),{ url:a,size:this.params.iconMarker.defaultSize||i.size,scaledSize:this.params.iconMarker.defaultSize||i.scaledSize }) });}},_doSearch:function(e){let t=this;this._timeout=setTimeout(function(){t._timeout=null,t.provider?t.provider.load(e).then(function(e){t.widget.bus.trigger('LAYER_LOADED',t,e.features),t._searchActive&&(t._processResultSearch(e),t.widget.eventBus.bus.trigger('GET_MYLOCATION'));}):o.default.isNull(t.provider)&&t.widget.eventBus.bus.trigger('BBOX_CHANGED',t.map.getBounds(),t);},this.searchDelay);},_processResultSearch:function(e){e.features.length&&(this._addResults(e.features),this._createMarkerTree());} });},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}function o(e){let t={};return e.forEach(function(e){let n=void 0,i=void 0,a=void 0,s=void 0;'googleMode'===e.transitMode?(n=e[_]?e[_].value*b:(new Date).getTime(),i=e[w]?e[w].value*b:n+e.duration.value*b,a=new Date(n).getTime(),s=new Date(i).getTime()):(n=e.timetable&&e.timetable.realtime?e.timetable.realtime.departure:e.timetable.scheduled.departure,i=e.timetable&&e.timetable.realtime?e.timetable.realtime.arrival:e.timetable.scheduled.arrival,a=new Date(n).getTime(),s=new Date(i).getTime()),t.departure=t.departure&&t.departure<a||!a?t.departure:a,t.arrival=t.arrival&&t.arrival>s||!s?t.arrival:s;}),t;}Object.defineProperty(t,'__esModule',{ value:!0 });var l=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),c=n(1),u=i(c),d=n(23),p=i(d),h=n(4),f=i(h),m=n(0),y=i(m),g=n(12),v=i(g),w='arrival_time',_='departure_time',b=1e3,C=function(e){function t(){let e;a(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];let l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return l.isFiltered=!1,l.arr=[],l.activeRoute=!1,l.times=null,l.eventBus.bus.on('FILTER_INCIDENTS',function(e){l.arr=e.arr,l.activeRoute=e.activeRoute||!1,l.times=o(e.alternatives),l.isFiltered=!!e.arr.length||l.activeRoute;}),l.eventBus.bus.on('RESTORE_STATIONS',function(){l.arr=[],l.isFiltered=!1,l.times=null,l.activeRoute=!1,l.incidentsModel.set('incidents',l.filter(l.unfiltered,[],l.activeRoute));}),l;}return r(t,e),l(t,[{ key:'filter',value:function(e,t,n){let i=this;return t.length||!1!==n?e.filter(function(e){if(!e.crs)return!0;if(Array.isArray(e.crs)){let n=!1;return e.crs.map(function(e){return t.indexOf(e)>-1&&(n=!0),e;}),n&&i.filterTimes(e);}return t.indexOf(e.crs)>-1&&i.filterTimes(e);}):this.unfiltered;} },{ key:'filterTimes',value:function(e){let t=this.times,n=t.departure,i=t.arrival,a=void 0===e.validityPeriodStart||new Date(e.validityPeriodStart).getTime()<i,s=void 0===e.validityPeriodFinish||new Date(e.validityPeriodFinish).getTime()>n;return a&&s;} },{ key:'load',value:function(e){let t=this,n=u.default.Deferred();this._deferred=n;let i=u.default.getJSON(this.params.sourceUrl);return this.incidentsModel=v.default.getInstance(this.params.widget),i.always(function(i,a){e&&(i=[]),t.unfiltered=i,t.incidentsModel.set('incidents',t.filter(t.unfiltered,t.arr,t.activeRoute)),t.update(t.incidentsModel.get('incidents')).then(function(e){n.resolve(e);});}),n.promise();} },{ key:'update',value:function(e){let t=this,n=u.default.Deferred();return this._deferred=n,this.normalizeResponse(e).then(function(e){t.params.geometry='geometry';let i=f.default.transformDataToGeoJSON(e,t.params);n.resolve(i,status);}),n.promise();} },{ key:'normalizeResponse',value:function(e){let t=this,n=new u.default.Deferred,i=e,a=[];return i=this._processLayer(i),y.default.each(i,function(e){let n=e.crs;e.crs=n,e.incidentId=e.id,a.push(t._getCoordinates(n,e));}),u.default.when.apply(u.default,a).done(function(){let e=i.filter(function(e){return!e.error;});n.resolve({ features:t._groupByCrs(e) });}),n.promise();} },{ key:'_processLayer',value:function(e){let t=JSON.stringify(e);return t=JSON.parse(t),y.default.each(e,function(e,n){let i=Array.isArray(e.crs)?JSON.stringify(e.crs):e.crs;try{let a=JSON.parse(i);t.splice(n,1),y.default.each(a,function(n){t.push(y.default.extend({},e,{ crs:n }));});}catch(e){}}),t;} },{ key:'_groupByCrs',value:function(e){let t={};return y.default.each(e,function(e,n){let i=e.crs;void 0===t[i]?t[i]=e:y.default.map(t[i],function(n,a){'geometry'!==a&&'crs'!==a&&(t[i][a]=[].concat(n,e[a]));});}),y.default.toArray(t);} },{ key:'_getCoordinates',value:function(e,t){let n=new u.default.Deferred;return n.resolve(y.default.extend(t,{ geometry:[parseFloat(t.lng),parseFloat(t.lat)],severity:this._getSeverity(t.priority) })),n.promise();} },{ key:'_getSeverity',value:function(e){return{ 0:'severeDisruption',1:'majorDisruption',2:'minorDisruption' }[e];} },{ key:'validate',value:function(){if(!this.params.sourceUrl||!y.default.isString(this.params.sourceUrl))throw new Error('APIProvider: Not existing incidents source');} }]),t;}(p.default);t.default=C;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}Object.defineProperty(t,'__esModule',{ value:!0 });let o=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),l=n(1),c=i(l),u=n(23),d=i(u),p=n(11),h=i(p),f=n(0),m=i(f),y=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));}return r(t,e),o(t,[{ key:'load',value:function(){let e=c.default.Deferred();return h.default.getStations(this.params.widget).then(function(t){e.resolve({ features:t });}),e.promise();} },{ key:'normalizeResponse',value:function(e){return{ features:e };} },{ key:'validate',value:function(){if(!this.params.sourceUrl||!m.default.isString(this.params.sourceUrl))throw new Error('APIProvider: Not existing stations source');} }]),t;}(d.default);t.default=y;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(127),s=i(a),r=n(126),o=i(r);t.default={ APIProvider:s.default,APIIncidentsProvider:o.default };},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}Object.defineProperty(t,'__esModule',{ value:!0 });let s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=n(9),o=n(4),l=i(o),c=n(0),u=i(c),d=function(){function e(){a(this,e);}return s(e,null,[{ key:'_countIncidents',value:function(e){let t=0;return e.markers_.map(function(e){t+=u.default.isArray(e.properties.incidentId)?e.properties.incidentId.length:1;}),t;} },{ key:'createIncidentLabel',value:function(t,n){let i=e._countIncidents(t),a=l.default.stringFormat(n.polyglot.t('incidentsLayer.incidents'),[i.toString()]);return new r.RichMarker({ shadow:'none',content:'<div class="marker-label incident"><div class="content">'+a+'</div></div>',map:n.map,position:t.center_,zIndex:9999 });} }]),e;}();t.default=d;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(125),s=i(a),r=n(123),o=i(r),l=n(121),c=i(l),u=n(124),d=i(u),p=n(120),h=i(p),f={ StationsLayer:s.default,ServiceLayer:o.default,NearbyRouteLayer:c.default,ServiceStationLayer:d.default,IncidentsLayer:h.default };t.default=f;},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{ value:!0 });let i={};t.default=i;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(0),o=i(r),l=n(9),c={ TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9 },u=s.default.View.extend({ template:n(169),constructor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.widget=e.widget,this.map=e.widget.map,this.minZoom=o.default.isUndefined(e.params.minZoom)?0:e.params.minZoom,s.default.View.prototype.constructor.call(this,e),this._bindListeners();},initialize:function(e){s.default.View.prototype.initialize.call(this,e),this.templateConfig={ duration:e.duration },this._addLabel(e.opt);},_bindListeners:function(){let e=this;google.maps.event.addListener(this.map,'zoom_changed',function(){e.minZoom||(e.minZoom=e.map.getZoom()-3),e.map.getZoom()<e.minZoom?e.hideLabel():e.showLabel();});},render:function(){return this.setElement(this.template(this.templateConfig)),this;},_addLabel:function(e){let t=this._calculatePosition(e.path);t&&(this.templateConfig=o.default.extend({ direction:t.direction },e.dataLabel),this.label=new l.RichMarker({ position:t.position,content:this.render().el,flat:!0,anchor:c[t.direction.markerPosition],height:'15px',draggable:!1,map:this.map }),this.label.setZIndex(1e3));},hideLabel:function(){this.label&&this.label.setMap(null);},showLabel:function(){this.label&&this.label.setMap(this.map);},remove:function(){this.hideLabel(),this.label=null;},_calculatePosition:function(e){let t=void 0,n=[],i={},a=void 0;for(t=1;t<e.length;t++)a=google.maps.geometry.spherical.computeDistanceBetween(e[t-1],e[t]),n.push(a),i[a]=t;return this._getBestPosition(n,i,e);},_getBestPosition:function(e,t,n){let i=void 0,a=void 0,s=void 0,r=void 0,o=void 0;return e=e.sort(this._sortNumber),e=e.reverse(),e.length>0&&(i=e[0],a=n[t[i]-1],s=n[t[i]],r=this._getMidpoint(a,s),o={ position:r,direction:this._getDirectionPosition(a,s) }),o;},_getMidpoint:function(e,t){return google.maps.geometry.spherical.interpolate(e,t,.5);},_sortNumber:function(e,t){return e-t;},_getDirectionPosition:function(e,t){let n=void 0,i=void 0,a=google.maps.geometry.spherical.computeHeading(e,t);return a>0&&a<=45?(n='left',i='TOP_LEFT'):a>45&&a<=90?(n='up-left',i='TOP_LEFT'):a>90&&a<=135?(n='down-left',i='BOTTOM_LEFT'):a>135?(n='left',i='BOTTOM_LEFT'):a<0&&a>=-45?(n='right',i='TOP_RIGHT'):a<-45&&a>=-90?(n='up-right',i='TOP_RIGHT'):a<-90&&a>=-135?(n='down-right',i='BOTTOM_RIGHT'):a<-135&&(n='right',i='BOTTOM_RIGHT'),{ arrow:n,markerPosition:i };} });t.default=u;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}Object.defineProperty(t,'__esModule',{ value:!0 });let a=n(3),s=i(a),r=n(1),o=i(r),l=n(0),c=i(l),u=s.default.View.extend({ template:n(170),initialize:function(e){s.default.View.prototype.initialize.call(this,e),this.styles=e.styles,this.widget=e.widget,e.stationPanel.rowPanel=this,this.fillData(e);},events:{ click:'stopPropagation','click .close-selected-btn':'close','click .see-routes-btn':'selectService' },render:function(){return this.setElement(this.template(this.templateConfig)),this._applyStyles(),this;},fillData:function(e){this.row=e.row,this.serviceId=e.serviceId,this.serviceInfo=e.serviceInfo;let t=(0,o.default)(this.row).find('td');this.templateConfig={ time:e.serviceInfo.time,destination:c.default.isString(e.serviceInfo.destination)?e.serviceInfo.destination:e.serviceInfo.origin,estimated:e.serviceInfo.estimated,colspan:t.length },this.oldContent=e.row,(0,o.default)(e.row).replaceWith(this.render().el);},update:function(e){this.close(null,e),this.fillData(e);},close:function(e,t,n){e&&e.stopPropagation(),this.row&&this.$el.replaceWith((0,o.default)(this.oldContent)),this.row=null,t&&this.serviceId===t.serviceId||n||this.widget.bus.trigger('REMOVE_SERVICE');},_applyStyles:function(){c.default.isObject(this.styles)&&this.$el.find('.see-routes-btn').css({ 'background-color':this.styles.primaryColor,color:this.styles.secondaryColor });},stopPropagation:function(e){e.stopPropagation();},selectService:function(){this.widget.bus.trigger('SERVICE_SELECTED',this.serviceId,this.serviceInfo);} });t.default=u;},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="'+l((s=null!=(s=n.componentClass||(null!=t?t.componentClass:t))?s:o,'function'==typeof s?s.call(r,{ name:'componentClass',hash:{},data:a }):s))+' '+l((s=null!=(s=n.position||(null!=t?t.position:t))?s:o,'function'==typeof s?s.call(r,{ name:'position',hash:{},data:a }):s))+' '+l((s=null!=(s=n.identifier||(null!=t?t.identifier:t))?s:o,'function'==typeof s?s.call(r,{ name:'identifier',hash:{},data:a }):s))+' autocomplete">\n\t<div class="search-section">\n\t\t<input type="text" placeholder="'+l((s=null!=(s=n.placeholderText||(null!=t?t.placeholderText:t))?s:o,'function'==typeof s?s.call(r,{ name:'placeholderText',hash:{},data:a }):s))+'"/>\n\t\t<i class="icon-ic_search_black_24px"></i>\n\t\t<i class="icon-ic_close_black_24px reset"></i>\n\t</div>\n\t<div class="results"></div>\n\t<div class="error-search-panel">'+l((n.t||t&&t.t||o).call(r,'autocomplete.notResultFound',{ name:'t',hash:{},data:a }))+'</div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="'+l((s=null!=(s=n.identifier||(null!=t?t.identifier:t))?s:o,'function'==typeof s?s.call(r,{ name:'identifier',hash:{},data:a }):s))+' '+l((s=null!=(s=n.componentClass||(null!=t?t.componentClass:t))?s:o,'function'==typeof s?s.call(r,{ name:'componentClass',hash:{},data:a }):s))+' snw-message-control">\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div>\n  <div class="snw-icon '+e.escapeExpression((s=null!=(s=n.iconClassName||(null!=t?t.iconClassName:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'iconClassName',hash:{},data:a }):s))+'"></div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div>\n    <div class="snw-name">\n        '+e.escapeExpression((s=null!=(s=n.name||(null!=t?t.name:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'name',hash:{},data:a }):s))+'\n    </div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <table>\n            <tbody>\n                <tr class="snw-data-item">\n                    <td>'+l((n.t||t&&t.t||o).call(r,'transitStops.arrival',{ name:'t',hash:{},data:a }))+':</td>\n                    <td class="snw-data-value">'+l((s=null!=(s=n.arrivalTime||(null!=t?t.arrivalTime:t))?s:o,'function'==typeof s?s.call(r,{ name:'arrivalTime',hash:{},data:a }):s))+'</td>\n                </tr>\n            </tbody>\n        </table>\n        ';},3:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'\n        <table>\n            <tbody>\n                <tr class="snw-data-item">\n                    <td>'+c((n.t||t&&t.t||l).call(o,'transitStops.departure',{ name:'t',hash:{},data:a }))+':</td>\n                    <td class="snw-data-value">'+c((r=null!=(r=n.departureTime||(null!=t?t.departureTime:t))?r:l,'function'==typeof r?r.call(o,{ name:'departureTime',hash:{},data:a }):r))+'</td>\n                </tr>\n                <tr class="snw-data-item">\n                    <td>'+c((n.t||t&&t.t||l).call(o,'transitStops.headsign',{ name:'t',hash:{},data:a }))+':</td>\n                    <td class="snw-data-value">'+c((r=null!=(r=n.headsign||(null!=t?t.headsign:t))?r:l,'function'==typeof r?r.call(o,{ name:'headsign',hash:{},data:a }):r))+'</td>\n                </tr>\n                <tr class="snw-data-item">\n                    <td>'+c((n.t||t&&t.t||l).call(o,'transitStops.line',{ name:'t',hash:{},data:a }))+':</td>\n                    <td class="snw-data-value">\n                        <img class="icon" src="'+c(u(null!=(s=null!=(s=null!=t?t.line:t)?s.vehicle:s)?s.icon:s,t))+'" title="'+c(u(null!=(s=null!=(s=null!=t?t.line:t)?s.vehicle:s)?s.name:s,t))+'">\n                        <span class="line" title="'+c(u(null!=(s=null!=t?t.line:t)?s.name:s,t))+'">'+c(u(null!=(s=null!=t?t.line:t)?s.short_name:s,t))+'</span>\n                        <span>('+c((r=null!=(r=n.totalStops||(null!=t?t.totalStops:t))?r:l,'function'==typeof r?r.call(o,{ name:'totalStops',hash:{},data:a }):r))+' '+c((n.t||t&&t.t||l).call(o,'transitStops.stops',{ name:'t',hash:{},data:a }))+')</span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'<div class="snw-ts-iw">\n    <div class="snw-ts-iw-title">'+e.escapeExpression((r=null!=(r=n.stopName||(null!=t?t.stopName:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'stopName',hash:{},data:a }):r))+'</div>\n    <div class="snw-ts-iw-content">\n'+(null!=(s=n.if.call(o,null!=t?t.arrivalTime:t,{ name:'if',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+' '+(null!=(s=n.if.call(o,null!=t?t.departureTime:t,{ name:'if',hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a }))?s:'')+'    </div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class="snw-maps-widget-container '+e.escapeExpression((s=null!=(s=n.className||(null!=t?t.className:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'className',hash:{},data:a }):s))+'">\n    <div class="map-container"></div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class=\'snw-custom-panel\'>\n  <div id="snw-custom-panel-accordion">\n    \x3c!--<h3 id="snw-followed-routes-accordion-header" class=\'snw-accordion-section-header snw-header\'>\n        <i class=\'snw-md-icon snw-icon-following\'></i>\n        <span class=\'snw-title-following\'>'+o((n.t||t&&t.t||r).call(s,'customPanel.followedRoutes',{ name:'t',hash:{},data:a }))+'</span>\n    </h3>\n    <div id="snw-followed-routes-accordion-container">\n    </div>--\x3e\n    <h3 id="snw-favourite-routes-accordion-header" class="snw-accordion-section-header snw-header">\n      <i class="snw-md-icon snw-md-icon-star-full"></i>\n      <span class="snw-title-favourite">'+o((n.t||t&&t.t||r).call(s,'customPanel.favouriteRoutes',{ name:'t',hash:{},data:a }))+'</span>\n    </h3>\n    <div id="snw-favourite-routes-accordion-container">\n    </div>\n    \x3c!--<h3 id="snw-company-stations-routes-accordion-header" class=\'snw-accordion-section-header snw-header\'>\n        <i class=\'snw-icon-company-stations snw-icon snw-icon-my-location\'></i>\n        <span class=\'snw-title-following\'>'+o((n.t||t&&t.t||r).call(s,'customPanel.stations',{ name:'t',hash:{},data:a }))+'</span>\n    </h3>\n    <div id="snw-company-stations-routes-accordion-container"></div>--\x3e\n    <h3 id="snw-favourite-stations-routes-accordion-header" class=\'snw-accordion-section-header snw-header\'>\n      <i class=\'snw-icon-favourite-stations snw-md-icon snw-md-icon-star-full\'></i>\n      <span class=\'snw-title-favourite-stations\'>'+o((n.t||t&&t.t||r).call(s,'customPanel.favouriteStations',{ name:'t',hash:{},data:a }))+'</span>\n    </h3>\n    <div id="snw-favourite-stations-routes-accordion-container"></div>\n    <h3 id="snw-nearby-stations-accordion-header" class=\'snw-accordion-section-header snw-header\'>\n      <i class=\'snw-icon-nearby-stations snw-md-icon\'></i>\n      <span class=\'snw-title-nearby-stations\'>'+o((n.t||t&&t.t||r).call(s,'customPanel.nearbyStations',{ name:'t',hash:{},data:a }))+'</span>\n    </h3>\n    <div id="snw-nearby-stations-accordion-container"></div>\n  </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class=\'snw-station snw-selectable snw-item\' id="'+l((s=null!=(s=n.crs||(null!=t?t.crs:t))?s:o,'function'==typeof s?s.call(r,{ name:'crs',hash:{},data:a }):s))+'">\n                    <div class=\' snw-icon-station\'></div>\n                    <div class=\'snw-station-content\'>\n                       '+l((s=null!=(s=n.name||(null!=t?t.name:t))?s:o,'function'==typeof s?s.call(r,{ name:'name',hash:{},data:a }):s))+' ('+l((s=null!=(s=n.crs||(null!=t?t.crs:t))?s:o,'function'==typeof s?s.call(r,{ name:'crs',hash:{},data:a }):s))+')\n                     </div>\n                </div>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div id="snw-company-stations" class=\'snw-favourite-stations\'>\n    <div class=\'snw-content\'>\n        <div class=\'snw-favourite\'>\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stations:t,{ name:'each',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'        </div>\n    </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'        <div id='+e.escapeExpression((r=null!=(r=n.createdAt||(null!=t?t.createdAt:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'createdAt',hash:{},data:a }):r))+' class="snw-favourite-route snw-item">\n            <div class="snw-icon-route"></div>\n            <div class="snw-route-content">\n                <span class="snw-route-content-origin '+(null!=(s=n.if.call(o,null!=t?t.originCrs:t,{ name:'if',hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a }))?s:'')+'">\n                    '+(null!=(s=n.if.call(o,null!=t?t.originCrs:t,{ name:'if',hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a }))?s:'')+'\n                </span>\n                <span class="snw-route-content-separator">-</span>\n\n                <span class="snw-route-content-destination '+(null!=(s=n.if.call(o,null!=t?t.destinationCrs:t,{ name:'if',hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a }))?s:'')+'">\n                    '+(null!=(s=n.if.call(o,null!=t?t.destinationCrs:t,{ name:'if',hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a }))?s:'')+'\n                </span>\n            </div>\n        </div>\n';},2:function(e,t,n,i,a){return'content-element';},4:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return' <span class="name">'+l((s=null!=(s=n.origin||(null!=t?t.origin:t))?s:o,'function'==typeof s?s.call(r,{ name:'origin',hash:{},data:a }):s))+'</span> <span class="route-code">('+l((s=null!=(s=n.originCrs||(null!=t?t.originCrs:t))?s:o,'function'==typeof s?s.call(r,{ name:'originCrs',hash:{},data:a }):s))+')</span> ';},6:function(e,t,n,i,a){let s;return' '+e.escapeExpression((s=null!=(s=n.origin||(null!=t?t.origin:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'origin',hash:{},data:a }):s))+' ';},8:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return' <span class="name">'+l((s=null!=(s=n.destination||(null!=t?t.destination:t))?s:o,'function'==typeof s?s.call(r,{ name:'destination',hash:{},data:a }):s))+'</span> <span class="route-code">('+l((s=null!=(s=n.destinationCrs||(null!=t?t.destinationCrs:t))?s:o,'function'==typeof s?s.call(r,{ name:'destinationCrs',hash:{},data:a }):s))+')</span> ';},10:function(e,t,n,i,a){let s;return' '+e.escapeExpression((s=null!=(s=n.destination||(null!=t?t.destination:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'destination',hash:{},data:a }):s))+' ';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class="snw-favourite-routes snw-content">\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.routes:t,{ name:'each',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class=\'snw-item snw-station snw-selectable\' id="'+l((s=null!=(s=n.crs||(null!=t?t.crs:t))?s:o,'function'==typeof s?s.call(r,{ name:'crs',hash:{},data:a }):s))+'">\n                    <div class=\' snw-icon-station\'></div>\n                    <div class=\'snw-station-content\'>\n                       '+l((s=null!=(s=n.name||(null!=t?t.name:t))?s:o,'function'==typeof s?s.call(r,{ name:'name',hash:{},data:a }):s))+' ('+l((s=null!=(s=n.crs||(null!=t?t.crs:t))?s:o,'function'==typeof s?s.call(r,{ name:'crs',hash:{},data:a }):s))+')\n                     </div>\n                </div>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div id="snw-favourite-stations" class=\'snw-favourite-stations\'>\n    <div class=\'snw-content\'>\n        <div class=\'snw-favourite\'>\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stations:t,{ name:'each',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'        </div>\n    </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'                <div class=\'snw-item snw-route '+(null!=(s=n.unless.call(o,null!=t?t.isArrived:t,{ name:'unless',hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a }))?s:'')+'\' id="'+c((r=null!=(r=n.serviceId||(null!=t?t.serviceId:t))?r:l,'function'==typeof r?r.call(o,{ name:'serviceId',hash:{},data:a }):r))+'">\n                    <div class=\' snw-icon-route\'></div>\n                    <div class=\'snw-route-content\'>\n                        <div class=\'snw-origin\'>\n                            <span class=\'snw-location-name\'>'+c(u(null!=(s=null!=t?t.from:t)?s.name:s,t))+'</span>\n                            <span class=\'snw-scheduled  \n                            '+(null!=(s=n.if.call(o,null!=(s=null!=t?t.from:t)?s.delayMin:s,{ name:'if',hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a }))?s:'')+'\n                            '+(null!=(s=(n.ifCond||t&&t.ifCond||l).call(o,null!=(s=null!=t?t.from:t)?s.time:s,'===','Delayed',{ name:'ifCond',hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a }))?s:'')+'\n                            '+(null!=(s=n.if.call(o,null!=(s=null!=t?t.from:t)?s.cancelled:s,{ name:'if',hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a }))?s:'')+'\'>'+c(u(null!=(s=null!=t?t.from:t)?s.scheduled:s,t))+'</span>\n'+(null!=(s=n.unless.call(o,null!=(s=null!=t?t.from:t)?s.ontime:s,{ name:'unless',hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a }))?s:'')+'                        </div>\n                          <div class=\'snw-destination\'>\n                              <span class=\'snw-location-name\'>\n                                  '+c(u(null!=(s=null!=t?t.to:t)?s.name:s,t))+'\n                              </span>\n\n                              <span class=\'snw-scheduled '+(null!=(s=n.unless.call(o,null!=t?t.isArrived:t,{ name:'unless',hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a }))?s:'')+'\'>\n                                  '+c(u(null!=(s=null!=t?t.to:t)?s.scheduled:s,t))+'\n                              </span>\n\n'+(null!=(s=(n.ifCond||t&&t.ifCond||l).call(o,null!=(s=null!=t?t.to:t)?s.time:s,'!==',null!=(s=null!=t?t.to:t)?s.scheduled:s,{ name:'ifCond',hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a }))?s:'')+'                          </div>\n                     </div>\n                </div>\n';},2:function(e,t,n,i,a){return'snw-selectable';},4:function(e,t,n,i,a){return'snw-changed-scheduled';},6:function(e,t,n,i,a){let s;return null!=(s=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(s=null!=t?t.from:t)?s.time:s,'!==',null!=(s=null!=t?t.from:t)?s.scheduled:s,{ name:'ifCond',hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a }))?s:'';},7:function(e,t,n,i,a){let s,r=e.lambda,o=e.escapeExpression;return'                                    <span class=\'snw-estimated\' style="color:'+o(r(null!=(s=null!=t?t.from:t)?s.delayColor:s,t))+'">'+o(r(null!=(s=null!=t?t.from:t)?s.time:s,t))+'</span>\n';},9:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{};return'\n                                '+(null!=(s=n.if.call(r,null!=(s=null!=t?t.to:t)?s.delayMin:s,{ name:'if',hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a }))?s:'')+'\n                                '+(null!=(s=(n.ifCond||t&&t.ifCond||n.helperMissing).call(r,null!=(s=null!=t?t.to:t)?s.time:s,'===','Delayed',{ name:'ifCond',hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a }))?s:'')+'\n                                '+(null!=(s=n.if.call(r,null!=(s=null!=t?t.to:t)?s.cancelled:s,{ name:'if',hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a }))?s:'')+'\n                                ';},11:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{};return'                                  <span class=\'snw-estimated\' '+(null!=(s=n.unless.call(r,null!=t?t.isArrived:t,{ name:'unless',hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a }))?s:'')+'">\n                                      '+(null!=(s=n.unless.call(r,null!=(s=null!=t?t.to:t)?s.ontime:s,{ name:'unless',hash:{},fn:e.program(14,a,0),inverse:e.program(16,a,0),data:a }))?s:'')+'\n                                  </span>\n';},12:function(e,t,n,i,a){let s;return'style="color:'+e.escapeExpression(e.lambda(null!=(s=null!=t?t.to:t)?s.delayColor:s,t));},14:function(e,t,n,i,a){let s;return e.escapeExpression(e.lambda(null!=(s=null!=t?t.to:t)?s.time:s,t));},16:function(e,t,n,i,a){let s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isArrived:t,{ name:'if',hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a }))?s:'';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class=\'snw-followed-routes\'>\n    <div class=\'snw-content\'>\n        <div class=\'snw-following\'>\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.routes:t,{ name:'each',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'        </div>\n    </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=(s=null!=t?t.station:t)?s.display:s,{ name:'if',hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a }))?s:'';},2:function(e,t,n,i,a){let s,r=e.lambda,o=e.escapeExpression;return'                    <div class=\'snw-item snw-station snw-selectable\' id="'+o(r(null!=(s=null!=t?t.station:t)?s.crs:s,t))+'">\n                        <div class=\'snw-icon-station\'></div>\n                        <div class=\'snw-station-content\'>\n                            <div class=\'snw-station-name\'>\n                                '+o(r(null!=(s=null!=t?t.station:t)?s.name:s,t))+'\n                            </div>\n                            <div class=\'snw-station-crs\'>\n                                ('+o(r(null!=(s=null!=t?t.station:t)?s.crs:s,t))+')\n                            </div>\n                        </div>\n                        <div class=\'snw-icon-disruption '+(null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=(s=null!=t?t.station:t)?s.disruption:s,{ name:'if',hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a }))?s:'')+'\'></div>\n                        <div class=\'snw-walk-content\'>\n                            <div class=\'snw-icon-walking\'></div>\n                            <div class=\'snw-time-content\'>\n                                '+o(r(null!=(s=null!=(s=null!=t?t.matrix:t)?s.duration:s)?s.text:s,t))+'\n                            </div>\n                        </div>\n                    </div>\n';},3:function(e,t,n,i,a){return'minorDisruption';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div id="snw-nearby-stations" class=\'snw-nearby-stations\'>\n    <div class=\'snw-content\'>\n        <div class=\'snw-nearby\'>\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stations:t,{ name:'each',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'        </div>\n    </div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="component snw-directions-box '+l((s=null!=(s=n.identifier||(null!=t?t.identifier:t))?s:o,'function'==typeof s?s.call(r,{ name:'identifier',hash:{},data:a }):s))+'">\n  <div class="snw-service-header snw-directions-header-list-routes">\n    <div class="snw-icon-back snw-md-icon-back back-btn "></div>\n    <div class="snw-service-title">\n      <div class=\'snw-service-from\'><span class=\'snw-header-label\'>'+l((n.t||t&&t.t||o).call(r,'serviceBoard.fromText',{ name:'t',hash:{},data:a }))+':</span><span class="snw-service-from-value"></span></div>\n      <div class=\'snw-service-to\'><span class=\'snw-header-label\'>'+l((n.t||t&&t.t||o).call(r,'serviceBoard.toText',{ name:'t',hash:{},data:a }))+':</span><span class="snw-service-to-value"></span></div>\n    </div>\n  </div>\n  <div class="snw-directions-box-header">\n    <div class="snw-directions-autocomplete ">\n      <div class="snw-directions-box-input snw-directions-box-from">\n        <div class="snw-directions-box-icon from">\n          <i class="snw-md-icon-circle snw-clickable"></i>\n        </div>\n        <div class="snw-directions-box-autocomplete snw-directions-box-autocomplete-from"></div>\n      </div>\n      <i class="snw-md-icon-dots"></i>\n      <div class="snw-directions-box-input snw-directions-box-to">\n        <div class="snw-directions-box-icon to">\n          <i class="snw-md-icon-pin snw-clickable"></i>\n        </div>\n        <div class="snw-directions-box-autocomplete snw-directions-box-autocomplete-to"></div>\n      </div>\n    </div>\n    <div class="snw-directions-swap" title="'+l((n.t||t&&t.t||o).call(r,'swap.text',{ name:'t',hash:{},data:a }))+'">\n      <i class="snw-md-icon-swap snw-clickable"></i>\n    </div>\n  </div>\n\n  <div class="snw-directions-box-options-panel"></div>\n\n  <div class="snw-directions-box-back-to-original-route">\n    <i class="snw-md-icon-back"></i>\n    <span>'+l((n.t||t&&t.t||o).call(r,'journeyPlanner.goBackOriginalRoute',{ name:'t',hash:{},data:a }))+'</span>\n  </div>\n\n  <div class="snw-directions-box-disclaimer-message">\n    <span class="snw-content-message">'+l((n.t||t&&t.t||o).call(r,'journeyPlanner.disclaimerMessage',{ name:'t',hash:{},data:a }))+'</span>\n    <i class="snw-icon-ic_close_black_24px close"></i>\n  </div>\n\n  <div class="snw-directions-box-routes-panel"></div>\n\n  <div class="direction-box-fix-map-drag">\n     <div class="snw-directions-box-custom-panel"></div>\n     <div class="direction-box-transparent-overlay"></div>\n   </div>\n\n    <div class= "snw-autocomplete-results">\n      <div class=\'autocomplete-results\'></div>\n      <div class=\'autocomplete-error\'>'+l((n.t||t&&t.t||o).call(r,'autocomplete.notResultFound',{ name:'t',hash:{},data:a }))+'</div>\n    </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){return'            <div class="snw-icon-back snw-md-icon-back back-btn "></div>\n';},3:function(e,t,n,i,a){return'snw-incident-details-title--has-back';},5:function(e,t,n,i,a){return'            <div class="snw-icon-close close-btn snw-close-btn"></div>\n';},7:function(e,t,n,i,a){let s,r=e.escapeExpression;return'        <div class=\'snw-incident-tocs\'>\n            <h3>'+r((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'incidentDetailsPanel.affectedOperators',{ name:'t',hash:{},data:a }))+'</h3>\n            <p>'+r(e.lambda(null!=(s=null!=t?t.incident:t)?s.affectedOperators:s,t))+'</p>\n        </div>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<div>\n    <div class="snw-incident-details-header">\n'+(null!=(s=n.if.call(o,null!=t?t.showBack:t,{ name:'if',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'        <div class="snw-incident-details-title '+(null!=(s=n.if.call(o,null!=t?t.showBack:t,{ name:'if',hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a }))?s:'')+'">\n            '+c((n.t||t&&t.t||l).call(o,'incidentDetails.incidentAffecting',{ name:'t',hash:{},data:a }))+' '+c(u(null!=(s=null!=t?t.incident:t)?s.twitterHashtag:s,t))+'\n        </div>\n'+(null!=(s=n.unless.call(o,null!=t?t.showBack:t,{ name:'unless',hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a }))?s:'')+'    </div>\n    <div class="snw-incident-details-content">\n        <div class="snw-incident-details-summary">'+c(u(null!=(s=null!=t?t.incident:t)?s.summary:s,t))+'</div>\n'+(null!=(s=n.if.call(o,null!=(s=null!=t?t.incident:t)?s.affectedOperators:s,{ name:'if',hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a }))?s:'')+'        <div class="snw-incident-details-description">'+(null!=(s=u(null!=(s=null!=t?t.incident:t)?s.description:s,t))?s:'')+'</div>\n        <div class="snw-incident-details-info">\n            <a href="'+c(u(null!=(s=null!=t?t.incident:t)?s.infoLink:s,t))+'" target="_new">'+c((n.t||t&&t.t||l).call(o,'incidentDetails.seeMoreInfo',{ name:'t',hash:{},data:a }))+'</a>\n        </div>\n    </div>\n    <div class="snw-cta-see-map snw-cta-see-route">'+c((n.t||t&&t.t||l).call(o,'liveBoard.seeMap',{ name:'t',hash:{},data:a }))+'</div>\n    <style>\n        .snw-cta-see-map {\n            background-color: '+c((r=null!=(r=n.tertiaryColor||(null!=t?t.tertiaryColor:t))?r:l,'function'==typeof r?r.call(o,{ name:'tertiaryColor',hash:{},data:a }):r))+';\n            color: '+c((r=null!=(r=n.secondaryColor||(null!=t?t.secondaryColor:t))?r:l,'function'==typeof r?r.call(o,{ name:'secondaryColor',hash:{},data:a }):r))+';\n        }\n    </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class=\'snw-journey-check\'>\n    <span class=\'snw-journey-check-content\'>'+e.escapeExpression((s=null!=(s=n.name||(null!=t?t.name:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'name',hash:{},data:a }):s))+'</span>\n    <div class=\'snw-icon-md snw-icon-chevron-up\'></div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class=\'snw-journey-live-travel\'>\n    <span class=\'snw-journey-live-travel-content\'>'+e.escapeExpression((s=null!=(s=n.name||(null!=t?t.name:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'name',hash:{},data:a }):s))+'</span>\n    <div class=\'snw-icon-md snw-icon-chevron-down\'></div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l='function',c=e.escapeExpression;return'<div class="snw-journey-container  '+c((s=null!=(s=n.classname||(null!=t?t.classname:t))?s:o,typeof s===l?s.call(r,{ name:'classname',hash:{},data:a }):s))+'">\n    <div class="snw-journey-header"></div>\n    <div class="snw-journey-content"></div>\n    <div class="snw-cta-see-map snw-cta-see-route">'+c((n.t||t&&t.t||o).call(r,'liveBoard.seeMap',{ name:'t',hash:{},data:a }))+'</div>\n    <style>\n        .snw-collapsed .snw-journey-check,\n        .snw-collapsed .snw-journey-live-travel {\n            background-color: '+c((s=null!=(s=n.primaryColor||(null!=t?t.primaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'primaryColor',hash:{},data:a }):s))+';\n            color: '+c((s=null!=(s=n.secondaryColor||(null!=t?t.secondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'secondaryColor',hash:{},data:a }):s))+';\n        }\n        .snw-cta-see-map {\n            background-color: '+c((s=null!=(s=n.tertiaryColor||(null!=t?t.tertiaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'tertiaryColor',hash:{},data:a }):s))+';\n            color: '+c((s=null!=(s=n.secondaryColor||(null!=t?t.secondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'secondaryColor',hash:{},data:a }):s))+';\n        }\n        .snw-journey-check {\n            background-color: '+c((s=null!=(s=n.primaryColor||(null!=t?t.primaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'primaryColor',hash:{},data:a }):s))+';\n            color: '+c((s=null!=(s=n.secondaryColor||(null!=t?t.secondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'secondaryColor',hash:{},data:a }):s))+';\n        }\n        .snw-journey-live-travel {\n            background-color: '+c((s=null!=(s=n.primaryColor||(null!=t?t.primaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'primaryColor',hash:{},data:a }):s))+';\n            color: '+c((s=null!=(s=n.secondaryColor||(null!=t?t.secondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'secondaryColor',hash:{},data:a }):s))+';\n        }\n    </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<div class=\'snw-live-board snw-'+c((r=null!=(r=n.className||(null!=t?t.className:t))?r:l,'function'==typeof r?r.call(o,{ name:'className',hash:{},data:a }):r))+'\'>\n  <div class=\'snw-table\'>\n  </div>\n  <div class=\'snw-noResults\'>\n    <div class=\'snw-icon-info\'></div>\n    <div class=\'snw-noResults-text\'></div>\n  </div>\n  <div class=\'snw-serviceError\'>\n    <div class=\'snw-icon-info\'></div>\n    <div class=\'snw-serviceError-text\'>'+c((n.t||t&&t.t||l).call(o,'liveBoard.serviceError',{ name:'t',hash:{},data:a }))+'</div>\n  </div>\n  <style>\n    .snw-maps-widget-container .snw-live-board .snw-table td.ontime {\n      color: '+c(u(null!=(s=null!=(s=null!=t?t.delayStyle:t)?s.ontime:s)?s.color:s,t))+';\n    }\n    .snw-maps-widget-container .snw-live-board .snw-table td.minorDelay {\n      color: '+c(u(null!=(s=null!=(s=null!=t?t.delayStyle:t)?s.minorDelay:s)?s.color:s,t))+';\n    }\n    .snw-maps-widget-container .snw-live-board .snw-table td.moderateDelay {\n      color: '+c(u(null!=(s=null!=(s=null!=t?t.delayStyle:t)?s.moderateDelay:s)?s.color:s,t))+';\n    }\n    .snw-maps-widget-container .snw-live-board .snw-table td.severeDelay {\n      color: '+c(u(null!=(s=null!=(s=null!=t?t.delayStyle:t)?s.severeDelay:s)?s.color:s,t))+';\n    }\n    .snw-maps-widget-container .snw-live-board .snw-table td.cancelled {\n      color: '+c(u(null!=(s=null!=(s=null!=t?t.delayStyle:t)?s.cancelled:s)?s.color:s,t))+';\n    }\n  </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){return'isFavourite';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="snw-route-details-container ">\n    <div class="snw-service-header">\n        <div class="snw-icon-back snw-md-icon-back back-btn "></div>\n        <div class="snw-service-title">\n            <div class=\'snw-service-from\'><span class=\'snw-header-label\'>'+c((n.t||t&&t.t||l).call(o,'serviceBoard.fromText',{ name:'t',hash:{},data:a }))+':</span> '+c((r=null!=(r=n.from||(null!=t?t.from:t))?r:l,'function'==typeof r?r.call(o,{ name:'from',hash:{},data:a }):r))+'</div>\n            <div class=\'snw-service-to\'><span class=\'snw-header-label\'>'+c((n.t||t&&t.t||l).call(o,'serviceBoard.toText',{ name:'t',hash:{},data:a }))+':</span> '+c((r=null!=(r=n.to||(null!=t?t.to:t))?r:l,'function'==typeof r?r.call(o,{ name:'to',hash:{},data:a }):r))+'</div>\n        </div>\n        <div class="snw-favourite-route snw-md-icon-star-empty '+(null!=(s=n.if.call(o,null!=t?t.isFavourite:t,{ name:'if',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'" title="'+c((n.t||t&&t.t||l).call(o,'stationInfoBoard.save',{ name:'t',hash:{},data:a }))+'">\n        </div>\n    </div>\n    <div class="snw-disclaimer-message">\n        <span class="snw-content-message">'+c((n.t||t&&t.t||l).call(o,'journeyPlanner.disclaimerMessage',{ name:'t',hash:{},data:a }))+'</span>\n        <i class="snw-icon-ic_close_black_24px close"></i>\n    </div>\n    <div class="snw-service-content">\n    </div>\n    <div class="snw-cta-see-route">'+c((n.t||t&&t.t||l).call(o,'liveBoard.seeMap',{ name:'t',hash:{},data:a }))+'</div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){return'<div>\n  <div class=\'snw-routes-options-panel\'>\n    <div class=\'snw-options-time-selector\'></div>\n    <div class="snw-options-date-departure"><span></span></div>\n    <div class=\'snw-options-more-options\'></div>\n    <div class=\'snw-options-mode-selector\'></div>\n  </div>\n  <div class=\'snw-routes-options-container\'></div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div>\n  <span class="snw-md-icon-arrow-down snw-selected-time snw-clickable snw-active">'+l((s=null!=(s=n.timeModeView||(null!=t?t.timeModeView:t))?s:o,'function'==typeof s?s.call(r,{ name:'timeModeView',hash:{},data:a }):s))+'</span>\n  <ul class=\'snw-parameters-timeselector\'>\n    <li id="leaveNow">'+l((n.t||t&&t.t||o).call(r,'routeOptions.leaveNow',{ name:'t',hash:{},data:a }))+'</li>\n    <li id="departAt">'+l((n.t||t&&t.t||o).call(r,'routeOptions.departAt',{ name:'t',hash:{},data:a }))+'</li>\n    <li id="arriveBy">'+l((n.t||t&&t.t||o).call(r,'routeOptions.arriveBy',{ name:'t',hash:{},data:a }))+'</li>\n  </ul>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div>\n  <div id="datePickerElement">\n    <div class="headerPanelTimeMode">\n      <span class="snw-selected-time">'+l((s=null!=(s=n.timeMode||(null!=t?t.timeMode:t))?s:o,'function'==typeof s?s.call(r,{ name:'timeMode',hash:{},data:a }):s))+'</span>\n      <span class="closeClick">\n      <i class=\'snw-icon-close snw-active snw-clickable\'></i>\n    </span>\n    </div>\n    <div class="inputsPickers">\n      <div class="divTimePicker">\n        <i class=\'snw-md-icon-clock\'></i>\n        <input type="text" id="timepicker" onfocus="blur();">\n      </div>\n      <div class="divDatePicker">\n        <i class=\'snw-md-icon-calendar\'></i>\n        <input type="text" id="datepicker" onfocus="blur();">\n      </div>\n    </div>\n  </div>\n  <div class=" snw-datepicker-popup ">\n  </div>\n  <style>\n    .ui-timepicker-wrapper .ui-timepicker-list li:hover,\n    .ui-timepicker-wrapper .ui-timepicker-selected,\n    .snw-maps-widget-container #ui-datepicker-div .ui-state-active,\n    .snw-maps-widget-container #ui-datepicker-div td:not(.ui-state-disabled) .ui-state-default:hover {\n      background-color: '+l((s=null!=(s=n.primaryColor||(null!=t?t.primaryColor:t))?s:o,'function'==typeof s?s.call(r,{ name:'primaryColor',hash:{},data:a }):s))+';\n      color: '+l((s=null!=(s=n.secondaryColor||(null!=t?t.secondaryColor:t))?s:o,'function'==typeof s?s.call(r,{ name:'secondaryColor',hash:{},data:a }):s))+';\n    }\n\n    .snw-maps-widget-container #ui-datepicker-div .ui-state-highlight  {\n      background-color: lightgrey;\n      color: black;\n    }\n\n    .snw-maps-widget-container #ui-datepicker-div .ui-datepicker-header,\n    .snw-maps-widget-container #ui-datepicker-div .ui-datepicker-header .ui-icon-circle-triangle-w::before,\n    .snw-maps-widget-container #ui-datepicker-div .ui-datepicker-header .ui-icon-circle-triangle-e::before {\n      color: '+l((s=null!=(s=n.primaryColor||(null!=t?t.primaryColor:t))?s:o,'function'==typeof s?s.call(r,{ name:'primaryColor',hash:{},data:a }):s))+';\n    }\n  </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l='function',c=e.escapeExpression;return'<div>\n  <i class=\'snw-icon-'+c((s=null!=(s=n.transportMode||(null!=t?t.transportMode:t))?s:o,typeof s===l?s.call(r,{ name:'transportMode',hash:{},data:a }):s))+' snw-active snw-clickable\'></i>\n  <style>\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-mode-header span,\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-mode-icons .snw-icon-transport {\n    color: '+c((s=null!=(s=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customPrimaryColor',hash:{},data:a }):s))+';\n  }\n\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-mode-icons .snw-mode-selected {\n    background-color: '+c((s=null!=(s=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customPrimaryColor',hash:{},data:a }):s))+';\n    color: '+c((s=null!=(s=n.customSecondaryColor||(null!=t?t.customSecondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customSecondaryColor',hash:{},data:a }):s))+';\n  }\n\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-mode-icons .snw-mode-selected:hover {\n    color: '+c((s=null!=(s=n.customSecondaryColor||(null!=t?t.customSecondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customSecondaryColor',hash:{},data:a }):s))+';\n  }\n  </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){return'<div class=\'snw-transport-mode-panel\'>\n  <div class=\'snw-transport-mode-header\'>\n    <span>'+e.escapeExpression((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'transportMode.tittle',{ name:'t',hash:{},data:a }))+'</span>\n    <i class=\'snw-icon-close snw-active snw-clickable\'></i>\n  </div>\n  <div class=\'snw-transport-mode-icons\'>\n    <i id=\'driving\' class=\'snw-icon-transport snw-icon-driving snw-clickable\'></i>\n    <i id=\'transit\' class=\'snw-icon-transport snw-icon-transit snw-clickable\'></i>\n    <i id=\'walking\' class=\'snw-icon-transport snw-icon-walking snw-clickable\'></i>\n    <i id=\'bicycling\' class=\'snw-icon-transport snw-icon-bicycling snw-clickable\'></i>\n  </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l='function',c=e.escapeExpression;return'<div class=\'snw-transport-options\'>\n  <i class="snw-md-icon-settings snw-active snw-clickable"></i>\n  <style>\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-options span {\n    color: '+c((s=null!=(s=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customPrimaryColor',hash:{},data:a }):s))+';\n  }\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-options-panel .snw-transport-options-header span {\n    color: '+c((s=null!=(s=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customPrimaryColor',hash:{},data:a }):s))+';\n  }\n\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-options-panel .snw-transport-options-selects .snw-transport-options-driving span,\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-options-panel .snw-transport-options-selects .snw-transport-options-transit span {\n    color: '+c((s=null!=(s=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customPrimaryColor',hash:{},data:a }):s))+';\n  }\n\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-options-panel .snw-transport-options-selects .snw-option label span {\n    /*color: '+c((s=null!=(s=n.customSecondaryColor||(null!=t?t.customSecondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customSecondaryColor',hash:{},data:a }):s))+';*/\n    color: #626363;\n  }\n\n  .snw-maps-widget-container .snw-routes-options-container .snw-transport-options-panel .snw-transport-options-selects .snw-option label i {\n    color: '+c((s=null!=(s=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'customPrimaryColor',hash:{},data:a }):s))+';\n    /*color: #626363;*/\n  }\n  </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class=\'snw-transport-options-panel\'>\n  <div class=\'snw-transport-options-header\'>\n    <span>'+o((n.t||t&&t.t||r).call(s,'transportOptions.tittle',{ name:'t',hash:{},data:a }))+'</span>\n    <i class=\'snw-icon-close snw-active snw-clickable\'></i>\n  </div>\n  <div class="snw-transport-options-selects">\n    \x3c!-- Driving options --\x3e\n    <div class="snw-transport-options-driving">\n      <div class="snw-transport-options-title"><span> '+o((n.t||t&&t.t||r).call(s,'transportOptions.avoid',{ name:'t',hash:{},data:a }))+' </span> </div>\n      <div class="snw-option">\n        <input id="snw-option-tolls" type="checkbox" name="snw-drivingMode" class="snw-option-checkbox" value="tolls">\n        <label for="snw-option-tolls" class="snw-icon">\n          <i class="snw-md-icon"></i>\n          <span>\n            '+o((n.t||t&&t.t||r).call(s,'transportOptions.tolls',{ name:'t',hash:{},data:a }))+'\n          </span>\n        </label>\n      </div>\n      <div class="snw-option">\n        <input id="snw-option-highways" type="checkbox" name="snw-drivingMode" class="snw-option-checkbox" value="highways">\n        <label for="snw-option-highways" class="snw-icon">\n          <i class="snw-md-icon"></i>\n          <span>\n            '+o((n.t||t&&t.t||r).call(s,'transportOptions.highways',{ name:'t',hash:{},data:a }))+'\n          </span>\n        </label>\n      </div>\n    </div>\n    \x3c!-- Transit options --\x3e\n    <div class="snw-transport-options-transit">\n      <div class="snw-transport-options">\n        <div class="snw-transport-options-title"><span> '+o((n.t||t&&t.t||r).call(s,'transportOptions.prefer',{ name:'t',hash:{},data:a }))+' </span> </div>\n        <div class="snw-option">\n          <input id="snw-option-train" type="checkbox" name="snw-transitMode" class="snw-option-checkbox" value="train">\n          <label for="snw-option-train" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.train',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n        <hr>\n        <div class="snw-option">\n          <input id="snw-option-bus" type="checkbox" name="snw-transitMode" class="snw-option-checkbox" value="bus">\n          <label for="snw-option-bus" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.bus',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n        <div class="snw-option">\n          <input id="snw-option-subway" type="checkbox" name="snw-transitMode" class="snw-option-checkbox" value="subway">\n          <label for="snw-option-subway" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.underground',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n        <div class="snw-option">\n          <input id="snw-option-tram" type="checkbox" name="snw-transitMode" class="snw-option-checkbox" value="tram">\n          <label for="snw-option-tram" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.tram',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n      </div>\n      <div class="snw-transport-options">\n        <div class="snw-transport-options-title"><span> '+o((n.t||t&&t.t||r).call(s,'transportOptions.routes',{ name:'t',hash:{},data:a }))+' </span> </div>\n        <div class="snw-option">\n          <input id="snw-option-best" type="radio" checked="" name="snw-routePreference" class="snw-option-radio" value="best">\n          <label for="snw-option-best" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.best',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n        <div class="snw-option">\n          <input id="snw-option-fewertransfers" type="radio" name="snw-routePreference" class="snw-option-radio" value="fewer_transfers">\n          <label for="snw-option-fewertransfers" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.fewer',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n        <div class="snw-option">\n          <input id="snw-option-lesswalking" type="radio" name="snw-routePreference" class="snw-option-radio" value="less_walking">\n          <label for="snw-option-lesswalking" class="snw-icon">\n            <i class="snw-md-icon"></i>\n            <span>\n              '+o((n.t||t&&t.t||r).call(s,'transportOptions.less',{ name:'t',hash:{},data:a }))+'\n            </span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class="component snw-routes-panel '+e.escapeExpression((s=null!=(s=n.identifier||(null!=t?t.identifier:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'identifier',hash:{},data:a }):s))+'">\n  <ul class="snw-routes-list"></ul>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){let s;return(null!=(s=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.mMode:t,'!==','transit',{ name:'ifCond',hash:{},fn:e.program(2,a,0),inverse:e.program(5,a,0),data:a }))?s:'')+' \x3c!-- end ifCond mMode --\x3e\n\n    ';},2:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'            <i class=\'snw-icon-'+e.escapeExpression((r=null!=(r=n.mMode||(null!=t?t.mMode:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'mMode',hash:{},data:a }):r))+'\'></i>\n'+(null!=(s=n.if.call(o,null!=t?t.summary:t,{ name:'if',hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a }))?s:'')+'\x3c!-- end if summary --\x3e\n\n        ';},3:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'              <div class="snw-route-info-summary-detail">\n                  <span class="snw-route-info-summary-text">\n                      '+l((n.t||t&&t.t||o).call(r,'journeyPlanner.through',{ name:'t',hash:{},data:a }))+' '+l((s=null!=(s=n.summary||(null!=t?t.summary:t))?s:o,'function'==typeof s?s.call(r,{ name:'summary',hash:{},data:a }):s))+'\n                  </span>\n                  <span class="snw-service-duration">\n                      '+l((s=null!=(s=n.scheduledDuration||(null!=t?t.scheduledDuration:t))?s:o,'function'==typeof s?s.call(r,{ name:'scheduledDuration',hash:{},data:a }):s))+'\n                  </span>\n              </div>\n            ';},5:function(e,t,n,i,a){let s;return' \x3c!-- else ifCond mMode --\x3e\n\n'+(null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isWalking:t,{ name:'if',hash:{},fn:e.program(6,a,0),inverse:e.program(11,a,0),data:a }))?s:'')+' \x3c!-- end if isWalking --\x3e\n\n\n        ';},6:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{};return'                <i class=\'snw-icon-walking\'></i>\n'+(null!=(s=n.if.call(r,null!=t?t.summary:t,{ name:'if',hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a }))?s:'')+(null!=(s=n.if.call(r,null!=t?t.fromRoute:t,{ name:'if',hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a }))?s:'')+'  \x3c!-- end if summary --\x3e\n\n            ';},7:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="snw-route-info-summary-detail">\n                        <span class="snw-route-info-summary-text">\n                            '+l((n.t||t&&t.t||o).call(r,'journeyPlanner.through',{ name:'t',hash:{},data:a }))+' '+l((s=null!=(s=n.summary||(null!=t?t.summary:t))?s:o,'function'==typeof s?s.call(r,{ name:'summary',hash:{},data:a }):s))+'\n                        </span>\n                        <span class="snw-service-duration">\n                            '+l((s=null!=(s=n.scheduledDuration||(null!=t?t.scheduledDuration:t))?s:o,'function'==typeof s?s.call(r,{ name:'scheduledDuration',hash:{},data:a }):s))+'\n                        </span>\n                    </div>\n';},9:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="snw-route-info-summary-detail">\n                        <span class="snw-route-info-summary-text">\n                            <div class="snw-route-from-to">'+l((s=null!=(s=n.fromRoute||(null!=t?t.fromRoute:t))?s:o,'function'==typeof s?s.call(r,{ name:'fromRoute',hash:{},data:a }):s))+'</div>\n                            <i class="snw-info-separator snw-icon-chevron-right"></i>\n                            <div class="snw-route-from-to">'+l((s=null!=(s=n.toRoute||(null!=t?t.toRoute:t))?s:o,'function'==typeof s?s.call(r,{ name:'toRoute',hash:{},data:a }):s))+'</div>\n                        </span>\n                        <span class="snw-service-duration">\n                            '+l((s=null!=(s=n.scheduledDuration||(null!=t?t.scheduledDuration:t))?s:o,'function'==typeof s?s.call(r,{ name:'scheduledDuration',hash:{},data:a }):s))+'\n                        </span>\n                    </div>\n                ';},11:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'\x3c!-- else if isWalking --\x3e\n                <i class=\'snw-icon-'+c((r=null!=(r=n.mMode||(null!=t?t.mMode:t))?r:l,'function'==typeof r?r.call(o,{ name:'mMode',hash:{},data:a }):r))+'\'></i>\n                <div class="snw-service-time-container">\n'+(null!=(s=(n.ifCond||t&&t.ifCond||l).call(o,null!=t?t.textByDelayClass:t,'===','Delayed',{ name:'ifCond',hash:{},fn:e.program(12,a,0),inverse:e.program(15,a,0),data:a }))?s:'')+'                </div>\n\n'+(null!=(s=n.if.call(o,null!=t?t.fromJP:t,{ name:'if',hash:{},fn:e.program(21,a,0),inverse:e.program(25,a,0),data:a }))?s:'')+' \x3c!-- end if fromJP --\x3e\n\n                  <div class="snw-service-duration-cell">\n                    <span class="snw-service-duration">\n                      '+c((r=null!=(r=n.scheduledDuration||(null!=t?t.scheduledDuration:t))?r:l,'function'==typeof r?r.call(o,{ name:'scheduledDuration',hash:{},data:a }):r))+'\n                    </span>\n                  </div>\n            ';},12:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'                        <span class="snw-service-time-scheduled" '+(null!=(s=n.if.call(o,null!=t?t.isTrain:t,{ name:'if',hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a }))?s:'')+'>\n                            '+e.escapeExpression((r=null!=(r=n.scheduledTime||(null!=t?t.scheduledTime:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'scheduledTime',hash:{},data:a }):r))+'\n                        </span>\n';},13:function(e,t,n,i,a){let s;return'style="color:'+e.escapeExpression((s=null!=(s=n.color||(null!=t?t.color:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'color',hash:{},data:a }):s))+'"';},15:function(e,t,n,i,a){let s;return(null!=(s=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.realTime:t,'!==',null!=t?t.scheduledTime:t,{ name:'ifCond',hash:{},fn:e.program(16,a,0),inverse:e.program(18,a,0),data:a }))?s:'')+' \x3c!-- end ifCond realtime !== scheduledTime --\x3e\n';},16:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'                            <span class="snw-service-time-scheduled">\n                                '+c((r=null!=(r=n.scheduledTime||(null!=t?t.scheduledTime:t))?r:l,'function'==typeof r?r.call(o,{ name:'scheduledTime',hash:{},data:a }):r))+'\n                            </span>\n                            <span class="snw-service-time" '+(null!=(s=n.if.call(o,null!=t?t.isTrain:t,{ name:'if',hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a }))?s:'')+'>\n                                '+c((r=null!=(r=n.realTime||(null!=t?t.realTime:t))?r:l,'function'==typeof r?r.call(o,{ name:'realTime',hash:{},data:a }):r))+'\n                            </span>\n                        ';},18:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return' \x3c!-- else ifCond realtime !== scheduledTime--\x3e\n                            <span class="snw-service-time" '+(null!=(s=n.if.call(o,null!=t?t.isTrain:t,{ name:'if',hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a }))?s:'')+'">\n                                '+e.escapeExpression((r=null!=(r=n.realTime||(null!=t?t.realTime:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'realTime',hash:{},data:a }):r))+'\n                            </span>\n                        ';},19:function(e,t,n,i,a){let s;return'style="color:'+e.escapeExpression((s=null!=(s=n.color||(null!=t?t.color:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'color',hash:{},data:a }):s));},21:function(e,t,n,i,a){let s;return'                        <div class="snw-service-duration-cell">\n'+(null!=(s=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.fromDate:t,'!==','Invalid Date',{ name:'ifCond',hash:{},fn:e.program(22,a,0),inverse:e.noop,data:a }))?s:'')+'\x3c!-- end ifCond Invalid Date --\x3e\n                        </div>\n                    ';},22:function(e,t,n,i,a){let s;return(null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.fromDate:t,{ name:'if',hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a }))?s:'')+'                            ';},23:function(e,t,n,i,a){let s;return'                                    <span class="snw-service-date">'+e.escapeExpression((s=null!=(s=n.fromDate||(null!=t?t.fromDate:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'fromDate',hash:{},data:a }):s))+'</span>\n';},25:function(e,t,n,i,a){let s;return' \x3c!-- else if fromJP --\x3e\n\n'+(null!=(s=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isFullyCancelled:t,{ name:'unless',hash:{},fn:e.program(26,a,0),inverse:e.noop,data:a }))?s:'')+'\n                        <div class="snw-share">\n                              <div class="snw-md-icon-share" title="Share"></div>\n                        </div>\n\n                    ';},26:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                             <div class="snw-md-icon snw-follow-route '+l((s=null!=(s=n.followedClass||(null!=t?t.followedClass:t))?s:o,'function'==typeof s?s.call(r,{ name:'followedClass',hash:{},data:a }):s))+'"\n                              title="'+l((s=null!=(s=n.followedTitle||(null!=t?t.followedTitle:t))?s:o,'function'==typeof s?s.call(r,{ name:'followedTitle',hash:{},data:a }):s))+'">\n                            </div>\n';},28:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'          <span style="color:'+l((s=null!=(s=n.color||(null!=t?t.color:t))?s:o,'function'==typeof s?s.call(r,{ name:'color',hash:{},data:a }):s))+'" class="snw-service-delayed-time">'+l((s=null!=(s=n.textByDelayClass||(null!=t?t.textByDelayClass:t))?s:o,'function'==typeof s?s.call(r,{ name:'textByDelayClass',hash:{},data:a }):s))+'</span>\n';},30:function(e,t,n,i,a){let s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showAlternativeBtn:t,{ name:'if',hash:{},fn:e.program(31,a,0),inverse:e.noop,data:a }))?s:'';},31:function(e,t,n,i,a){return'                  <div class="snw-alternative-routes"></div>\n';},33:function(e,t,n,i,a){let s;return null!=(s=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isWalking:t,{ name:'unless',hash:{},fn:e.program(34,a,0),inverse:e.noop,data:a }))?s:'';},34:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{};return'                '+(null!=(s=n.if.call(r,null!=t?t.platform:t,{ name:'if',hash:{},fn:e.program(35,a,0),inverse:e.noop,data:a }))?s:'')+'\n'+(null!=(s=n.each.call(r,null!=t?t.transbords:t,{ name:'each',hash:{},fn:e.program(37,a,0),inverse:e.noop,data:a }))?s:'');},35:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return' <i class="snw-icon-walking"></i><span class="snw-service-platform">'+l((n.t||t&&t.t||o).call(r,'liveBoard.platform',{ name:'t',hash:{},data:a }))+' '+l((s=null!=(s=n.platform||(null!=t?t.platform:t))?s:o,'function'==typeof s?s.call(r,{ name:'platform',hash:{},data:a }):s))+'</span>\n                <i class="snw-info-separator snw-icon-chevron-right"></i>';},37:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'                <span class="snw-company"><span class="snw-transbord-icon '+(null!=(s=n.if.call(o,null!=t?t.icon:t,{ name:'if',hash:{},fn:e.program(38,a,0),inverse:e.program(40,a,0),data:a }))?s:'')+'" title="'+e.escapeExpression((r=null!=(r=n.mode||(null!=t?t.mode:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'mode',hash:{},data:a }):r))+'"\n                '+(null!=(s=n.if.call(o,null!=t?t.iconUrl:t,{ name:'if',hash:{},fn:e.program(42,a,0),inverse:e.noop,data:a }))?s:'')+'></span>\n'+(null!=(s=n.if.call(o,null!=t?t.operatorName:t,{ name:'if',hash:{},fn:e.program(44,a,0),inverse:e.noop,data:a }))?s:'')+'                </span>\n'+(null!=(s=n.unless.call(o,a&&a.last,{ name:'unless',hash:{},fn:e.program(47,a,0),inverse:e.noop,data:a }))?s:'');},38:function(e,t,n,i,a){let s;return e.escapeExpression((s=null!=(s=n.icon||(null!=t?t.icon:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'icon',hash:{},data:a }):s));},40:function(e,t,n,i,a){return'snw-icon-train';},42:function(e,t,n,i,a){let s;return' style="background-image: url('+e.escapeExpression((s=null!=(s=n.iconUrl||(null!=t?t.iconUrl:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'iconUrl',hash:{},data:a }):s))+')" ';},44:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'                    <span class="snw-service-company" '+(null!=(s=n.if.call(o,null!=t?t.style:t,{ name:'if',hash:{},fn:e.program(45,a,0),inverse:e.noop,data:a }))?s:'')+'>\n                    '+e.escapeExpression((r=null!=(r=n.operatorName||(null!=t?t.operatorName:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'operatorName',hash:{},data:a }):r))+'\n                    </span>\n';},45:function(e,t,n,i,a){let s,r=e.lambda,o=e.escapeExpression;return' style="background-color:'+o(r(null!=(s=null!=t?t.style:t)?s['background-color']:s,t))+';color:'+o(r(null!=(s=null!=t?t.style:t)?s.color:s,t))+'"\n                    ';},47:function(e,t,n,i,a){return'                    <i class="snw-info-separator snw-icon-chevron-right"></i>\n';},49:function(e,t,n,i,a){let s;return' \x3c!-- else ifCond mMode \'!==\' \'transit\'--\x3e\n'+(null!=(s=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isWalking:t,{ name:'unless',hash:{},fn:e.program(50,a,0),inverse:e.noop,data:a }))?s:'')+'  ';},50:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{};return'      <div class="snw-service-delayed">\n          <div class="snw-service-delayed-row">\n'+(null!=(s=n.if.call(r,null!=t?t.isTrain:t,{ name:'if',hash:{},fn:e.program(51,a,0),inverse:e.noop,data:a }))?s:'')+'            <div class="snw-service-delayed-cell snw-cell-right">\n'+(null!=(s=n.if.call(r,null!=t?t.fromJP:t,{ name:'if',hash:{},fn:e.program(53,a,0),inverse:e.noop,data:a }))?s:'')+' \x3c!-- end unless fronJP --\x3e\n                <div class="snw-details">\n                    <span class="snw-details-content">'+e.escapeExpression((n.t||t&&t.t||n.helperMissing).call(r,'journeyPlanner.details',{ name:'t',hash:{},data:a }))+'</span>\n                    <i class="snw-icon-chevron-right"></i>\n                </div>\n            </div>\n          </div>\n      </div>\n';},51:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'              <div class="snw-service-delayed-cell">\n                  <span style="color:'+l((s=null!=(s=n.color||(null!=t?t.color:t))?s:o,'function'==typeof s?s.call(r,{ name:'color',hash:{},data:a }):s))+'" class="snw-service-delayed-time">'+l((s=null!=(s=n.textByDelayClass||(null!=t?t.textByDelayClass:t))?s:o,'function'==typeof s?s.call(r,{ name:'textByDelayClass',hash:{},data:a }):s))+'</span>\n              </div>\n';},53:function(e,t,n,i,a){let s;return(null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showAlternativeBtn:t,{ name:'if',hash:{},fn:e.program(54,a,0),inverse:e.noop,data:a }))?s:'')+' \x3c!-- end if showAlternativeBtn --\x3e\n                ';},54:function(e,t,n,i,a){return'                        <div class="snw-alternative-routes">\n                          <span class="snw-alternative-routes-text">\n                            '+e.escapeExpression((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'journeyPlanner.alternative',{ name:'t',hash:{},data:a }))+'\n                          </span>\n                        </div>\n                    ';},56:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'      <div class=\'snw-service-delayed-msg\'>\n          <i class=\''+l((s=null!=(s=n.delayClass||(null!=t?t.delayClass:t))?s:o,'function'==typeof s?s.call(r,{ name:'delayClass',hash:{},data:a }):s))+' snw-icon-warning\'></i>\n          <span class=\'snw-service-delayed-msg-content\'>'+l((s=null!=(s=n.delayMsg||(null!=t?t.delayMsg:t))?s:o,'function'==typeof s?s.call(r,{ name:'delayMsg',hash:{},data:a }):s))+'</span>\n      </div>\n';},58:function(e,t,n,i,a){let s,r=e.lambda,o=e.escapeExpression;return'      <div class="snw-service-delayed snw-disruption-msg">\n          <div class="snw-service-delayed-row">\n              <i class="snw-disruption-icon snw-icon snw-icon-warning" style="color:'+o(r(null!=(s=null!=t?t.disruption:t)?s.color:s,t))+';"></i>\n              <span>'+o(r(null!=(s=null!=t?t.disruption:t)?s.msg:s,t))+'</span>\n          </div>\n      </div>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="snw-service-details '+c((r=null!=(r=n.displayName||(null!=t?t.displayName:t))?r:l,'function'==typeof r?r.call(o,{ name:'displayName',hash:{},data:a }):r))+'">\n  <div class="snw-service-time-info">\n'+(null!=(s=n.if.call(o,null!=t?t.isRendered:t,{ name:'if',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+' \x3c!-- end if rendered --\x3e\n\n    <div class="snw-delayed-time-collapse">\n        <div class="snw-cta-back-panel snw-cta-back-details">\n            <span class="snw-details-content">'+c((n.t||t&&t.t||l).call(o,'journeyPlanner.details',{ name:'t',hash:{},data:a }))+'</span>\n            <i class="snw-icon-chevron-right"></i>\n        </div>\n'+(null!=(s=n.if.call(o,null!=t?t.isTrain:t,{ name:'if',hash:{},fn:e.program(28,a,0),inverse:e.noop,data:a }))?s:'')+(null!=(s=n.if.call(o,null!=t?t.fromJP:t,{ name:'if',hash:{},fn:e.program(30,a,0),inverse:e.noop,data:a }))?s:'')+'    </div>\n\n  </div>\n\n  <div class="snw-service-station-info">\n    <div class="snw-service-station-row">\n      <div class="swn-service-station-info-content">\n'+(null!=(s=(n.ifCond||t&&t.ifCond||l).call(o,null!=t?t.mMode:t,'===','transit',{ name:'ifCond',hash:{},fn:e.program(33,a,0),inverse:e.noop,data:a }))?s:'')+'      </div>\n    </div>\n  </div>\n\n\n  '+(null!=(s=(n.ifCond||t&&t.ifCond||l).call(o,null!=t?t.mMode:t,'===','transit',{ name:'ifCond',hash:{},fn:e.program(49,a,0),inverse:e.noop,data:a }))?s:'')+' \x3c!-- end ifCond mMode \'!==\' \'transit\'--\x3e\n\n\n'+(null!=(s=n.if.call(o,null!=t?t.delayMsg:t,{ name:'if',hash:{},fn:e.program(56,a,0),inverse:e.noop,data:a }))?s:'')+'\n\n'+(null!=(s=n.if.call(o,null!=(s=null!=t?t.disruption:t)?s.msg:s,{ name:'if',hash:{},fn:e.program(58,a,0),inverse:e.noop,data:a }))?s:'')+'  <style>\n      .snw-maps-widget-container .snw-service-details .snw-cta-back-panel {\n        color: '+c((r=null!=(r=n.customTertiaryColor||(null!=t?t.customTertiaryColor:t))?r:l,'function'==typeof r?r.call(o,{ name:'customTertiaryColor',hash:{},data:a }):r))+'\n      }\n\n      .snw-maps-widget-container .snw-service-details .snw-share .snw-md-icon-share {\n        color: '+c((r=null!=(r=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?r:l,'function'==typeof r?r.call(o,{ name:'customPrimaryColor',hash:{},data:a }):r))+'\n      }\n\n      .snw-maps-widget-container .snw-service-time-info{\n      }\n\n      .snw-maps-widget-container .snw-follow-route {\n        color: \'\'\n      }\n\n      .snw-maps-widget-container .snw-follow-route.isFollowed {\n        color: '+c((r=null!=(r=n.customPrimaryColor||(null!=t?t.customPrimaryColor:t))?r:l,'function'==typeof r?r.call(o,{ name:'customPrimaryColor',hash:{},data:a }):r))+'\n      }\n  </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a,s,r){let o,l=null!=t?t:e.nullContext||{},c=n.helperMissing;return'  <div class="snw-service-step '+(null!=(o=n.if.call(l,null!=(o=s[0][0])?o.selected:o,{ name:'if',hash:{},fn:e.program(2,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'">\n    <div class="snw-service-step-time">\n'+(null!=(o=(n.ifCond||t&&t.ifCond||c).call(l,null!=(o=s[0][0])?o.timeLabel:o,'!=',void 0,{ name:'ifCond',hash:{},fn:e.program(4,a,0,s,r),inverse:e.program(6,a,0,s,r),data:a,blockParams:s }))?o:'')+' '+(null!=(o=n.if.call(l,null!=(o=s[0][0])?o.iconClass:o,{ name:'if',hash:{},fn:e.program(14,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'    </div>\n\n    <div class="snw-service-step-line" style="background:\n'+(null!=(o=(n.ifCond||t&&t.ifCond||c).call(l,null!=(o=s[0][0])?o.mode:o,'==','train',{ name:'ifCond',hash:{},fn:e.program(17,a,0,s,r),inverse:e.program(22,a,0,s,r),data:a,blockParams:s }))?o:'')+';">\n'+(null!=(o=(n.ifCond||t&&t.ifCond||c).call(l,null!=(o=s[0][0])?o.selected:o,'==',!0,{ name:'ifCond',hash:{},fn:e.program(24,a,0,s,r),inverse:e.program(26,a,0,s,r),data:a,blockParams:s }))?o:'')+'\n    </div>\n    <div class="snw-service-step-station '+(null!=(o=n.if.call(l,null!=(o=s[0][0])?o.isCallingPoint:o,{ name:'if',hash:{},fn:e.program(37,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'">\n      <span class="snw-service-station-name">'+e.escapeExpression(e.lambda(null!=(o=s[0][0])?o.locationName:o,t))+' '+(null!=(o=n.if.call(l,null!=(o=s[0][0])?o.crs:o,{ name:'if',hash:{},fn:e.program(39,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'</span>\n\n'+(null!=(o=n.if.call(l,null!=(o=s[0][0])?o.firstTransbord:o,{ name:'if',hash:{},fn:e.program(41,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'\n'+(null!=(o=n.if.call(l,null!=(o=s[0][0])?o.nTramStops:o,{ name:'if',hash:{},fn:e.program(62,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'\n      '+(null!=(o=(n.ifCond||t&&t.ifCond||c).call(l,a&&a.last,'!=',!0,{ name:'ifCond',hash:{},fn:e.program(64,a,0,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'\n    </div>\n  </div>\n';},2:function(e,t,n,i,a){return'snw-service-step-selected';},4:function(e,t,n,i,a,s){let r,o=e.lambda,l=e.escapeExpression;return'      <del class=\'snw-service-step-time-scheduled\'>'+l(o(null!=(r=null!=(r=null!=(r=s[1][0])?r.timetable:r)?r.scheduledTimes:r)?r.formatedDate:r,t))+'</del>\n      <p class="snw-service-step-time-real '+l(o(null!=(r=s[1][0])?r.delayClass:r,t))+'">'+l((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=s[1][0])?r.timeLabel:r,{ name:'t',hash:{},data:a,blockParams:s }))+'</p>\n      ';},6:function(e,t,n,i,a,s){let r;return' '+(null!=(r=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=s[1][0])?r.delayMin:r,'===',0,{ name:'ifCond',hash:{},fn:e.program(7,a,0,s),inverse:e.program(9,a,0,s),data:a,blockParams:s }))?r:'')+' ';},7:function(e,t,n,i,a,s){let r;return' '+e.escapeExpression(e.lambda(null!=(r=s[2][0])?r.time:r,t))+' ';},9:function(e,t,n,i,a,s){let r;return' '+(null!=(r=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=null!=(r=null!=(r=s[2][0])?r.timetable:r)?r.scheduledTimes:r)?r.formatedDate:r,'===',null!=(r=s[2][0])?r.time:r,{ name:'ifCond',hash:{},fn:e.program(10,a,0,s),inverse:e.program(12,a,0,s),data:a,blockParams:s }))?r:'')+' ';},10:function(e,t,n,i,a,s){let r;return' '+e.escapeExpression(e.lambda(null!=(r=s[3][0])?r.time:r,t))+' ';},12:function(e,t,n,i,a,s){let r,o=e.lambda,l=e.escapeExpression;return'\n      <del class=\'snw-service-step-time-scheduled\'>'+l(o(null!=(r=null!=(r=null!=(r=s[3][0])?r.timetable:r)?r.scheduledTimes:r)?r.formatedDate:r,t))+'</del>\n      <p class="snw-service-step-time-real '+l(o(null!=(r=s[3][0])?r.delayClass:r,t))+'">'+l(o(null!=(r=s[3][0])?r.time:r,t))+'</p>\n      ';},14:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{};return'\n      <div class="snw-service-step-icon">\n        <i class="snw-service-icon '+e.escapeExpression((r=null!=(r=n.iconClass||(null!=t?t.iconClass:t))?r:n.helperMissing,'function'==typeof r?r.call(o,{ name:'iconClass',hash:{},data:a }):r))+'" '+(null!=(s=n.if.call(o,null!=t?t.iconUrl:t,{ name:'if',hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a }))?s:'')+'></i>\n      </div>\n';},15:function(e,t,n,i,a){let s;return' style="background-image: url('+e.escapeExpression((s=null!=(s=n.iconUrl||(null!=t?t.iconUrl:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'iconUrl',hash:{},data:a }):s))+')" ';},17:function(e,t,n,i,a,s){let r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[1][0])?r.delayColor:r,{ name:'if',hash:{},fn:e.program(18,a,0,s),inverse:e.program(20,a,0,s),data:a,blockParams:s }))?r:'';},18:function(e,t,n,i,a,s){let r;return'            '+e.escapeExpression(e.lambda(null!=(r=s[2][0])?r.delayColor:r,t))+'\n';},20:function(e,t,n,i,a,s){let r;return'            '+e.escapeExpression(e.lambda(null!=(r=s[2][0])?r.colorLine:r,t))+'\n';},22:function(e,t,n,i,a,s){let r;return'          '+e.escapeExpression(e.lambda(null!=(r=s[1][0])?r.colorLine:r,t))+'\n        ';},24:function(e,t,n,i,a,s,r){return'      <img src="'+e.escapeExpression(e.lambda(null!=r[1]?r[1].stationsIconSelected:r[1],t))+'" alt="stepIconSelected"> ';},26:function(e,t,n,i,a,s,r){let o;return'\n      \x3c!-- primera  ultima --\x3e\n'+(null!=(o=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},a&&a.last,'==',!0,{ name:'ifCond',hash:{},fn:e.program(27,a,0,s,r),inverse:e.program(29,a,0,s,r),data:a,blockParams:s }))?o:'')+' ';},27:function(e,t,n,i,a){return'      <div class="snw-service-step-line-circle circle-last"></div>\n      ';},29:function(e,t,n,i,a,s,r){let o;return' '+(null!=(o=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},a&&a.first,'==',!0,{ name:'ifCond',hash:{},fn:e.program(30,a,0,s,r),inverse:e.program(32,a,0,s,r),data:a,blockParams:s }))?o:'')+' ';},30:function(e,t,n,i,a){return'\n      <div class="snw-service-step-line-circle"></div>\n      ';},32:function(e,t,n,i,a,s,r){let o;return' '+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=s[3][0])?o.isGoogleStep:o,{ name:'if',hash:{},fn:e.program(33,a,0,s,r),inverse:e.program(35,a,0,s,r),data:a,blockParams:s }))?o:'')+' ';},33:function(e,t,n,i,a,s,r){return'\n      <img src="'+e.escapeExpression(e.lambda(null!=r[1]?r[1].transitIcon:r[1],t))+'" alt="transitIcon"> ';},35:function(e,t,n,i,a,s,r){return'\n      <img src="'+e.escapeExpression(e.lambda(null!=r[1]?r[1].stationsIcon:r[1],t))+'" alt="stationIcon"> ';},37:function(e,t,n,i,a){return'snw-service-calling-point';},39:function(e,t,n,i,a,s){let r;return'('+(null!=(r=e.lambda(null!=(r=s[1][0])?r.crs:r,t))?r:'')+')';},41:function(e,t,n,i,a,s){let r,o=null!=t?t:e.nullContext||{};return'        <div class="snw-service-step-mode">\n          <span class="snw-service-name '+(null!=(r=n.if.call(o,null!=(r=s[1][0])?r.operator:r,{ name:'if',hash:{},fn:e.program(42,a,0,s),inverse:e.program(44,a,0,s),data:a,blockParams:s }))?r:'')+'" '+(null!=(r=n.if.call(o,null!=(r=s[1][0])?r.companyStyle:r,{ name:'if',hash:{},fn:e.program(46,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'>\n'+(null!=(r=n.if.call(o,null!=(r=s[1][0])?r.operator:r,{ name:'if',hash:{},fn:e.program(48,a,0,s),inverse:e.program(51,a,0,s),data:a,blockParams:s }))?r:'')+'</span>\n'+(null!=(r=n.if.call(o,null!=(r=s[1][0])?r.duration:r,{ name:'if',hash:{},fn:e.program(59,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'        </div>\n';},42:function(e,t,n,i,a){return'snw-service-company';},44:function(e,t,n,i,a){return' snw-service-mode';},46:function(e,t,n,i,a,s){let r,o=e.lambda,l=e.escapeExpression;return'\n            style="background-color:'+l(o(null!=(r=null!=(r=s[2][0])?r.companyStyle:r)?r['background-color']:r,t))+';color:'+l(o(null!=(r=null!=(r=s[2][0])?r.companyStyle:r)?r.color:r,t))+'" ';},48:function(e,t,n,i,a,s){let r;return(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[2][0])?r.isGoogleStep:r,{ name:'if',hash:{},fn:e.program(49,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'              '+e.escapeExpression(e.lambda(null!=(r=s[2][0])?r.operator:r,t))+'\n';},49:function(e,t,n,i,a,s){let r;return'                '+e.escapeExpression(e.lambda(null!=(r=s[3][0])?r.operatorCode:r,t))+'\n';},51:function(e,t,n,i,a,s){let r;return(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[2][0])?r.isGoogleStep:r,{ name:'if',hash:{},fn:e.program(52,a,0,s),inverse:e.program(57,a,0,s),data:a,blockParams:s }))?r:'')+'            ';},52:function(e,t,n,i,a,s){let r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[3][0])?r.operatorCode:r,{ name:'if',hash:{},fn:e.program(53,a,0,s),inverse:e.program(55,a,0,s),data:a,blockParams:s }))?r:'';},53:function(e,t,n,i,a,s){let r;return'                  '+e.escapeExpression(e.lambda(null!=(r=s[4][0])?r.operatorCode:r,t))+'\n';},55:function(e,t,n,i,a,s){let r;return'                  '+e.escapeExpression(e.lambda(null!=(r=s[4][0])?r.mode:r,t))+'\n';},57:function(e,t,n,i,a,s){let r;return'                '+e.escapeExpression(e.lambda(null!=(r=s[3][0])?r.mode:r,t))+'\n';},59:function(e,t,n,i,a,s){let r;return'            <div class="snw-service-mode snw-service-step-duration">\n              '+e.escapeExpression(e.lambda(null!=(r=null!=(r=s[2][0])?r.duration:r)?r.text:r,t))+' '+(null!=(r=(n.ifCond||t&&t.ifCond||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=s[2][0])?r.mode:r,'==','walk',{ name:'ifCond',hash:{},fn:e.program(60,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'\n            </div>\n';},60:function(e,t,n,i,a){return e.escapeExpression((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'serviceBoard.aprox',{ name:'t',hash:{},data:a }));},62:function(e,t,n,i,a,s){let r,o=e.escapeExpression;return'        <div class="snw-service-step-tram-stops">'+o(e.lambda(null!=(r=s[1][0])?r.nTramStops:r,t))+' '+o((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'serviceBoard.stops',{ name:'t',hash:{},data:a,blockParams:s }))+'</div>\n';},64:function(e,t,n,i,a,s){let r;return' '+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[1][0])?r.disruption:r,{ name:'if',hash:{},fn:e.program(65,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+' ';},65:function(e,t,n,i,a,s){let r,o=e.lambda,l=e.escapeExpression,c=null!=t?t:e.nullContext||{};return'\n        <div class="snw-service-step-disruption">\n          <div class="snw-service-disruption-type '+l(o(null!=(r=null!=(r=s[2][0])?r.disruption:r)?r.type:r,t))+'">\n            <i class="snw-disruption-icon snw-icon snw-icon-warning" style="color:'+l(o(null!=(r=null!=(r=s[2][0])?r.disruption:r)?r.color:r,t))+';"></i>\n            <span class="snw-disruption-type" style="color:'+l(o(null!=(r=null!=(r=s[2][0])?r.disruption:r)?r.color:r,t))+';">\n              '+(null!=(r=n.if.call(c,null!=(r=null!=(r=s[2][0])?r.disruption:r)?r.cancelled:r,{ name:'if',hash:{},fn:e.program(66,a,0,s),inverse:e.program(68,a,0,s),data:a,blockParams:s }))?r:'')+'\n            </span>\n'+(null!=(r=n.if.call(c,null!=(r=null!=(r=s[2][0])?r.disruption:r)?r.msg:r,{ name:'if',hash:{},fn:e.program(71,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'          </div>\n        </div>\n      ';},66:function(e,t,n,i,a){return' '+e.escapeExpression((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'serviceRoute.cancelled',{ name:'t',hash:{},data:a }))+' ';},68:function(e,t,n,i,a,s){let r,o=null!=t?t:e.nullContext||{};return' '+e.escapeExpression((n.t||t&&t.t||n.helperMissing).call(o,'serviceRoute.delayed',{ name:'t',hash:{},data:a }))+(null!=(r=n.if.call(o,null!=(r=s[3][0])?r.delayMin:r,{ name:'if',hash:{},fn:e.program(69,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+' ';},69:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'.\n              '+l((s=null!=(s=n.delayMin||(null!=t?t.delayMin:t))?s:o,'function'==typeof s?s.call(r,{ name:'delayMin',hash:{},data:a }):s))+' '+l((n.t||t&&t.t||o).call(r,'serviceBoard.late',{ name:'t',hash:{},data:a }));},71:function(e,t,n,i,a,s){let r,o=e.escapeExpression;return'            <span class="snw-disruption-check">'+o((n.t||t&&t.t||n.helperMissing).call(null!=t?t:e.nullContext||{},'journeyPlanner.checkMsg',{ name:'t',hash:{},data:a }))+'</span>\n            <div class="snw-disruption-msg">\n              <i class="snw-icon snw-icon-chevron-up"></i>\n              <span>'+o(e.lambda(null!=(r=null!=(r=s[3][0])?r.disruption:r)?r.msg:r,t))+'</span>\n            </div>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a,s,r){let o;return'<div class="snw-service-steps">\n  <div class="snw-service-train-icon hidden"></div>\n'+(null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.steps:t,{ name:'each',hash:{},fn:e.program(1,a,1,s,r),inverse:e.noop,data:a,blockParams:s }))?o:'')+'</div>';},useData:!0,useDepths:!0,useBlockParams:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s;return'<div class="snw-share-box-wrapper">\n    <div class="snw-close-button">\n        <div class="snw-icon-close"></div>\n        <span class="snw-close-text">\n          Close\n        </span>\n    </div>\n    <div class="snw-share-box-content">\n        <div class="snw-share-box-copied-button">\n            <div class="snw-md-icon-check"></div>\n            <span>Link copied to clipboard</span>\n        </div>\n        <div class="snw-share-box-title">\n            <div class="snw-md-icon-share"></div>\n            <p><span>Share URL</span></p>\n        </div>\n        <p>Anyone with this URL can now see your route</p>\n        <div class="snw-share-box-input">\n            <div class="snw-share-box-input-pre">Share URL</div>\n            <div class="snw-share-box-input-form"><input type="text" value="'+e.escapeExpression((s=null!=(s=n.url||(null!=t?t.url:t))?s:n.helperMissing,'function'==typeof s?s.call(null!=t?t:e.nullContext||{},{ name:'url',hash:{},data:a }):s))+'"></div>\n            <div class="snw-share-box-input-copy-button" data-clipboard-target=".snw-share-box-input-form input">Copy</div>\n        </div>\n        <div class="snw-share-box-done-button">Done</div>\n    </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a,s){let r;return null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stationAlert:t,{ name:'each',hash:{},fn:e.program(2,a,1,s),inverse:e.noop,data:a,blockParams:s }))?r:'';},2:function(e,t,n,i,a,s){let r;return'    <div class="station-message-header">\n      <div class="header-text"><span class="icon icon-station-alert"></span>Station message</div>\n    </div>\n    <div class="stationAlert">'+(null!=(r=e.lambda(s[0][0],t))?r:'')+'</div>\n';},4:function(e,t,n,i,a,s){let r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[0][0])?r.innerData:r,{ name:'if',hash:{},fn:e.program(5,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'';},5:function(e,t,n,i,a,s){let r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[1][0])?r.visible:r,{ name:'if',hash:{},fn:e.program(6,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'';},6:function(e,t,n,i,a,s){let r;return'                <h3 class="section-header">'+e.escapeExpression(e.lambda(null!=(r=s[2][0])?r.sectionName:r,t))+'</h3>\n                <div class="section">\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=(r=s[2][0])?r.innerData:r,{ name:'each',hash:{},fn:e.program(7,a,1,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'                </div>\n';},7:function(e,t,n,i,a,s){let r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=s[0][0])?r.data:r,{ name:'if',hash:{},fn:e.program(8,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'';},8:function(e,t,n,i,a,s){let r,o=e.lambda;return'                            <div class="subsection '+e.escapeExpression(o(null!=(r=s[1][0])?r.class:r,t))+'">\n                                <div class="data-title">'+(null!=(r=o(null!=(r=s[1][0])?r.title:r,t))?r:'')+'</div>\n                                <div class="data-content">\n                                    '+(null!=(r=o(null!=(r=s[1][0])?r.data:r,t))?r:'')+'\n                                </div>\n                            </div>\n';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a,s){let r,o,l=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'<div class=\'snw-live-board snw-'+u((o=null!=(o=n.className||(null!=t?t.className:t))?o:c,'function'==typeof o?o.call(l,{ name:'className',hash:{},data:a,blockParams:s }):o))+'\'>\n'+(null!=(r=n.if.call(l,null!=t?t.stationAlert:t,{ name:'if',hash:{},fn:e.program(1,a,0,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'  <div class="station-facilities">Station facilities</div>\n    <div id="station-info-accordion">\n'+(null!=(r=n.each.call(l,null!=t?t.stationInfo:t,{ name:'each',hash:{},fn:e.program(4,a,1,s),inverse:e.noop,data:a,blockParams:s }))?r:'')+'    </div>\n  <style>\n    .snw-station-info-board #station-info-accordion h3 {\n        background-color: '+u((o=null!=(o=n.customBackgroundColor||(null!=t?t.customBackgroundColor:t))?o:c,'function'==typeof o?o.call(l,{ name:'customBackgroundColor',hash:{},data:a,blockParams:s }):o))+';\n    }\n  </style>\n</div>\n';},useData:!0,useBlockParams:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l='function',c=e.escapeExpression;return'<div class="snw-station-container  '+c((s=null!=(s=n.classname||(null!=t?t.classname:t))?s:o,typeof s===l?s.call(r,{ name:'classname',hash:{},data:a }):s))+'">\n    <div class="snw-station-header">\n        <div class="snw-station-title">'+c((s=null!=(s=n.name||(null!=t?t.name:t))?s:o,typeof s===l?s.call(r,{ name:'name',hash:{},data:a }):s))+' ('+c((s=null!=(s=n.crs||(null!=t?t.crs:t))?s:o,typeof s===l?s.call(r,{ name:'crs',hash:{},data:a }):s))+')</div>\n        <div class="snw-icon-close close-btn snw-close-btn "></div>\n        <div class="snw-icon-back snw-md-icon-back back-collapse-btn"></div>\n    </div>\n    <div class="snw-station-content"></div>\n    <div class="snw-cta-station-see-map">'+c((n.t||t&&t.t||o).call(r,'liveBoard.seeMap',{ name:'t',hash:{},data:a }))+'</div>\n    <style>\n        .snw-station-header {\n            background-color: '+c((s=null!=(s=n.primaryColor||(null!=t?t.primaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'primaryColor',hash:{},data:a }):s))+'!important;\n            color: '+c((s=null!=(s=n.secondarycolor||(null!=t?t.secondarycolor:t))?s:o,typeof s===l?s.call(r,{ name:'secondarycolor',hash:{},data:a }):s))+'!important;\n        }\n        .snw-cta-station-see-map {\n            background-color: '+c((s=null!=(s=n.tertiaryColor||(null!=t?t.tertiaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'tertiaryColor',hash:{},data:a }):s))+'!important;\n            color: '+c((s=null!=(s=n.secondaryColor||(null!=t?t.secondaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'secondaryColor',hash:{},data:a }):s))+'!important;\n        }\n        .walking-time-see-route > .snw-cta-see-route {\n            color: '+c((s=null!=(s=n.tertiaryColor||(null!=t?t.tertiaryColor:t))?s:o,typeof s===l?s.call(r,{ name:'tertiaryColor',hash:{},data:a }):s))+'!important;\n            background-color: transparent!important;\n        }\n    </style>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ 1:function(e,t,n,i,a){return'      <p>'+e.escapeExpression(e.lambda(t,t))+'</p>\n';},3:function(e,t,n,i,a){return'snw-md-icon-star-full';},5:function(e,t,n,i,a){return'snw-md-icon-star-empty';},compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class=\'snw-summary\'>\n  <div class="address">\n'+(null!=(s=n.each.call(o,null!=t?t.address:t,{ name:'each',hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a }))?s:'')+'    <p>'+c((r=null!=(r=n.pCode||(null!=t?t.pCode:t))?r:l,'function'==typeof r?r.call(o,{ name:'pCode',hash:{},data:a }):r))+'</p>\n  </div>\n  <div class=\'snw-street-view\'>\n      <i class=\'swn-rdg-icon-street-view\' style=\'color:'+c((r=null!=(r=n.customColor||(null!=t?t.customColor:t))?r:l,'function'==typeof r?r.call(o,{ name:'customColor',hash:{},data:a }):r))+'\' title="'+c((n.t||t&&t.t||l).call(o,'stationInfoBoard.streetView',{ name:'t',hash:{},data:a }))+'"></i>\n  </div>\n  <div class=\'snw-favourite\'>\n      <i class=\'snw-icon-star '+(null!=(s=n.if.call(o,null!=t?t.favourite:t,{ name:'if',hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a }))?s:'')+'\' title="'+c((n.t||t&&t.t||l).call(o,'stationInfoBoard.save',{ name:'t',hash:{},data:a }))+'"></i>\n  </div>\n  <div class="walking-time">\n    <div class="walking-time-row">\n      <div class="walking-time-cell walking-time-text">\n        <p>\n          <i class="snw-icon-walking"></i>\n          <span class="walking-time-number">'+c((r=null!=(r=n.walkingTime||(null!=t?t.walkingTime:t))?r:l,'function'==typeof r?r.call(o,{ name:'walkingTime',hash:{},data:a }):r))+'</span> '+c((r=null!=(r=n.walkingTimeText||(null!=t?t.walkingTimeText:t))?r:l,'function'==typeof r?r.call(o,{ name:'walkingTimeText',hash:{},data:a }):r))+'\n        </p>\n      </div>\n      <div class="walking-time-see-route">\n        <a class="snw-cta-see-route">'+c((n.t||t&&t.t||l).call(o,'liveBoard.seeRoute',{ name:'t',hash:{},data:a }))+' <i class="snw-icon-md snw-icon-chevron-down snw-arrow-right"></i></a>\n      </div>\n    </div>\n  </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'\n<div class="snw-single-travel-new">\n    <div class="snw-travel-new-summary">\n        <div class="snw-time">'+l((n.t||t&&t.t||o).call(r,'travelNews.lastUpdate',{ name:'t',hash:{},data:a }))+' '+l((s=null!=(s=n.lastChangeTimeFormat||(null!=t?t.lastChangeTimeFormat:t))?s:o,'function'==typeof s?s.call(r,{ name:'lastChangeTimeFormat',hash:{},data:a }):s))+'</div>\n     </div>\n     <div class="snw-travel-new-content">\n        <div class="snw-travel-new-description">'+l((s=null!=(s=n.summary||(null!=t?t.summary:t))?s:o,'function'==typeof s?s.call(r,{ name:'summary',hash:{},data:a }):s))+'</div>\n        \n     </div>\n</div>\n';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="component snw-travel-news-panel '+l((s=null!=(s=n.identifier||(null!=t?t.identifier:t))?s:o,'function'==typeof s?s.call(r,{ name:'identifier',hash:{},data:a }):s))+'">\n  <div class="snw-disclaimer-message">\n    <span class="snw-content-message">'+l((n.t||t&&t.t||o).call(r,'travelNews.disclaimerMessage',{ name:'t',hash:{},data:a }))+'</span>\n    <i class="snw-icon-ic_close_black_24px close"></i>\n  </div>\n  <ul class="snw-travel-news-list"></ul> \n  <div class=\'snw-noResults\'>\n    <div class=\'snw-icon-info\'></div>\n    <div class=\'snw-noResults-text\'>'+l((n.t||t&&t.t||o).call(r,'travelNews.noResults',{ name:'t',hash:{},data:a }))+'</div>\n  </div>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r,o=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<div class=\'snw-label label-'+o(e.lambda(null!=(s=null!=t?t.direction:t)?s.arrow:s,t))+' \'>\n<span class=\'snw-label-icon transport-icon snw-icon-'+o((r=null!=(r=n.iconClass||(null!=t?t.iconClass:t))?r:c,'function'==typeof r?r.call(l,{ name:'iconClass',hash:{},data:a }):r))+'\'>\n       </span>\n<span class=\'snw-label-duration\'>'+o((r=null!=(r=n.duration||(null!=t?t.duration:t))?r:c,'function'==typeof r?r.call(l,{ name:'duration',hash:{},data:a }):r))+'</span>\n</div>';},useData:!0 });},function(e,t,n){let i=n(2);e.exports=(i.default||i).template({ compiler:[7,'>= 4.0.0'],main:function(e,t,n,i,a){let s,r=null!=t?t:e.nullContext||{},o=n.helperMissing,l='function',c=e.escapeExpression;return'<tr class=\'snw-selected-tr\'><td colspan=\''+c((s=null!=(s=n.colspan||(null!=t?t.colspan:t))?s:o,typeof s===l?s.call(r,{ name:'colspan',hash:{},data:a }):s))+'\' class=\'snw-selected-row\'>\n    <div class=\'snw-selected-content\'>\n\n            <span class=\'time\'>'+c((s=null!=(s=n.time||(null!=t?t.time:t))?s:o,typeof s===l?s.call(r,{ name:'time',hash:{},data:a }):s))+'</span>\n            <span class=\'destination\' title=\''+c((s=null!=(s=n.destination||(null!=t?t.destination:t))?s:o,typeof s===l?s.call(r,{ name:'destination',hash:{},data:a }):s))+'\'>'+c((s=null!=(s=n.destination||(null!=t?t.destination:t))?s:o,typeof s===l?s.call(r,{ name:'destination',hash:{},data:a }):s))+'</span>\n            <span class=\'estimated\'> - '+c((s=null!=(s=n.estimated||(null!=t?t.estimated:t))?s:o,typeof s===l?s.call(r,{ name:'estimated',hash:{},data:a }):s))+'</span>\n       \n            <span class=\'close-selected-btn \'></span>\n            <span class=\'see-routes-btn\'>'+c((n.t||t&&t.t||o).call(r,'liveBoard.seeDetails',{ name:'t',hash:{},data:a }))+'</span>\n    \n    </div>\n</td>\n</tr>';},useData:!0 });},function(e,t){e.exports={ 'autocomplete.placeholder':'Bsqueda','autocomplete.notResultFound':'No hemos encontrado ningn resultado con esa bsqueda. Pruebe con una ciudad, calle o cdigo postal.','mylocation.notfound':'Lo siento, no hemos podido determinar tu localizacin. /link/Haz click aqu/link/','mylocation.notinallowedarea':'Esta posicin est fuera del rea disponible.','mylocation.help':'Ayuda','loadingWarning.mainMsg':'Cargando','streetview.notAvailable':'Street View no est disponible.','carousel.noImages':'Ninguna imagen disponible.','mylocation.linkText':'Click aqu','mylocation.helpMobile':'https://support.google.com/maps/answer/1250066?p=ml_location_help&hl=es&rd=1','mylocation.helpDesktop':'https://support.google.com/maps/answer/2839911?hl=es&visit_id=1-636149094206978280-3844184764&rd=1','placesCard.website':'Ver sitio web','travelTime.turnOn':'Activar filtro','travelTime.turnOff':'Desactivar filtro','travelTime.info':'Puedes arrastrar el punto de referencia por el mapa. Elige el modo de transporte y tiempo mximo desde el punto de referencia para filtrar las propiedades.','calculateTravelTime.turnOn':'Activar Calcular tiempo','calculateTravelTime.turnOff':'Desactivar Calcular tiempo','calculateTravelTime.placeholder':'Busca ubicacin deseada','calculateTravelTime.info':'Busca un lugar para calcular el tiempo respecto a una propiedad.','calculateTravelTime.placeholderLimitReached':'Borra algn POI para seguir buscando','calculateTravelTime.infoMessage':'Ahora puedes hacer click en una propiedad y se calcular el tiempo de viaje.','calculateTravelTime.poiAddedMessage':'El punto de inters se ha aadido correctamente.','calculateTravelTime.poisLimitMessage':'No hay ms POIs disponibles. Has llegado al mximo nmero de puntos.','calculateTravelTime.noRouteMessage':'Lo siento, no hemos podido encontrar una ruta. Intenta otra, por favor.','calculateTravelTime.errorMessage':'Lo siento, un error ha ocurrido. Intntalo de nuevo.','calculateTravelTime.noRouteLabel':'No hay ruta','calculateTravelTime.hoursLabel':'horas','calculateTravelTime.hourLabel':'hora','drawingTool.enabled':'Haz click sobre el mapa para dibujar la zona donde te gustara buscar. Cierra la zona haciendo doble click o uniendo nodos','transitStops.departure':'Salida','transitStops.arrival':'Llegada','transitStops.headsign':'Direccin','transitStops.line':'Linea','transitStops.stops':'paradas' };},function(e,t){e.exports={ 'autocomplete.placeholder':'Cliquez ici pour rechercher','autocomplete.notResultFound':'Nous n\'avons trouv aucun rsultat correspondant  la recherche! Essayez d\'ajouter une ville, rue ou code postal.','mylocation.notfound':'Nous n\'avons pas russi  dterminer votre localisation exacte. /link/Cliquez ici !/link/','mylocation.notinallowedarea':'La localisation est en dehors du secteur autoris.','mylocation.help':'Aide','loadingWarning.mainMsg':'Chargement en cours','streetview.notAvailable':'Street view non disponible pour cette localisation.','carousel.noImages':'Aucune image ne peut tre affiche.','mylocation.linkText':'Cliquez ici.','mylocation.helpMobile':'https://support.google.com/maps/answer/1250066?p=ml_location_help&hl=es&rd=1','mylocation.helpDesktop':'https://support.google.com/maps/answer/2839911?hl=es&visit_id=1-636149094206978280-3844184764&rd=1','placesCard.website':'Voir site web','travelTime.turnOn':'Activer filtre','travelTime.turnOff':'Dsactiver filtre','travelTime.info':'Vous pouvez glisser et dposer le point de rfrence n\'importe o sur la carte. Choisissez le mode de transport et le temps maximal du point de rfrence pour filtrer les proprits.','calculateTravelTime.turnOn':'Activer le calcul du temps','calculateTravelTime.turnOff':'Dsactiver le calcul tu temps','calculateTravelTime.placeholder':'Chercher le lieu souhait...','calculateTravelTime.info':'Chercher un lieu afin de calculer le temps depuis une proprit','calculateTravelTime.placeholderLimitReached':'Supprimer un POI pour chercher de nouveau','calculateTravelTime.infoMessage':'Maintenant vous pouvez cliquer sur une propit et le temps de Voyage sera calcul.','calculateTravelTime.poiAddedMessage':'Point d\'intret ajout correctament.','calculateTravelTime.poisLimitMessage':'Vous ne pouvez pas ajouter plus de points. La limite a t atteinte.','calculateTravelTime.noRouteMessage':'Dsol, a n\'a pas t possible de trouver la route. Essayez une autre, s\'il vous plat.','calculateTravelTime.errorMessage':'Dsol, une error a t produite. Essayez de nouveau.','calculateTravelTime.noRouteLabel':'Pas de route','calculateTravelTime.hoursLabel':'heures','calculateTravelTime.hourLabel':'heure','drawingTool.enabled':'Cliquez sur la carte pour dessiner la zone o vous souhaitez effectuer la recherche. Fermer la zone par un double-clic ou par des noeuds d\'assemblage' };},function(e,t){e.exports={ 'mylocation.notfound':'We could not determine your precise location. /link/Click here!/link/','mylocation.notinallowedarea':'The location is out of the allowed area','mylocation.linkText':'Click here','mylocation.helpMobile':'https://support.google.com/maps/answer/1250066?p=ml_location_help&hl=en&rd=1','mylocation.helpDesktop':'https://support.google.com/maps/answer/2839911?hl=en&visit_id=1-636149094206978280-3844184764&rd=1','stationSummary.walkingTime':'walking','liveBoard.platform':'Platform','liveBoard.ontime':'On time','liveBoard.cancelled':'Cancelled','liveBoard.delayed':'Delayed','liveBoard.seeRoute':'See route','liveBoard.seeMap':'View map','serviceBoard.fromText':'From','serviceBoard.toText':'To','serviceBoard.late':'minutes late','serviceBoard.before':'minutes before','serviceBoard.stops':'stops','serviceRoute.cancelled':'Cancelled','serviceRoute.delayed':'Delayed','autocomplete.origin.placeholder':'Type a station, address or postcode','autocomplete.destination.placeholder':'Type a station, address or postcode','autocomplete.notResultFound':'We haven\'t found any place matching searched criteria! Try adding other station, street or postcode.','swap.text':'Reverses starting point and destination','journeyPlanner.noResults':'We could not find a route from %{origin} to %{destination}','journeyPlanner.missingData':'You must choose an origin and a destination','journeyPlanner.checkJourney':'Check journey','journeyPlanner.liveTravel':'Travel news','journeyPlanner.details':'Details','journeyPlanner.checkMsg':'Check for more details','journeyPlanner.through':'Through','journeyPlanner.goBackOriginalRoute':'Back','journeyPlanner.disclaimerMessage':'Please note, your ticket may not be valid for travel with the suggested alternative journey','journeyPlanner.alternative':'Alternative routes','travelNews.lastUpdate':'last update','incidentDetails.incidentAffecting':'Incident affecting','incidentDetails.seeMoreInfo':'See more info','stationInfoBoard.carParkInfo':'Car park info','stationInfoBoard.numberOfSpaces':'Number of spaces','stationInfoBoard.charge':'Charge','stationInfoBoard.accessibilityInfo':'Accessibility Info','stationInfoBoard.accessibilitySpaces':'Accessibility spaces','stationInfoBoard.taxiRank':'Taxi rank','stationInfoBoard.ticketBuyingAndCollection':'Ticket buying and collection','stationInfoBoard.ticketOffice':'Ticket Office','stationInfoBoard.staffingAndGeneralServices':'Staffing and general services','stationInfoBoard.staffingTimes':'Staffing times','stationInfoBoard.locationOfReplacementBuses':'Location of replacement buses','stationInfoBoard.facilities':'Facilities','stationInfoBoard.toiletsIncludingAccessibleToilets':'Toilets, Including accessible toilets','stationInfoBoard.accessibility':'Accessibility','stationInfoBoard.stepFreeAccess':'Step free access','stationInfoBoard.gettingToAndFromTheStation':'Getting to and from the station','stationInfoBoard.save':'Save','stationInfoBoard.streetView':'Street View','stationInfoBoard.streetViewError':'Street View not available','routeOptions.leaveNow':'Leave now','routeOptions.departAt':'Leaving at','routeOptions.arriveBy':'Arriving by','routeOptions.transportOptions':'Route options','travelNews.noResults':'No incidents on the network.','travelNews.disclaimerMessage':'Please, note only incidents affecting the selected journeys are displayed','incidentDetailsPanel.affectedOperators':'Affected train operators','customPanel.followedRoutes':'Following','customPanel.arrived':'Arrived','transportMode.tittle':'Alternative modes','transportOptions.tittle':'Route Options','transportOptions.prefer':'Preferences','transportOptions.routes':'Routes','transportOptions.tolls':'Tolls','transportOptions.avoid':'Avoid','transportOptions.highway':'Highway','transportOptions.bus':'Bus','transportOptions.underground':'Underground','transportOptions.train':'Train','transportOptions.tram':'Tram / Light rail','transportOptions.best':'Best route','transportOptions.fewer':'Fewer transfers','transportOptions.less':'Less walking','transportOptions.highways':'Highways','liveBoard.seeDetails':'See route details','customPanel.stations':'Stations','customPanel.favouriteStations':'Favourite Stations','customPanel.favouriteRoutes':'Favourite Routes','customPanel.nearbyStations':'Nearby Stations','incidentsLayer.incidents':'%s incidents','serviceBoard.aprox':'aprox.' };},function(e,t,n){let i,a,s;!function(r,o){a=[e,n(218)],i=o,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(0,function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}let i=function(e){return e&&e.__esModule?e:{ default:e };}(t),a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},s=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),r=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection();}return s(e,[{ key:'resolveOptions',value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText='';} },{ key:'initSelection',value:function(){this.text?this.selectFake():this.target&&this.selectTarget();} },{ key:'selectFake',value:function(){let e=this,t='rtl'==document.documentElement.getAttribute('dir');this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake();},this.fakeHandler=this.container.addEventListener('click',this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement('textarea'),this.fakeElem.style.fontSize='12pt',this.fakeElem.style.border='0',this.fakeElem.style.padding='0',this.fakeElem.style.margin='0',this.fakeElem.style.position='absolute',this.fakeElem.style[t?'right':'left']='-9999px';let n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+'px',this.fakeElem.setAttribute('readonly',''),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText();} },{ key:'removeFake',value:function(){this.fakeHandler&&(this.container.removeEventListener('click',this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null);} },{ key:'selectTarget',value:function(){this.selectedText=(0,i.default)(this.target),this.copyText();} },{ key:'copyText',value:function(){let e=void 0;try{e=document.execCommand(this.action);}catch(t){e=!1;}this.handleResult(e);} },{ key:'handleResult',value:function(e){this.emitter.emit(e?'success':'error',{ action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this) });} },{ key:'clearSelection',value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges();} },{ key:'destroy',value:function(){this.removeFake();} },{ key:'action',set:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'copy';if(this._action=e,'copy'!==this._action&&'cut'!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action;} },{ key:'target',set:function(e){if(void 0!==e){if(!e||'object'!==(void 0===e?'undefined':a(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if('copy'===this.action&&e.hasAttribute('disabled'))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if('cut'===this.action&&(e.hasAttribute('readonly')||e.hasAttribute('disabled')))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e;}},get:function(){return this._target;} }]),e;}();e.exports=r;});},function(e,t,n){let i,a,s;!function(r,o){a=[e,n(174),n(222),n(191)],i=o,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(0,function(e,t,n,i){'use strict';function a(e){return e&&e.__esModule?e:{ default:e };}function s(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function');}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return!t||'object'!=typeof t&&'function'!=typeof t?e:t;}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{ constructor:{ value:e,enumerable:!1,writable:!0,configurable:!0 } }),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}function l(e,t){let n='data-clipboard-'+e;if(t.hasAttribute(n))return t.getAttribute(n);}let c=a(t),u=a(n),d=a(i),p='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e;},h=function(){function e(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};}(),f=function(e){function t(e,n){s(this,t);let i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i;}return o(t,e),h(t,[{ key:'resolveOptions',value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action='function'==typeof e.action?e.action:this.defaultAction,this.target='function'==typeof e.target?e.target:this.defaultTarget,this.text='function'==typeof e.text?e.text:this.defaultText,this.container='object'===p(e.container)?e.container:document.body;} },{ key:'listenClick',value:function(e){let t=this;this.listener=(0,d.default)(e,'click',function(e){return t.onClick(e);});} },{ key:'onClick',value:function(e){let t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({ action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this });} },{ key:'defaultAction',value:function(e){return l('action',e);} },{ key:'defaultTarget',value:function(e){let t=l('target',e);if(t)return document.querySelector(t);} },{ key:'defaultText',value:function(e){return l('text',e);} },{ key:'destroy',value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null);} }],[{ key:'isSupported',value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:['copy','cut'],t='string'==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e);}),n;} }]),t;}(u.default);e.exports=f;});},function(e,t){function n(e,t){for(;e&&e.nodeType!==i;){if('function'==typeof e.matches&&e.matches(t))return e;e=e.parentNode;}}var i=9;if('undefined'!=typeof Element&&!Element.prototype.matches){let a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;}e.exports=n;},function(e,t,n){function i(e,t,n,i,s){let r=a.apply(this,arguments);return e.addEventListener(n,r,s),{ destroy:function(){e.removeEventListener(n,r,s);} };}function a(e,t,n,i){return function(n){n.delegateTarget=s(n.target,t),n.delegateTarget&&i.call(e,n);};}var s=n(176);e.exports=i;},function(e,t){function n(e){let t=e.target||e.srcElement;t.__resizeRAF__&&a(t.__resizeRAF__),t.__resizeRAF__=i(function(){let n=t.__resizeTrigger__;n.__resizeListeners__.forEach(function(t){t.call(n,e);});});}var i=function(){let e=this,t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20);};return function(e){return t(e);};}(),a=function(){let e=this,t=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(e){return t(e);};}(),t=function(e,t){function i(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener('resize',n);}let a,s=this,r=s.document,o=r.attachEvent;if('undefined'!=typeof navigator&&(a=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],o)e.__resizeTrigger__=e,e.attachEvent('onresize',n);else{'static'===getComputedStyle(e).position&&(e.style.position='relative');let l=e.__resizeTrigger__=r.createElement('object');l.setAttribute('style','display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;'),l.setAttribute('class','resize-sensor'),l.__resizeElement__=e,l.onload=i,l.type='text/html',a&&e.appendChild(l),l.data='about:blank',a||e.appendChild(l);}e.__resizeListeners__.push(t);};e.exports='undefined'==typeof window?t:t.bind(window),e.exports.unbind=function(e,t){let i=document.attachEvent;t?e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1):e.__resizeListeners__=[],e.__resizeListeners__.length||(i?e.detachEvent('onresize',n):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize',n),delete e.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)),delete e.__resizeListeners__);};},function(e,t,n){'use strict';let i=n(181),a=n(180),s=n(183),r=n(182),o=n(39),l=n(184),c=n(38),u={ ToPrimitive:l,ToBoolean:function(e){return!!e;},ToNumber:function(e){return Number(e);},ToInteger:function(e){let t=this.ToNumber(e);return i(t)?0:0!==t&&a(t)?s(t)*Math.floor(Math.abs(t)):t;},ToInt32:function(e){return this.ToNumber(e)>>0;},ToUint32:function(e){return this.ToNumber(e)>>>0;},ToUint16:function(e){let t=this.ToNumber(e);if(i(t)||0===t||!a(t))return 0;let n=s(t)*Math.floor(Math.abs(t));return r(n,65536);},ToString:function(e){return String(e);},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e);},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||'Cannot call method on '+e);return e;},IsCallable:o,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:i(e)&&i(t);},Type:function(e){return null===e?'Null':void 0===e?'Undefined':'function'==typeof e||'object'==typeof e?'Object':'number'==typeof e?'Number':'boolean'==typeof e?'Boolean':'string'==typeof e?'String':void 0;},IsPropertyDescriptor:function(e){if('Object'!==this.Type(e))return!1;let t={ '[[Configurable]]':!0,'[[Enumerable]]':!0,'[[Get]]':!0,'[[Set]]':!0,'[[Value]]':!0,'[[Writable]]':!0 };for(let n in e)if(c(e,n)&&!t[n])return!1;let i=c(e,'[[Value]]'),a=c(e,'[[Get]]')||c(e,'[[Set]]');if(i&&a)throw new TypeError('Property Descriptors may not be both accessor and data descriptors');return!0;},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError('Desc must be a Property Descriptor');return!(!c(e,'[[Get]]')&&!c(e,'[[Set]]'));},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError('Desc must be a Property Descriptor');return!(!c(e,'[[Value]]')&&!c(e,'[[Writable]]'));},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError('Desc must be a Property Descriptor');return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e);},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError('Desc must be a Property Descriptor');if(this.IsDataDescriptor(e))return{ value:e['[[Value]]'],writable:!!e['[[Writable]]'],enumerable:!!e['[[Enumerable]]'],configurable:!!e['[[Configurable]]'] };if(this.IsAccessorDescriptor(e))return{ get:e['[[Get]]'],set:e['[[Set]]'],enumerable:!!e['[[Enumerable]]'],configurable:!!e['[[Configurable]]'] };throw new TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');},ToPropertyDescriptor:function(e){if('Object'!==this.Type(e))throw new TypeError('ToPropertyDescriptor requires an object');let t={};if(c(e,'enumerable')&&(t['[[Enumerable]]']=this.ToBoolean(e.enumerable)),c(e,'configurable')&&(t['[[Configurable]]']=this.ToBoolean(e.configurable)),c(e,'value')&&(t['[[Value]]']=e.value),c(e,'writable')&&(t['[[Writable]]']=this.ToBoolean(e.writable)),c(e,'get')){let n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError('getter must be a function');t['[[Get]]']=n;}if(c(e,'set')){let i=e.set;if(void 0!==i&&!this.IsCallable(i))throw new TypeError('setter must be a function');t['[[Set]]']=i;}if((c(t,'[[Get]]')||c(t,'[[Set]]'))&&(c(t,'[[Value]]')||c(t,'[[Writable]]')))throw new TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');return t;} };e.exports=u;},function(e,t){let n=Number.isNaN||function(e){return e!==e;};e.exports=Number.isFinite||function(e){return'number'==typeof e&&!n(e)&&e!==1/0&&e!==-1/0;};},function(e,t){e.exports=Number.isNaN||function(e){return e!==e;};},function(e,t){e.exports=function(e,t){let n=e%t;return Math.floor(n>=0?n:n+t);};},function(e,t){e.exports=function(e){return e>=0?1:-1;};},function(e,t,n){'use strict';let i=Object.prototype.toString,a=n(185),s=n(39),r={ '[[DefaultValue]]':function(e,t){let n=t||('[object Date]'===i.call(e)?String:Number);if(n===String||n===Number){let r,o,l=n===String?['toString','valueOf']:['valueOf','toString'];for(o=0;o<l.length;++o)if(s(e[l[o]])&&(r=e[l[o]](),a(r)))return r;throw new TypeError('No default value');}throw new TypeError('invalid [[DefaultValue]] hint supplied');} };e.exports=function(e,t){return a(e)?e:r['[[DefaultValue]]'](e,t);};},function(e,t){e.exports=function(e){return null===e||'function'!=typeof e&&'object'!=typeof e;};},function(e,t,n){function i(e,t,n){if(!o(t))throw new TypeError('iterator must be a function');arguments.length<3&&(n=this),'[object Array]'===l.call(e)?a(e,t,n):'string'==typeof e?s(e,t,n):r(e,t,n);}function a(e,t,n){for(let i=0,a=e.length;i<a;i++)c.call(e,i)&&t.call(n,e[i],i,e);}function s(e,t,n){for(let i=0,a=e.length;i<a;i++)t.call(n,e.charAt(i),i,e);}function r(e,t,n){for(let i in e)c.call(e,i)&&t.call(n,e[i],i,e);}var o=n(207);e.exports=i;var l=Object.prototype.toString,c=Object.prototype.hasOwnProperty;},function(e,t){let n=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=function(e,t,a){if('[object Function]'!==i.call(t))throw new TypeError('iterator must be a function');let s=e.length;if(s===+s)for(let r=0;r<s;r++)t.call(a,e[r],r,e);else for(let o in e)n.call(e,o)&&t.call(a,e[o],o,e);};},function(e,t,n){'use strict';let i=Array.prototype.slice,a=Object.prototype.toString;e.exports=function(e){let t=this;if('function'!=typeof t||'[object Function]'!==a.call(t))throw new TypeError('Function.prototype.bind called on incompatible '+t);for(var n,s=i.call(arguments,1),r=function(){if(this instanceof n){let a=t.apply(this,s.concat(i.call(arguments)));return Object(a)===a?a:this;}return t.apply(e,s.concat(i.call(arguments)));},o=Math.max(0,t.length-s.length),l=[],c=0;c<o;c++)l.push('$'+c);if(n=Function('binder','return function ('+l.join(',')+'){ return binder.apply(this,arguments); }')(r),t.prototype){let u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null;}return n;};},function(e,t,n){!function(e){function t(e,t){let n=e||{};for(let i in t)t.hasOwnProperty(i)&&!n[i]&&(n[i]=t[i]);return n;}function n(e,t){if(t.crs&&i(t.crs)&&(e.crs=t.crs),t.bbox&&(e.bbox=t.bbox),t.extraGlobal){e.properties={};for(let n in t.extraGlobal)e.properties[n]=t.extraGlobal[n];}}function i(e){if('name'===e.type){if(e.properties&&e.properties.name)return!0;throw new Error('Invalid CRS. Properties must contain "name" key');}if('link'===e.type){if(e.properties&&e.properties.href&&e.properties.type)return!0;throw new Error('Invalid CRS. Properties must contain "href" and "type" key');}throw new Error('Invald CRS. Type attribute must be "name" or "link"');}function a(e){e.geom={};for(let t in e)e.hasOwnProperty(t)&&-1!==u.indexOf(t)&&(e.geom[t]=e[t],delete e[t]);s(e.geom);}function s(e){for(let t in e)e.hasOwnProperty(t)&&('string'==typeof e[t]?d.push(e[t]):'object'==typeof e[t]&&(d.push(e[t][0]),d.push(e[t][1])));if(0===d.length)throw new Error('No geometry attributes specified');}function r(e,t,n){let i={ type:'Feature' };return i.geometry=o(e,t),i.properties=n.call(e),i;}function o(e,t){let n={};for(let i in t.geom){let a=t.geom[i];'string'==typeof a&&e.hasOwnProperty(a)?(n.type=i,n.coordinates=e[a]):Array.isArray(a)&&e.hasOwnProperty(a[0])&&e.hasOwnProperty(a[1])&&(n.type=i,n.coordinates=[e[a[1]],e[a[0]]]);}return n;}function l(e){let t;return e.exclude||e.include?e.include?t=function(t){e.include.forEach(function(e){t[e]=this[e];},this);}:e.exclude&&(t=function(t){for(let n in this)this.hasOwnProperty(n)&&-1===d.indexOf(n)&&-1===e.exclude.indexOf(n)&&(t[n]=this[n]);}):t=function(e){for(let t in this)this.hasOwnProperty(t)&&-1===d.indexOf(t)&&(e[t]=this[t]);},function(){let n={};return t.call(this,n),e.extra&&c(n,e.extra),n;};}function c(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e;}e.version='0.3.0',e.defaults={},e.parse=function(e,i,s){let o,c={ type:'FeatureCollection',features:[] },u=t(i,this.defaults);if(d.length=0,a(u),o=l(u),e.forEach(function(e){c.features.push(r(e,u,o));}),n(c,u),!s||'function'!=typeof s)return c;s(c);};var u=['Point','MultiPoint','LineString','MultiLineString','Polygon','MultiPolygon'],d=[];}(e.exports);},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType;},t.nodeList=function(e){let n=Object.prototype.toString.call(e);return void 0!==e&&('[object NodeList]'===n||'[object HTMLCollection]'===n)&&'length'in e&&(0===e.length||t.node(e[0]));},t.string=function(e){return'string'==typeof e||e instanceof String;},t.fn=function(e){return'[object Function]'===Object.prototype.toString.call(e);};},function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error('Missing required arguments');if(!o.string(t))throw new TypeError('Second argument must be a String');if(!o.fn(n))throw new TypeError('Third argument must be a Function');if(o.node(e))return a(e,t,n);if(o.nodeList(e))return s(e,t,n);if(o.string(e))return r(e,t,n);throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');}function a(e,t,n){return e.addEventListener(t,n),{ destroy:function(){e.removeEventListener(t,n);} };}function s(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n);}),{ destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n);});} };}function r(e,t,n){return l(document.body,e,t,n);}var o=n(190),l=n(177);e.exports=i;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e){if(e&&e.__esModule)return e;let t={};if(null!=e)for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t;}function s(){let e=new o.HandlebarsEnvironment;return h.extend(e,o),e.SafeString=c.default,e.Exception=d.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e);},e;}t.__esModule=!0;var r=n(37),o=a(r),l=n(206),c=i(l),u=n(14),d=i(u),p=n(6),h=a(p),f=n(205),m=a(f),y=n(204),g=i(y),v=s();v.create=s,g.default(v),v.default=v,t.default=v,e.exports=t.default;},function(e,t,n){'use strict';function i(e){s.default(e);}t.__esModule=!0,t.registerDefaultDecorators=i;var a=n(194),s=function(e){return e&&e.__esModule?e:{ default:e };}(a);},function(e,t,n){'use strict';t.__esModule=!0;let i=n(6);t.default=function(e){e.registerDecorator('inline',function(e,t,n,a){let s=e;return t.partials||(t.partials={},s=function(a,s){let r=n.partials;n.partials=i.extend({},r,t.partials);let o=e(a,s);return n.partials=r,o;}),t.partials[a.args[0]]=a.fn,s;});},e.exports=t.default;},function(e,t,n){'use strict';function i(e){return e&&e.__esModule?e:{ default:e };}function a(e){r.default(e),l.default(e),u.default(e),p.default(e),f.default(e),y.default(e),v.default(e);}t.__esModule=!0,t.registerDefaultHelpers=a;var s=n(196),r=i(s),o=n(197),l=i(o),c=n(198),u=i(c),d=n(199),p=i(d),h=n(200),f=i(h),m=n(201),y=i(m),g=n(202),v=i(g);},function(e,t,n){'use strict';t.__esModule=!0;let i=n(6);t.default=function(e){e.registerHelper('blockHelperMissing',function(t,n){let a=n.inverse,s=n.fn;if(!0===t)return s(this);if(!1===t||null==t)return a(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){let r=i.createFrame(n.data);r.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={ data:r };}return s(t,n);});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0;let i=n(6),a=n(14),s=function(e){return e&&e.__esModule?e:{ default:e };}(a);t.default=function(e){e.registerHelper('each',function(e,t){function n(t,n,s){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!s,u&&(c.contextPath=u+t)),l+=a(e[t],{ data:c,blockParams:i.blockParams([e[t],t],[u+t,null]) });}if(!t)throw new s.default('Must pass iterator to #each');var a=t.fn,r=t.inverse,o=0,l='',c=void 0,u=void 0;if(t.data&&t.ids&&(u=i.appendContextPath(t.data.contextPath,t.ids[0])+'.'),i.isFunction(e)&&(e=e.call(this)),t.data&&(c=i.createFrame(t.data)),e&&'object'==typeof e)if(i.isArray(e))for(let d=e.length;o<d;o++)o in e&&n(o,o,o===e.length-1);else{let p=void 0;for(let h in e)e.hasOwnProperty(h)&&(void 0!==p&&n(p,o-1),p=h,o++);void 0!==p&&n(p,o-1,!0);}return 0===o&&(l=r(this)),l;});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0;let i=n(14),a=function(e){return e&&e.__esModule?e:{ default:e };}(i);t.default=function(e){e.registerHelper('helperMissing',function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"');});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0;let i=n(6);t.default=function(e){e.registerHelper('if',function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this);}),e.registerHelper('unless',function(t,n){return e.helpers.if.call(this,t,{ fn:n.inverse,inverse:n.fn,hash:n.hash });});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0,t.default=function(e){e.registerHelper('log',function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);let a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t);});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0,t.default=function(e){e.registerHelper('lookup',function(e,t){return e&&e[t];});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0;let i=n(6);t.default=function(e){e.registerHelper('with',function(e,t){i.isFunction(e)&&(e=e.call(this));let n=t.fn;if(i.isEmpty(e))return t.inverse(this);let a=t.data;return t.data&&t.ids&&(a=i.createFrame(t.data),a.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{ data:a,blockParams:i.blockParams([e],[a&&a.contextPath]) });});},e.exports=t.default;},function(e,t,n){'use strict';t.__esModule=!0;var i=n(6),a={ methodMap:['debug','info','warn','error'],level:'info',lookupLevel:function(e){if('string'==typeof e){let t=i.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10);}return e;},log:function(e){if(e=a.lookupLevel(e),'undefined'!=typeof console&&a.lookupLevel(a.level)<=e){let t=a.methodMap[e];console[t]||(t='log');for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];console[t].apply(console,i);}} };t.default=a,e.exports=t.default;},function(e,t,n){'use strict';(function(n){t.__esModule=!0,t.default=function(e){let t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e;};},e.exports=t.default;}).call(t,n(46));},function(e,t,n){'use strict';function i(e){let t=e&&e[0]||1,n=m.COMPILER_REVISION;if(t!==n){if(t<n){let i=m.REVISION_CHANGES[n],a=m.REVISION_CHANGES[t];throw new f.default('Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ('+i+') or downgrade your runtime to an older version ('+a+').');}throw new f.default('Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ('+e[1]+').');}}function a(e,t){function n(n,i,a){a.hash&&(i=p.extend({},i,a.hash),a.ids&&(a.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,a);let s=t.VM.invokePartial.call(this,n,i,a);if(null==s&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),s=a.partials[a.name](i,a)),null!=s){if(a.indent){for(var r=s.split('\n'),o=0,l=r.length;o<l&&(r[o]||o+1!==l);o++)r[o]=a.indent+r[o];s=r.join('\n');}return s;}throw new f.default('The partial '+a.name+' could not be compiled when running in runtime-only mode');}function i(t){function n(t){return''+e.main(a,t,a.helpers,a.partials,r,l,o);}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=s.data;i._setup(s),!s.partial&&e.useData&&(r=c(t,r));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=s.depths?t!=s.depths[0]?[t].concat(s.depths):s.depths:[t]),(n=u(e.main,n,a,s.depths||[],r,l))(t,s);}if(!t)throw new f.default('No environment passed to template');if(!e||!e.main)throw new f.default('Unknown template object: '+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var a={ strict:function(e,t){if(!(t in e))throw new f.default('"'+t+'" not defined in '+e);return e[t];},lookup:function(e,t){for(let n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t];},lambda:function(e,t){return'function'==typeof e?e.call(t):e;},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(t){let n=e[t];return n.decorator=e[t+'_d'],n;},programs:[],program:function(e,t,n,i,a){let r=this.programs[e],o=this.fn(e);return t||a||i||n?r=s(this,e,o,t,n,i,a):r||(r=this.programs[e]=s(this,e,o)),r;},data:function(e,t){for(;e&&t--;)e=e._parent;return e;},merge:function(e,t){let n=e||t;return e&&t&&e!==t&&(n=p.extend({},t,e)),n;},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler };return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators):(a.helpers=a.merge(n.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=a.merge(n.decorators,t.decorators)));},i._child=function(t,n,i,r){if(e.useBlockParams&&!i)throw new f.default('must pass block params');if(e.useDepths&&!r)throw new f.default('must pass parent depths');return s(a,t,e[t],n,0,i,r);},i;}function s(e,t,n,i,a,s,r){function o(t){let a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r;return!r||t==r[0]||t===e.nullContext&&null===r[0]||(o=[t].concat(r)),n(e,t,e.helpers,e.partials,a.data||i,s&&[a.blockParams].concat(s),o);}return o=u(n,o,e,r,i,s),o.program=t,o.depth=r?r.length:0,o.blockParams=a||0,o;}function r(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e='@partial-block'===n.name?n.data['partial-block']:n.partials[n.name],e;}function o(e,t,n){let i=n.data&&n.data['partial-block'];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);let a=void 0;if(n.fn&&n.fn!==l&&function(){n.data=m.createFrame(n.data);let e=n.fn;a=n.data['partial-block']=function(t){let n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=m.createFrame(n.data),n.data['partial-block']=i,e(t,n);},e.partials&&(n.partials=p.extend({},n.partials,e.partials));}(),void 0===e&&a&&(e=a),void 0===e)throw new f.default('The partial '+n.name+' could not be found');if(e instanceof Function)return e(t,n);}function l(){return'';}function c(e,t){return t&&'root'in t||(t=t?m.createFrame(t):{},t.root=e),t;}function u(e,t,n,i,a,s){if(e.decorator){let r={};t=e.decorator(t,r,n,i&&i[0],a,s,i),p.extend(t,r);}return t;}t.__esModule=!0,t.checkRevision=i,t.template=a,t.wrapProgram=s,t.resolvePartial=r,t.invokePartial=o,t.noop=l;var d=n(6),p=function(e){if(e&&e.__esModule)return e;let t={};if(null!=e)for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t;}(d),h=n(14),f=function(e){return e&&e.__esModule?e:{ default:e };}(h),m=n(37);},function(e,t,n){'use strict';function i(e){this.string=e;}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return''+this.string;},t.default=i,e.exports=t.default;},function(e,t){function n(e){let t=i.call(e);return'[object Function]'===t||'function'==typeof e&&'[object RegExp]'!==t||'undefined'!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt);}e.exports=n;var i=Object.prototype.toString;},function(e,t,n){let i,a,s;/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(210),n(15),n(40),n(41),n(7),n(16)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.widget('ui.autocomplete',{ version:'1.12.1',defaultElement:'<input>',options:{ appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{ my:'left top',at:'left bottom',collision:'none' },source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null },requestIndex:0,pending:0,_create:function(){let t,n,i,a=this.element[0].nodeName.toLowerCase(),s='textarea'===a,r='input'===a;this.isMultiLine=s||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[s||r?'val':'text'],this.isNewMenu=!0,this._addClass('ui-autocomplete-input'),this.element.attr('autocomplete','off'),this._on(this.element,{ keydown:function(a){if(this.element.prop('readOnly'))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;let s=e.ui.keyCode;switch(a.keyCode){case s.PAGE_UP:t=!0,this._move('previousPage',a);break;case s.PAGE_DOWN:t=!0,this._move('nextPage',a);break;case s.UP:t=!0,this._keyEvent('previous',a);break;case s.DOWN:t=!0,this._keyEvent('next',a);break;case s.ENTER:this.menu.active&&(t=!0,a.preventDefault(),this.menu.select(a));break;case s.TAB:this.menu.active&&this.menu.select(a);break;case s.ESCAPE:this.menu.element.is(':visible')&&(this.isMultiLine||this._value(this.term),this.close(a),a.preventDefault());break;default:n=!0,this._searchTimeout(a);}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(':visible')||i.preventDefault());if(!n){let a=e.ui.keyCode;switch(i.keyCode){case a.PAGE_UP:this._move('previousPage',i);break;case a.PAGE_DOWN:this._move('nextPage',i);break;case a.UP:this._keyEvent('previous',i);break;case a.DOWN:this._keyEvent('next',i);}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e);},focus:function(){this.selectedItem=null,this.previous=this._value();},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(e),this._change(e);} }),this._initSource(),this.menu=e('<ul>').appendTo(this._appendTo()).menu({ role:null }).hide().menu('instance'),this._addClass(this.menu.element,'ui-autocomplete','ui-front'),this._on(this.menu.element,{ mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger('focus');});},menufocus:function(t,n){let i,a;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one('mousemove',function(){e(t.target).trigger(t.originalEvent);});a=n.item.data('ui-autocomplete-item'),!1!==this._trigger('focus',t,{ item:a })&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(a.value),(i=n.item.attr('aria-label')||a.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e('<div>').text(i).appendTo(this.liveRegion));},menuselect:function(t,n){let i=n.item.data('ui-autocomplete-item'),a=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger('focus'),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i;})),!1!==this._trigger('select',t,{ item:i })&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i;} }),this.liveRegion=e('<div>',{ role:'status','aria-live':'assertive','aria-relevant':'additions' }).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,'ui-helper-hidden-accessible'),this._on(this.window,{ beforeunload:function(){this.element.removeAttr('autocomplete');} });},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr('autocomplete'),this.menu.element.remove(),this.liveRegion.remove();},_setOption:function(e,t){this._super(e,t),'source'===e&&this._initSource(),'appendTo'===e&&this.menu.element.appendTo(this._appendTo()),'disabled'===e&&t&&this.xhr&&this.xhr.abort();},_isEventTargetInWidget:function(t){let n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target);},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close();},_appendTo:function(){let t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest('.ui-front, dialog')),t.length||(t=this.document[0].body),t;},_initSource:function(){let t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term));}):'string'==typeof this.options.source?(n=this.options.source,this.source=function(t,a){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({ url:n,data:t,dataType:'json',success:function(e){a(e);},error:function(){a([]);} });}):this.source=this.options.source;},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){let t=this.term===this._value(),n=this.menu.element.is(':visible'),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e));},this.options.delay);},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger('search',t)?this._search(e):void 0;},_search:function(e){this.pending++,this._addClass('ui-autocomplete-loading'),this.cancelSearch=!1,this.source({ term:e },this._response());},_response:function(){let t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),--this.pending||this._removeClass('ui-autocomplete-loading');},this);},__response:function(e){e&&(e=this._normalize(e)),this._trigger('response',null,{ content:e }),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger('open')):this._close();},close:function(e){this.cancelSearch=!0,this._close(e);},_close:function(e){this._off(this.document,'mousedown'),this.menu.element.is(':visible')&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger('close',e));},_change:function(e){this.previous!==this._value()&&this._trigger('change',e,{ item:this.selectedItem });},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return'string'==typeof t?{ label:t,value:t }:e.extend({},t,{ label:t.label||t.value,value:t.value||t.label });});},_suggest:function(t){let n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({ of:this.element },this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{ mousedown:'_closeOnClickOutside' });},_resizeMenu:function(){let e=this.menu.element;e.outerWidth(Math.max(e.width('').outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(t,n){let i=this;e.each(n,function(e,n){i._renderItemData(t,n);});},_renderItemData:function(e,t){return this._renderItem(e,t).data('ui-autocomplete-item',t);},_renderItem:function(t,n){return e('<li>').append(e('<div>').text(n.label)).appendTo(t);},_move:function(e,t){return this.menu.element.is(':visible')?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(':visible')||(this._move(e,t),t.preventDefault());},_isContentEditable:function(e){if(!e.length)return!1;let t=e.prop('contentEditable');return'inherit'===t?this._isContentEditable(e.parent()):'true'===t;} }),e.extend(e.ui.autocomplete,{ escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&');},filter:function(t,n){let i=new RegExp(e.ui.autocomplete.escapeRegex(n),'i');return e.grep(t,function(e){return i.test(e.label||e.value||e);});} }),e.widget('ui.autocomplete',e.ui.autocomplete,{ options:{ messages:{ noResults:'No search results.',results:function(e){return e+(e>1?' results are':' result is')+' available, use up and down arrow keys to navigate.';} } },__response:function(t){let n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e('<div>').text(n).appendTo(this.liveRegion));} }),e.ui.autocomplete;});},function(e,t,n){let i,a,s;/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(7),n(15)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){function t(e){for(var t,n;e.length&&e[0]!==document;){if(('absolute'===(t=e.css('position'))||'relative'===t||'fixed'===t)&&(n=parseInt(e.css('zIndex'),10),!isNaN(n)&&0!==n))return n;e=e.parent();}return 0;}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId='ui-datepicker-div',this._inlineClass='ui-datepicker-inline',this._appendClass='ui-datepicker-append',this._triggerClass='ui-datepicker-trigger',this._dialogClass='ui-datepicker-dialog',this._disableClass='ui-datepicker-disabled',this._unselectableClass='ui-datepicker-unselectable',this._currentClass='ui-datepicker-current-day',this._dayOverClass='ui-datepicker-days-cell-over',this.regional=[],this.regional['']={ closeText:'Done',prevText:'Prev',nextText:'Next',currentText:'Today',monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNamesShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],dayNamesShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],dayNamesMin:['Su','Mo','Tu','We','Th','Fr','Sa'],weekHeader:'Wk',dateFormat:'mm/dd/yy',firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:'' },this._defaults={ showOn:'focus',showAnim:'fadeIn',showOptions:{},defaultDate:null,appendText:'',buttonText:'...',buttonImage:'',buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:'c-10:c+10',showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:'+10',minDate:null,maxDate:null,duration:'fast',beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:'',altFormat:'',constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1 },e.extend(this._defaults,this.regional['']),this.regional.en=e.extend(!0,{},this.regional['']),this.regional['en-US']=e.extend(!0,{},this.regional.en),this.dpDiv=i(e('<div id=\''+this._mainDivId+'\' class=\'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>'));}function i(t){let n='button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a';return t.on('mouseout',n,function(){e(this).removeClass('ui-state-hover'),-1!==this.className.indexOf('ui-datepicker-prev')&&e(this).removeClass('ui-datepicker-prev-hover'),-1!==this.className.indexOf('ui-datepicker-next')&&e(this).removeClass('ui-datepicker-next-hover');}).on('mouseover',n,a);}function a(){e.datepicker._isDisabledDatepicker(r.inline?r.dpDiv.parent()[0]:r.input[0])||(e(this).parents('.ui-datepicker-calendar').find('a').removeClass('ui-state-hover'),e(this).addClass('ui-state-hover'),-1!==this.className.indexOf('ui-datepicker-prev')&&e(this).addClass('ui-datepicker-prev-hover'),-1!==this.className.indexOf('ui-datepicker-next')&&e(this).addClass('ui-datepicker-next-hover'));}function s(t,n){e.extend(t,n);for(let i in n)null==n[i]&&(t[i]=n[i]);return t;}e.extend(e.ui,{ datepicker:{ version:'1.12.1' } });let r;return e.extend(n.prototype,{ markerClassName:'hasDatepicker',maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(e){return s(this._defaults,e||{}),this;},_attachDatepicker:function(t,n){let i,a,s;i=t.nodeName.toLowerCase(),a='div'===i||'span'===i,t.id||(this.uuid+=1,t.id='dp'+this.uuid),s=this._newInst(e(t),a),s.settings=e.extend({},n||{}),'input'===i?this._connectDatepicker(t,s):a&&this._inlineDatepicker(t,s);},_newInst:function(t,n){return{ id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,'\\\\$1'),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e('<div class=\''+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>')):this.dpDiv };},_connectDatepicker:function(t,n){let i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on('keydown',this._doKeyDown).on('keypress',this._doKeyPress).on('keyup',this._doKeyUp),this._autoSize(n),e.data(t,'datepicker',n),n.settings.disabled&&this._disableDatepicker(t));},_attachments:function(t,n){let i,a,s,r=this._get(n,'appendText'),o=this._get(n,'isRTL');n.append&&n.append.remove(),r&&(n.append=e('<span class=\''+this._appendClass+'\'>'+r+'</span>'),t[o?'before':'after'](n.append)),t.off('focus',this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,'showOn'),'focus'!==i&&'both'!==i||t.on('focus',this._showDatepicker),'button'!==i&&'both'!==i||(a=this._get(n,'buttonText'),s=this._get(n,'buttonImage'),n.trigger=e(this._get(n,'buttonImageOnly')?e('<img/>').addClass(this._triggerClass).attr({ src:s,alt:a,title:a }):e('<button type=\'button\'></button>').addClass(this._triggerClass).html(s?e('<img/>').attr({ src:s,alt:a,title:a }):a)),t[o?'before':'after'](n.trigger),n.trigger.on('click',function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1;}));},_autoSize:function(e){if(this._get(e,'autoSize')&&!e.inline){let t,n,i,a,s=new Date(2009,11,20),r=this._get(e,'dateFormat');r.match(/[DM]/)&&(t=function(e){for(n=0,i=0,a=0;a<e.length;a++)e[a].length>n&&(n=e[a].length,i=a);return i;},s.setMonth(t(this._get(e,r.match(/MM/)?'monthNames':'monthNamesShort'))),s.setDate(t(this._get(e,r.match(/DD/)?'dayNames':'dayNamesShort'))+20-s.getDay())),e.input.attr('size',this._formatDate(e,s).length);}},_inlineDatepicker:function(t,n){let i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,'datepicker',n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css('display','block'));},_dialogDatepicker:function(t,n,i,a,r){let o,l,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,o='dp'+this.uuid,this._dialogInput=e('<input type=\'text\' id=\''+o+'\' style=\'position: absolute; top: -100px; width: 0px;\'/>'),this._dialogInput.on('keydown',this._doKeyDown),e('body').append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],'datepicker',p)),s(p.settings,a||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css('left',this._pos[0]+20+'px').css('top',this._pos[1]+'px'),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],'datepicker',p),this;},_destroyDatepicker:function(t){let n,i=e(t),a=e.data(t,'datepicker');i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,'datepicker'),'input'===n?(a.append.remove(),a.trigger.remove(),i.removeClass(this.markerClassName).off('focus',this._showDatepicker).off('keydown',this._doKeyDown).off('keypress',this._doKeyPress).off('keyup',this._doKeyUp)):'div'!==n&&'span'!==n||i.removeClass(this.markerClassName).empty(),r===a&&(r=null));},_enableDatepicker:function(t){let n,i,a=e(t),s=e.data(t,'datepicker');a.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),'input'===n?(t.disabled=!1,s.trigger.filter('button').each(function(){this.disabled=!1;}).end().filter('img').css({ opacity:'1.0',cursor:'' })):'div'!==n&&'span'!==n||(i=a.children('.'+this._inlineClass),i.children().removeClass('ui-state-disabled'),i.find('select.ui-datepicker-month, select.ui-datepicker-year').prop('disabled',!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e;}));},_disableDatepicker:function(t){let n,i,a=e(t),s=e.data(t,'datepicker');a.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),'input'===n?(t.disabled=!0,s.trigger.filter('button').each(function(){this.disabled=!0;}).end().filter('img').css({ opacity:'0.5',cursor:'default' })):'div'!==n&&'span'!==n||(i=a.children('.'+this._inlineClass),i.children().addClass('ui-state-disabled'),i.find('select.ui-datepicker-month, select.ui-datepicker-year').prop('disabled',!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e;}),this._disabledInputs[this._disabledInputs.length]=t);},_isDisabledDatepicker:function(e){if(!e)return!1;for(let t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1;},_getInst:function(t){try{return e.data(t,'datepicker');}catch(e){throw'Missing instance data for this datepicker';}},_optionDatepicker:function(t,n,i){let a,r,o,l,c=this._getInst(t);if(2===arguments.length&&'string'==typeof n)return'defaults'===n?e.extend({},e.datepicker._defaults):c?'all'===n?e.extend({},c.settings):this._get(c,n):null;a=n||{},'string'==typeof n&&(a={},a[n]=i),c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(c,'min'),l=this._getMinMaxDate(c,'max'),s(c.settings,a),null!==o&&void 0!==a.dateFormat&&void 0===a.minDate&&(c.settings.minDate=this._formatDate(c,o)),null!==l&&void 0!==a.dateFormat&&void 0===a.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),'disabled'in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c));},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n);},_refreshDatepicker:function(e){let t=this._getInst(e);t&&this._updateDatepicker(t);},_setDateDatepicker:function(e,t){let n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n));},_getDateDatepicker:function(e,t){let n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null;},_doKeyDown:function(t){let n,i,a,s=e.datepicker._getInst(t.target),r=!0,o=s.dpDiv.is('.ui-datepicker-rtl');if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return a=e('td.'+e.datepicker._dayOverClass+':not(.'+e.datepicker._currentClass+')',s.dpDiv),a[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,a[0]),n=e.datepicker._get(s,'onSelect'),n?(i=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[i,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,'stepBigMonths'):-e.datepicker._get(s,'stepMonths'),'M');break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,'stepBigMonths'):+e.datepicker._get(s,'stepMonths'),'M');break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,'D'),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,'stepBigMonths'):-e.datepicker._get(s,'stepMonths'),'M');break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,'D'),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,'D'),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,'stepBigMonths'):+e.datepicker._get(s,'stepMonths'),'M');break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,'D'),r=t.ctrlKey||t.metaKey;break;default:r=!1;}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation());},_doKeyPress:function(t){let n,i,a=e.datepicker._getInst(t.target);if(e.datepicker._get(a,'constrainInput'))return n=e.datepicker._possibleChars(e.datepicker._get(a,'dateFormat')),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<' '||!n||n.indexOf(i)>-1;},_doKeyUp:function(t){let n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,'dateFormat'),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i));}catch(e){}return!0;},_showDatepicker:function(n){if(n=n.target||n,'input'!==n.nodeName.toLowerCase()&&(n=e('input',n.parentNode)[0]),!e.datepicker._isDisabledDatepicker(n)&&e.datepicker._lastInput!==n){let i,a,r,o,l,c,u;i=e.datepicker._getInst(n),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,'beforeShow'),r=a?a.apply(n,[n,i]):{},!1!==r&&(s(i.settings,r),i.lastVal=null,e.datepicker._lastInput=n,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(n.value=''),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(n),e.datepicker._pos[1]+=n.offsetHeight),o=!1,e(n).parents().each(function(){return!(o|='fixed'===e(this).css('position'));}),l={ left:e.datepicker._pos[0],top:e.datepicker._pos[1] },e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({ position:'absolute',display:'block',top:'-1000px' }),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,o),i.dpDiv.css({ position:e.datepicker._inDialog&&e.blockUI?'static':o?'fixed':'absolute',display:'none',left:l.left+'px',top:l.top+'px' }),i.inline||(c=e.datepicker._get(i,'showAnim'),u=e.datepicker._get(i,'duration'),i.dpDiv.css('z-index',t(e(n))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,'showOptions'),u):i.dpDiv[c||'show'](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger('focus'),e.datepicker._curInst=i));}},_updateDatepicker:function(t){this.maxRows=4,r=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);let n,i=this._getNumberOfMonths(t),s=i[1],o=t.dpDiv.find('.'+this._dayOverClass+' a');o.length>0&&a.apply(o.get(0)),t.dpDiv.removeClass('ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4').width(''),s>1&&t.dpDiv.addClass('ui-datepicker-multi-'+s).css('width',17*s+'em'),t.dpDiv[(1!==i[0]||1!==i[1]?'add':'remove')+'Class']('ui-datepicker-multi'),t.dpDiv[(this._get(t,'isRTL')?'add':'remove')+'Class']('ui-datepicker-rtl'),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger('focus'),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find('select.ui-datepicker-year:first').replaceWith(t.yearshtml),n=t.yearshtml=null;},0));},_shouldFocusInput:function(e){return e.input&&e.input.is(':visible')&&!e.input.is(':disabled')&&!e.input.is(':focus');},_checkOffset:function(t,n,i){let a=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,'isRTL')?a-r:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+o?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+a>l&&l>a?Math.abs(n.left+a-l):0),n.top-=Math.min(n.top,n.top+s>c&&c>s?Math.abs(s+o):0),n;},_findPos:function(t){for(var n,i=this._getInst(t),a=this._get(i,'isRTL');t&&('hidden'===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?'previousSibling':'nextSibling'];return n=e(t).offset(),[n.left,n.top];},_hideDatepicker:function(t){let n,i,a,s,r=this._curInst;!r||t&&r!==e.data(t,'datepicker')||this._datepickerShowing&&(n=this._get(r,'showAnim'),i=this._get(r,'duration'),a=function(){e.datepicker._tidyDialog(r);},e.effects&&(e.effects.effect[n]||e.effects[n])?r.dpDiv.hide(n,e.datepicker._get(r,'showOptions'),i,a):r.dpDiv['slideDown'===n?'slideUp':'fadeIn'===n?'fadeOut':'hide'](n?i:null,a),n||a(),this._datepickerShowing=!1,s=this._get(r,'onClose'),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():'',r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({ position:'absolute',left:'0',top:'-100px' }),e.blockUI&&(e.unblockUI(),e('body').append(this.dpDiv))),this._inDialog=!1);},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off('.ui-datepicker-calendar');},_checkExternalClick:function(t){if(e.datepicker._curInst){let n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents('#'+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest('.'+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker();}},_adjustDate:function(t,n,i){let a=e(t),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,n+('M'===i?this._get(s,'showCurrentAtPos'):0),i),this._updateDatepicker(s));},_gotoToday:function(t){let n,i=e(t),a=this._getInst(i[0]);this._get(a,'gotoCurrent')&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(n=new Date,a.selectedDay=n.getDate(),a.drawMonth=a.selectedMonth=n.getMonth(),a.drawYear=a.selectedYear=n.getFullYear()),this._notifyChange(a),this._adjustDate(i);},_selectMonthYear:function(t,n,i){let a=e(t),s=this._getInst(a[0]);s['selected'+('M'===i?'Month':'Year')]=s['draw'+('M'===i?'Month':'Year')]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a);},_selectDay:function(t,n,i,a){let s,r=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=e('a',a).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)));},_clearDate:function(t){let n=e(t);this._selectDate(n,'');},_selectDate:function(t,n){let i,a=e(t),s=this._getInst(a[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),i=this._get(s,'onSelect'),i?i.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger('change'),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],'object'!=typeof s.input[0]&&s.input.trigger('focus'),this._lastInput=null);},_updateAlternate:function(t){let n,i,a,s=this._get(t,'altField');s&&(n=this._get(t,'altFormat')||this._get(t,'dateFormat'),i=this._getDate(t),a=this.formatDate(n,i,this._getFormatConfig(t)),e(s).val(a));},noWeekends:function(e){let t=e.getDay();return[t>0&&t<6,''];},iso8601Week:function(e){let t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1;},parseDate:function(t,n,i){if(null==t||null==n)throw'Invalid arguments';if(''===(n='object'==typeof n?n.toString():n+''))return null;let a,s,r,o,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u='string'!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,y=-1,g=-1,v=-1,w=!1,_=function(e){let n=a+1<t.length&&t.charAt(a+1)===e;return n&&a++,n;},b=function(e){let t=_(e),i='@'===e?14:'!'===e?20:'y'===e&&t?4:'o'===e?3:2,a='y'===e?i:1,s=new RegExp('^\\d{'+a+','+i+'}'),r=n.substring(l).match(s);if(!r)throw'Missing number at position '+l;return l+=r[0].length,parseInt(r[0],10);},C=function(t,i,a){let s=-1,r=e.map(_(t)?a:i,function(e,t){return[[t,e]];}).sort(function(e,t){return-(e[1].length-t[1].length);});if(e.each(r,function(e,t){let i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return s=t[0],l+=i.length,!1;}),-1!==s)return s+1;throw'Unknown name at position '+l;},S=function(){if(n.charAt(l)!==t.charAt(a))throw'Unexpected literal at position '+l;l++;};for(a=0;a<t.length;a++)if(w)'\''!==t.charAt(a)||_('\'')?S():w=!1;else switch(t.charAt(a)){case'd':g=b('d');break;case'D':C('D',d,p);break;case'o':v=b('o');break;case'm':y=b('m');break;case'M':y=C('M',h,f);break;case'y':m=b('y');break;case'@':o=new Date(b('@')),m=o.getFullYear(),y=o.getMonth()+1,g=o.getDate();break;case'!':o=new Date((b('!')-this._ticksTo1970)/1e4),m=o.getFullYear(),y=o.getMonth()+1,g=o.getDate();break;case'\'':_('\'')?S():w=!0;break;default:S();}if(l<n.length&&(r=n.substr(l),!/^\s+/.test(r)))throw'Extra/unparsed characters found in date: '+r;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),v>-1)for(y=1,g=v;;){if(s=this._getDaysInMonth(m,y-1),g<=s)break;y++,g-=s;}if(o=this._daylightSavingAdjust(new Date(m,y-1,g)),o.getFullYear()!==m||o.getMonth()+1!==y||o.getDate()!==g)throw'Invalid date';return o;},ATOM:'yy-mm-dd',COOKIE:'D, dd M yy',ISO_8601:'yy-mm-dd',RFC_822:'D, d M y',RFC_850:'DD, dd-M-y',RFC_1036:'D, d M y',RFC_1123:'D, d M yy',RFC_2822:'D, d M yy',RSS:'D, d M y',TICKS:'!',TIMESTAMP:'@',W3C:'yy-mm-dd',_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return'';let i,a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){let n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n;},c=function(e,t,n){let i=''+t;if(l(e))for(;i.length<n;)i='0'+i;return i;},u=function(e,t,n,i){return l(e)?i[t]:n[t];},d='',p=!1;if(t)for(i=0;i<e.length;i++)if(p)'\''!==e.charAt(i)||l('\'')?d+=e.charAt(i):p=!1;else switch(e.charAt(i)){case'd':d+=c('d',t.getDate(),2);break;case'D':d+=u('D',t.getDay(),a,s);break;case'o':d+=c('o',Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case'm':d+=c('m',t.getMonth()+1,2);break;case'M':d+=u('M',t.getMonth(),r,o);break;case'y':d+=l('y')?t.getFullYear():(t.getFullYear()%100<10?'0':'')+t.getFullYear()%100;break;case'@':d+=t.getTime();break;case'!':d+=1e4*t.getTime()+this._ticksTo1970;break;case'\'':l('\'')?d+='\'':p=!0;break;default:d+=e.charAt(i);}return d;},_possibleChars:function(e){let t,n='',i=!1,a=function(n){let i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i;};for(t=0;t<e.length;t++)if(i)'\''!==e.charAt(t)||a('\'')?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case'd':case'm':case'y':case'@':n+='0123456789';break;case'D':case'M':return null;case'\'':a('\'')?n+='\'':i=!0;break;default:n+=e.charAt(t);}return n;},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t];},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){let n=this._get(e,'dateFormat'),i=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),s=a,r=this._getFormatConfig(e);try{s=this.parseDate(n,i,r)||a;}catch(e){i=t?'':i;}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=i?s.getDate():0,e.currentMonth=i?s.getMonth():0,e.currentYear=i?s.getFullYear():0,this._adjustInstDate(e);}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,'defaultDate'),new Date));},_determineDate:function(t,n,i){let a=null==n||''===n?i:'string'==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,'dateFormat'),n,e.datepicker._getFormatConfig(t));}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=i.getFullYear(),s=i.getMonth(),r=i.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(n);l;){switch(l[2]||'d'){case'd':case'D':r+=parseInt(l[1],10);break;case'w':case'W':r+=7*parseInt(l[1],10);break;case'm':case'M':s+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,s));break;case'y':case'Y':a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,s));}l=o.exec(n);}return new Date(a,s,r);}(n):'number'==typeof n?isNaN(n)?i:function(e){let t=new Date;return t.setDate(t.getDate()+e),t;}(n):new Date(n.getTime());return a=a&&'Invalid Date'===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a);},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null;},_setDate:function(e,t,n){let i=!t,a=e.selectedMonth,s=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),a===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?'':this._formatDate(e));},_getDate:function(e){return!e.currentYear||e.input&&''===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));},_attachHandlers:function(t){let n=this._get(t,'stepMonths'),i='#'+t.id.replace(/\\\\/g,'\\');t.dpDiv.find('[data-handler]').map(function(){let t={ prev:function(){e.datepicker._adjustDate(i,-n,'M');},next:function(){e.datepicker._adjustDate(i,+n,'M');},hide:function(){e.datepicker._hideDatepicker();},today:function(){e.datepicker._gotoToday(i);},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute('data-month'),+this.getAttribute('data-year'),this),!1;},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,'M'),!1;},selectYear:function(){return e.datepicker._selectMonthYear(i,this,'Y'),!1;} };e(this).on(this.getAttribute('data-event'),t[this.getAttribute('data-handler')]);});},_generateHTML:function(e){let t,n,i,a,s,r,o,l,c,u,d,p,h,f,m,y,g,v,w,_,b,C,S,k,T,M,x,E,L,D,P,O,R,I,A,B,N,H,W,F=new Date,j=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),G=this._get(e,'isRTL'),U=this._get(e,'showButtonPanel'),K=this._get(e,'hideIfNoPrevNext'),V=this._get(e,'navigationAsDateFormat'),z=this._getNumberOfMonths(e),Y=this._get(e,'showCurrentAtPos'),$=this._get(e,'stepMonths'),q=1!==z[0]||1!==z[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,'min'),X=this._getMinMaxDate(e,'max'),Q=e.drawMonth-Y,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-z[0]*z[1]+1,X.getDate())),t=J&&t<J?J:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,'prevText'),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-$,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Q)?'<a class=\'ui-datepicker-prev ui-corner-all\' data-handler=\'prev\' data-event=\'click\' title=\''+n+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(G?'e':'w')+'\'>'+n+'</span></a>':K?'':'<a class=\'ui-datepicker-prev ui-corner-all ui-state-disabled\' title=\''+n+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(G?'e':'w')+'\'>'+n+'</span></a>',a=this._get(e,'nextText'),a=V?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Q+$,1)),this._getFormatConfig(e)):a,s=this._canAdjustMonth(e,1,ee,Q)?'<a class=\'ui-datepicker-next ui-corner-all\' data-handler=\'next\' data-event=\'click\' title=\''+a+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(G?'w':'e')+'\'>'+a+'</span></a>':K?'':'<a class=\'ui-datepicker-next ui-corner-all ui-state-disabled\' title=\''+a+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(G?'w':'e')+'\'>'+a+'</span></a>',r=this._get(e,'currentText'),o=this._get(e,'gotoCurrent')&&e.currentDay?Z:j,r=V?this.formatDate(r,o,this._getFormatConfig(e)):r,l=e.inline?'':'<button type=\'button\' class=\'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\' data-handler=\'hide\' data-event=\'click\'>'+this._get(e,'closeText')+'</button>',c=U?'<div class=\'ui-datepicker-buttonpane ui-widget-content\'>'+(G?l:'')+(this._isInRange(e,o)?'<button type=\'button\' class=\'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\' data-handler=\'today\' data-event=\'click\'>'+r+'</button>':'')+(G?'':l)+'</div>':'',u=parseInt(this._get(e,'firstDay'),10),u=isNaN(u)?0:u,d=this._get(e,'showWeek'),p=this._get(e,'dayNames'),h=this._get(e,'dayNamesMin'),f=this._get(e,'monthNames'),m=this._get(e,'monthNamesShort'),y=this._get(e,'beforeShowDay'),g=this._get(e,'showOtherMonths'),v=this._get(e,'selectOtherMonths'),w=this._getDefaultDate(e),_='',C=0;C<z[0];C++){for(S='',this.maxRows=4,k=0;k<z[1];k++){if(T=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),M=' ui-corner-all',x='',q){if(x+='<div class=\'ui-datepicker-group',z[1]>1)switch(k){case 0:x+=' ui-datepicker-group-first',M=' ui-corner-'+(G?'right':'left');break;case z[1]-1:x+=' ui-datepicker-group-last',M=' ui-corner-'+(G?'left':'right');break;default:x+=' ui-datepicker-group-middle',M='';}x+='\'>';}for(x+='<div class=\'ui-datepicker-header ui-widget-header ui-helper-clearfix'+M+'\'>'+(/all|left/.test(M)&&0===C?G?s:i:'')+(/all|right/.test(M)&&0===C?G?i:s:'')+this._generateMonthYearHeader(e,Q,ee,J,X,C>0||k>0,f,m)+'</div><table class=\'ui-datepicker-calendar\'><thead><tr>',E=d?'<th class=\'ui-datepicker-week-col\'>'+this._get(e,'weekHeader')+'</th>':'',b=0;b<7;b++)L=(b+u)%7,E+='<th scope=\'col\''+((b+u+6)%7>=5?' class=\'ui-datepicker-week-end\'':'')+'><span title=\''+p[L]+'\'>'+h[L]+'</span></th>';for(x+=E+'</tr></thead><tbody>',D=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),P=(this._getFirstDayOfMonth(ee,Q)-u+7)%7,O=Math.ceil((P+D)/7),R=q&&this.maxRows>O?this.maxRows:O,this.maxRows=R,I=this._daylightSavingAdjust(new Date(ee,Q,1-P)),A=0;A<R;A++){for(x+='<tr>',B=d?'<td class=\'ui-datepicker-week-col\'>'+this._get(e,'calculateWeek')(I)+'</td>':'',b=0;b<7;b++)N=y?y.apply(e.input?e.input[0]:null,[I]):[!0,''],H=I.getMonth()!==Q,W=H&&!v||!N[0]||J&&I<J||X&&I>X,B+='<td class=\''+((b+u+6)%7>=5?' ui-datepicker-week-end':'')+(H?' ui-datepicker-other-month':'')+(I.getTime()===T.getTime()&&Q===e.selectedMonth&&e._keyEvent||w.getTime()===I.getTime()&&w.getTime()===T.getTime()?' '+this._dayOverClass:'')+(W?' '+this._unselectableClass+' ui-state-disabled':'')+(H&&!g?'':' '+N[1]+(I.getTime()===Z.getTime()?' '+this._currentClass:'')+(I.getTime()===j.getTime()?' ui-datepicker-today':''))+'\''+(H&&!g||!N[2]?'':' title=\''+N[2].replace(/'/g,'&#39;')+'\'')+(W?'':' data-handler=\'selectDay\' data-event=\'click\' data-month=\''+I.getMonth()+'\' data-year=\''+I.getFullYear()+'\'')+'>'+(H&&!g?'&#xa0;':W?'<span class=\'ui-state-default\'>'+I.getDate()+'</span>':'<a class=\'ui-state-default'+(I.getTime()===j.getTime()?' ui-state-highlight':'')+(I.getTime()===Z.getTime()?' ui-state-active':'')+(H?' ui-priority-secondary':'')+'\' href=\'#\'>'+I.getDate()+'</a>')+'</td>',I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);x+=B+'</tr>';}Q++,Q>11&&(Q=0,ee++),x+='</tbody></table>'+(q?'</div>'+(z[0]>0&&k===z[1]-1?'<div class=\'ui-datepicker-row-break\'></div>':''):''),S+=x;}_+=S;}return _+=c,e._keyEvent=!1,_;},_generateMonthYearHeader:function(e,t,n,i,a,s,r,o){let l,c,u,d,p,h,f,m,y=this._get(e,'changeMonth'),g=this._get(e,'changeYear'),v=this._get(e,'showMonthAfterYear'),w='<div class=\'ui-datepicker-title\'>',_='';if(s||!y)_+='<span class=\'ui-datepicker-month\'>'+r[t]+'</span>';else{for(l=i&&i.getFullYear()===n,c=a&&a.getFullYear()===n,_+='<select class=\'ui-datepicker-month\' data-handler=\'selectMonth\' data-event=\'change\'>',u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=a.getMonth())&&(_+='<option value=\''+u+'\''+(u===t?' selected=\'selected\'':'')+'>'+o[u]+'</option>');_+='</select>';}if(v||(w+=_+(!s&&y&&g?'':'&#xa0;')),!e.yearshtml)if(e.yearshtml='',s||!g)w+='<span class=\'ui-datepicker-year\'>'+n+'</span>';else{for(d=this._get(e,'yearRange').split(':'),p=(new Date).getFullYear(),h=function(e){let t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t;},f=h(d[0]),m=Math.max(f,h(d[1]||'')),f=i?Math.max(f,i.getFullYear()):f,m=a?Math.min(m,a.getFullYear()):m,e.yearshtml+='<select class=\'ui-datepicker-year\' data-handler=\'selectYear\' data-event=\'change\'>';f<=m;f++)e.yearshtml+='<option value=\''+f+'\''+(f===n?' selected=\'selected\'':'')+'>'+f+'</option>';e.yearshtml+='</select>',w+=e.yearshtml,e.yearshtml=null;}return w+=this._get(e,'yearSuffix'),v&&(w+=(!s&&y&&g?'':'&#xa0;')+_),w+='</div>';},_adjustInstDate:function(e,t,n){let i=e.selectedYear+('Y'===n?t:0),a=e.selectedMonth+('M'===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(i,a))+('D'===n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,a,s)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),'M'!==n&&'Y'!==n||this._notifyChange(e);},_restrictMinMax:function(e,t){let n=this._getMinMaxDate(e,'min'),i=this._getMinMaxDate(e,'max'),a=n&&t<n?n:t;return i&&a>i?i:a;},_notifyChange:function(e){let t=this._get(e,'onChangeMonthYear');t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e]);},_getNumberOfMonths:function(e){let t=this._get(e,'numberOfMonths');return null==t?[1,1]:'number'==typeof t?[1,t]:t;},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+'Date'),null);},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate();},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay();},_canAdjustMonth:function(e,t,n,i){let a=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,i+(t<0?t:a[0]*a[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s);},_isInRange:function(e,t){let n,i,a=this._getMinMaxDate(e,'min'),s=this._getMinMaxDate(e,'max'),r=null,o=null,l=this._get(e,'yearRange');return l&&(n=l.split(':'),i=(new Date).getFullYear(),r=parseInt(n[0],10),o=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(o+=i)),(!a||t.getTime()>=a.getTime())&&(!s||t.getTime()<=s.getTime())&&(!r||t.getFullYear()>=r)&&(!o||t.getFullYear()<=o);},_getFormatConfig:function(e){let t=this._get(e,'shortYearCutoff');return t='string'!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{ shortYearCutoff:t,dayNamesShort:this._get(e,'dayNamesShort'),dayNames:this._get(e,'dayNames'),monthNamesShort:this._get(e,'monthNamesShort'),monthNames:this._get(e,'monthNames') };},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);let a=t?'object'==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,'dateFormat'),a,this._getFormatConfig(e));} }),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on('mousedown',e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e('#'+e.datepicker._mainDivId).length&&e('body').append(e.datepicker.dpDiv);let n=Array.prototype.slice.call(arguments,1);return'string'!=typeof t||'isDisabled'!==t&&'getDate'!==t&&'widget'!==t?'option'===t&&2===arguments.length&&'string'==typeof arguments[1]?e.datepicker['_'+t+'Datepicker'].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){'string'==typeof t?e.datepicker['_'+t+'Datepicker'].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t);}):e.datepicker['_'+t+'Datepicker'].apply(e.datepicker,[this[0]].concat(n));},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version='1.12.1',e.datepicker;});},function(e,t,n){let i,a,s;/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(r){a=[n(1),n(15),n(40),n(41),n(42),n(7),n(16)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s);}(function(e){return e.widget('ui.menu',{ version:'1.12.1',defaultElement:'<ul>',delay:300,options:{ icons:{ submenu:'ui-icon-caret-1-e' },items:'> *',menus:'ul',position:{ my:'left top',at:'right top' },role:'menu',blur:null,focus:null,select:null },_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({ role:this.options.role,tabIndex:0 }),this._addClass('ui-menu','ui-widget ui-widget-content'),this._on({ 'mousedown .ui-menu-item':function(e){e.preventDefault();},'click .ui-menu-item':function(t){let n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not('.ui-state-disabled').length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has('.ui-menu').length?this.expand(t):!this.element.is(':focus')&&i.closest('.ui-menu').length&&(this.element.trigger('focus',[!0]),this.active&&1===this.active.parents('.ui-menu').length&&clearTimeout(this.timer)));},'mouseenter .ui-menu-item':function(t){if(!this.previousFilter){let n=e(t.target).closest('.ui-menu-item'),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children('.ui-state-active'),null,'ui-state-active'),this.focus(t,i));}},mouseleave:'collapseAll','mouseleave .ui-menu':'collapseAll',focus:function(e,t){let n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n);},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t);});},keydown:'_keydown' }),this.refresh(),this._on(this.document,{ click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1;} });},_destroy:function(){let t=this.element.find('.ui-menu-item').removeAttr('role aria-disabled'),n=t.children('.ui-menu-item-wrapper').removeUniqueId().removeAttr('tabIndex role aria-haspopup');this.element.removeAttr('aria-activedescendant').find('.ui-menu').addBack().removeAttr('role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex').removeUniqueId().show(),n.children().each(function(){let t=e(this);t.data('ui-menu-submenu-caret')&&t.remove();});},_keydown:function(t){let n,i,a,s,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move('first','first',t);break;case e.ui.keyCode.END:this._move('last','last',t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is('.ui-state-disabled')&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,i=this.previousFilter||'',s=!1,a=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),a===i?s=!0:a=i+a,n=this._filterMenuItems(a),n=s&&-1!==n.index(this.active.next())?this.active.nextAll('.ui-menu-item'):n,n.length||(a=String.fromCharCode(t.keyCode),n=this._filterMenuItems(a)),n.length?(this.focus(t,n),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter;},1e3)):delete this.previousFilter;}r&&t.preventDefault();},_activate:function(e){this.active&&!this.active.is('.ui-state-disabled')&&(this.active.children('[aria-haspopup=\'true\']').length?this.expand(e):this.select(e));},refresh:function(){let t,n,i,a,s,r=this,o=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass('ui-menu-icons',null,!!this.element.find('.ui-icon').length),i=l.filter(':not(.ui-menu)').hide().attr({ role:this.options.role,'aria-hidden':'true','aria-expanded':'false' }).each(function(){let t=e(this),n=t.prev(),i=e('<span>').data('ui-menu-submenu-caret',!0);r._addClass(i,'ui-menu-icon','ui-icon '+o),n.attr('aria-haspopup','true').prepend(i),t.attr('aria-labelledby',n.attr('id'));}),this._addClass(i,'ui-menu','ui-widget ui-widget-content ui-front'),t=l.add(this.element),n=t.find(this.options.items),n.not('.ui-menu-item').each(function(){let t=e(this);r._isDivider(t)&&r._addClass(t,'ui-menu-divider','ui-widget-content');}),a=n.not('.ui-menu-item, .ui-menu-divider'),s=a.children().not('.ui-menu').uniqueId().attr({ tabIndex:-1,role:this._itemRole() }),this._addClass(a,'ui-menu-item')._addClass(s,'ui-menu-item-wrapper'),n.filter('.ui-state-disabled').attr('aria-disabled','true'),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur();},_itemRole:function(){return{ menu:'menuitem',listbox:'option' }[this.options.role];},_setOption:function(e,t){if('icons'===e){let n=this.element.find('.ui-menu-icon');this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu);}this._super(e,t);},_setOptionDisabled:function(e){this._super(e),this.element.attr('aria-disabled',String(e)),this._toggleClass(null,'ui-state-disabled',!!e);},focus:function(e,t){let n,i,a;this.blur(e,e&&'focus'===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children('.ui-menu-item-wrapper'),this._addClass(i,null,'ui-state-active'),this.options.role&&this.element.attr('aria-activedescendant',i.attr('id')),a=this.active.parent().closest('.ui-menu-item').children('.ui-menu-item-wrapper'),this._addClass(a,null,'ui-state-active'),e&&'keydown'===e.type?this._close():this.timer=this._delay(function(){this._close();},this.delay),n=t.children('.ui-menu'),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger('focus',e,{ item:t });},_scrollIntoView:function(t){let n,i,a,s,r,o;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],'borderTopWidth'))||0,i=parseFloat(e.css(this.activeMenu[0],'paddingTop'))||0,a=t.offset().top-this.activeMenu.offset().top-n-i,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),o=t.outerHeight(),a<0?this.activeMenu.scrollTop(s+a):a+o>r&&this.activeMenu.scrollTop(s+a-r+o));},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children('.ui-menu-item-wrapper'),null,'ui-state-active'),this._trigger('blur',e,{ item:this.active }),this.active=null);},_startOpening:function(e){clearTimeout(this.timer),'true'===e.attr('aria-hidden')&&(this.timer=this._delay(function(){this._close(),this._open(e);},this.delay));},_open:function(t){let n=e.extend({ of:this.active },this.options.position);clearTimeout(this.timer),this.element.find('.ui-menu').not(t.parents('.ui-menu')).hide().attr('aria-hidden','true'),t.show().removeAttr('aria-hidden').attr('aria-expanded','true').position(n);},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){let i=n?this.element:e(t&&t.target).closest(this.element.find('.ui-menu'));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find('.ui-state-active'),null,'ui-state-active'),this.activeMenu=i;},this.delay);},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find('.ui-menu').hide().attr('aria-hidden','true').attr('aria-expanded','false');},_closeOnDocumentClick:function(t){return!e(t.target).closest('.ui-menu').length;},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text());},collapse:function(e){let t=this.active&&this.active.parent().closest('.ui-menu-item',this.element);t&&t.length&&(this._close(),this.focus(e,t));},expand:function(e){let t=this.active&&this.active.children('.ui-menu ').find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t);}));},next:function(e){this._move('next','first',e);},previous:function(e){this._move('prev','last',e);},isFirstItem:function(){return this.active&&!this.active.prevAll('.ui-menu-item').length;},isLastItem:function(){return this.active&&!this.active.nextAll('.ui-menu-item').length;},_move:function(e,t,n){let i;this.active&&(i='first'===e||'last'===e?this.active['first'===e?'prevAll':'nextAll']('.ui-menu-item').eq(-1):this.active[e+'All']('.ui-menu-item').eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i);},nextPage:function(t){let n,i,a;if(!this.active)return void this.next(t);this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.nextAll('.ui-menu-item').each(function(){return n=e(this),n.offset().top-i-a<0;}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?'last':'first']()));},previousPage:function(t){let n,i,a;if(!this.active)return void this.next(t);this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.prevAll('.ui-menu-item').each(function(){return n=e(this),n.offset().top-i+a>0;}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()));},_hasScroll:function(){return this.element.outerHeight()<this.element.prop('scrollHeight');},select:function(t){this.active=this.active||e(t.target).closest('.ui-menu-item');let n={ item:this.active };this.active.has('.ui-menu').length||this.collapseAll(t,!0),this._trigger('select',t,n);},_filterMenuItems:function(t){let n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&'),i=new RegExp('^'+n,'i');return this.activeMenu.find(this.options.items).filter('.ui-menu-item').filter(function(){return i.test(e.trim(e(this).children('.ui-menu-item-wrapper').text()));});} });});},function(e,t,n){(function(e){!function(t){function n(e,t){if('object'!==a(e))return t;for(let i in t)'object'===a(e[i])&&'object'===a(t[i])?e[i]=n(e[i],t[i]):e[i]=t[i];return e;}function i(e,t,i){let r=i[0],o=i.length;(e||'object'!==a(r))&&(r={});for(let l=0;l<o;++l){let c=i[l];if('object'===a(c))for(let u in c){let d=e?s.clone(c[u]):c[u];r[u]=t?n(r[u],d):d;}}return r;}function a(e){return{}.toString.call(e).slice(8,-1).toLowerCase();}var s=function(e){return i(!0===e,!1,arguments);};s.recursive=function(e){return i(!0===e,!0,arguments);},s.clone=function(e){let t,n,i=e,r=a(e);if('array'===r)for(i=[],n=e.length,t=0;t<n;++t)i[t]=s.clone(e[t]);else if('object'===r){i={};for(t in e)i[t]=s.clone(e[t]);}return i;},t?e.exports=s:window.merge=s;}('object'==typeof e&&e&&'object'==typeof e.exports&&e.exports);}).call(t,n(47)(e));},function(e,t,n){'use strict';function i(e){let t={};return l(e,function(e,n){l(e,function(e){t[e]=n;});}),t;}function a(e){let t=i(g);return t[e]||t[f.call(e,/-/,1)[0]]||t.en;}function s(e,t){return y[a(e)](t);}function r(e,t,n){if('string'!=typeof e)throw new TypeError('Polyglot.transformPhrase expects argument #1 to be string');if(null==t)return e;let i=e,a='number'==typeof t?{ smart_count:t }:t;if(null!=a.smart_count&&i){let r=f.call(i,m);i=d(r[s(n||'en',a.smart_count)]||r[0]);}return i=h.call(i,_,function(e,t){return u(a,t)&&null!=a[t]?h.call(a[t],v,w):e;});}function o(e){let t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||'en';let n=t.allowMissing?r:null;this.onMissingKey='function'==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||p;}var l=n(186),c=n(223),u=n(38),d=n(219),p=function(e){c(!1,e);},h=String.prototype.replace,f=String.prototype.split,m='||||',y={ arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5;},chinese:function(){return 0;},german:function(e){return 1!==e?1:0;},french:function(e){return e>1?1:0;},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2;},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;},icelandic:function(e){return e%10!=1||e%100==11?1:0;} },g={ arabic:['ar'],chinese:['fa','id','ja','ko','lo','ms','th','tr','zh'],german:['da','de','en','es','fi','el','he','hu','it','nl','no','pt','sv'],french:['fr','tl','pt-br'],russian:['hr','ru','lt'],czech:['cs','sk'],polish:['pl'],icelandic:['is'] },v=/\$/g,w='$$',_=/%\{(.*?)\}/g;o.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale;},o.prototype.extend=function(e,t){l(e,function(e,n){let i=t?t+'.'+n:n;'object'==typeof e?this.extend(e,i):this.phrases[i]=e;},this);},o.prototype.unset=function(e,t){'string'==typeof e?delete this.phrases[e]:l(e,function(e,n){let i=t?t+'.'+n:n;'object'==typeof e?this.unset(e,i):delete this.phrases[i];},this);},o.prototype.clear=function(){this.phrases={};},o.prototype.replace=function(e){this.clear(),this.extend(e);},o.prototype.t=function(e,t){let n,i,a=null==t?{}:t;if('string'==typeof this.phrases[e])n=this.phrases[e];else if('string'==typeof a._)n=a._;else if(this.onMissingKey){let s=this.onMissingKey;i=s(e,a,this.currentLocale);}else this.warn('Missing translation for key: "'+e+'"'),i=e;return'string'==typeof n&&(i=r(n,a,this.currentLocale)),i;},o.prototype.has=function(e){return u(this.phrases,e);},o.transformPhrase=r,e.exports=o;},function(e,t,n){'use strict';let i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Array.prototype.slice,r=n(214),o=Object.prototype.propertyIsEnumerable,l=!o.call({ toString:null },'toString'),c=o.call(function(){},'prototype'),u=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],d=function(e){let t=e.constructor;return t&&t.prototype===e;},p={ $console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0 },h=function(){if('undefined'==typeof window)return!1;for(let e in window)try{if(!p['$'+e]&&i.call(window,e)&&null!==window[e]&&'object'==typeof window[e])try{d(window[e]);}catch(e){return!0;}}catch(e){return!0;}return!1;}(),f=function(e){if('undefined'==typeof window||!h)return d(e);try{return d(e);}catch(e){return!1;}},m=function(e){let t=null!==e&&'object'==typeof e,n='[object Function]'===a.call(e),s=r(e),o=t&&'[object String]'===a.call(e),d=[];if(!t&&!n&&!s)throw new TypeError('Object.keys called on a non-object');let p=c&&n;if(o&&e.length>0&&!i.call(e,0))for(let h=0;h<e.length;++h)d.push(String(h));if(s&&e.length>0)for(let m=0;m<e.length;++m)d.push(String(m));else for(let y in e)p&&'prototype'===y||!i.call(e,y)||d.push(String(y));if(l)for(let g=f(e),v=0;v<u.length;++v)g&&'constructor'===u[v]||!i.call(e,u[v])||d.push(u[v]);return d;};m.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||'').length;}(1,2)){let e=Object.keys;Object.keys=function(t){return e(r(t)?s.call(t):t);};}}else Object.keys=m;return Object.keys||m;},e.exports=m;},function(e,t,n){'use strict';let i=Object.prototype.toString;e.exports=function(e){let t=i.call(e),n='[object Arguments]'===t;return n||(n='[object Array]'!==t&&null!==e&&'object'==typeof e&&'number'==typeof e.length&&e.length>=0&&'[object Function]'===i.call(e.callee)),n;};},function(e,t){function n(){throw new Error('setTimeout has not been defined');}function i(){throw new Error('clearTimeout has not been defined');}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0);}catch(t){try{return u.call(null,e,0);}catch(t){return u.call(this,e,0);}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e);}catch(t){try{return d.call(null,e);}catch(t){return d.call(this,e);}}}function r(){m&&h&&(m=!1,h.length?f=h.concat(f):y=-1,f.length&&o());}function o(){if(!m){let e=a(r);m=!0;for(let t=f.length;t;){for(h=f,f=[];++y<t;)h&&h[y].run();y=-1,t=f.length;}h=null,m=!1,s(e);}}function l(e,t){this.fun=e,this.array=t;}function c(){}let u,d,p=e.exports={};!function(){try{u='function'==typeof setTimeout?setTimeout:n;}catch(e){u=n;}try{d='function'==typeof clearTimeout?clearTimeout:i;}catch(e){d=i;}}();var h,f=[],m=!1,y=-1;p.nextTick=function(e){let t=new Array(arguments.length-1);if(arguments.length>1)for(let n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||a(o);},l.prototype.run=function(){this.fun.apply(null,this.array);},p.title='browser',p.browser=!0,p.env={},p.argv=[],p.version='',p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[];},p.binding=function(e){throw new Error('process.binding is not supported');},p.cwd=function(){return'/';},p.chdir=function(e){throw new Error('process.chdir is not supported');},p.umask=function(){return 0;};},function(e,t,n){'use strict';function i(e,t,n,i,s){a(e,t,n||0,i||e.length-1,s||r);}function a(e,t,n,i,r){for(;i>n;){if(i-n>600){let o=i-n+1,l=t-n+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1);a(e,t,Math.max(n,Math.floor(t-l*u/o+d)),Math.min(i,Math.floor(t+(o-l)*u/o+d)),r);}let p=e[t],h=n,f=i;for(s(e,n,t),r(e[i],p)>0&&s(e,n,i);h<f;){for(s(e,h,f),h++,f--;r(e[h],p)<0;)h++;for(;r(e[f],p)>0;)f--;}0===r(e[n],p)?s(e,n,f):(f++,s(e,f,i)),f<=t&&(n=f+1),t<=f&&(i=f-1);}}function s(e,t,n){let i=e[t];e[t]=e[n],e[n]=i;}function r(e,t){return e<t?-1:e>t?1:0;}e.exports=i,e.exports.default=i;},function(e,t,n){'use strict';function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear();}function a(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1;}function s(e,t){r(e,0,e.children.length,t,e);}function r(e,t,n,i,a){a||(a=y(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var s,r=t;r<n;r++)s=e.children[r],o(a,e.leaf?i(s):s);return a;}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e;}function l(e,t){return e.minX-t.minX;}function c(e,t){return e.minY-t.minY;}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY);}function d(e){return e.maxX-e.minX+(e.maxY-e.minY);}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY));}function h(e,t){let n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,s-i);}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY;}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY;}function y(e){return{ children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0 };}function g(e,t,n,i,a){for(var s,r=[t,n];r.length;)n=r.pop(),t=r.pop(),n-t<=i||(s=t+Math.ceil((n-t)/i/2)*i,v(e,s,t,n,a),r.push(t,s,s,n));}e.exports=i,e.exports.default=i;var v=n(216);i.prototype={ all:function(){return this._all(this.data,[]);},search:function(e){let t=this.data,n=[],i=this.toBBox;if(!m(e,t))return n;for(var a,s,r,o,l=[];t;){for(a=0,s=t.children.length;a<s;a++)r=t.children[a],o=t.leaf?i(r):r,m(e,o)&&(t.leaf?n.push(r):f(e,o)?this._all(r,n):l.push(r));t=l.pop();}return n;},collides:function(e){let t=this.data,n=this.toBBox;if(!m(e,t))return!1;for(var i,a,s,r,o=[];t;){for(i=0,a=t.children.length;i<a;i++)if(s=t.children[i],r=t.leaf?n(s):s,m(e,r)){if(t.leaf||f(e,r))return!0;o.push(s);}t=o.pop();}return!1;},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this;}let i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){let a=this.data;this.data=i,i=a;}this._insert(i,this.data.height-i.height-1,!0);}else this.data=i;return this;},insert:function(e){return e&&this._insert(e,this.data.height-1),this;},clear:function(){return this.data=y([]),this;},remove:function(e,t){if(!e)return this;for(var n,i,s,r,o=this.data,l=this.toBBox(e),c=[],u=[];o||c.length;){if(o||(o=c.pop(),i=c[c.length-1],n=u.pop(),r=!0),o.leaf&&-1!==(s=a(e,o.children,t)))return o.children.splice(s,1),c.push(o),this._condense(c),this;r||o.leaf||!f(o,l)?i?(n++,o=i.children[n],r=!1):o=null:(c.push(o),u.push(n),n=0,i=o,o=o.children[0]);}return this;},toBBox:function(e){return e;},compareMinX:l,compareMinY:c,toJSON:function(){return this.data;},fromJSON:function(e){return this.data=e,this;},_all:function(e,t){for(let n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t;},_build:function(e,t,n,i){let a,r=n-t+1,o=this._maxEntries;if(r<=o)return a=y(e.slice(t,n+1)),s(a,this.toBBox),a;i||(i=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,i-1))),a=y([]),a.leaf=!1,a.height=i;let l,c,u,d,p=Math.ceil(r/o),h=p*Math.ceil(Math.sqrt(o));for(g(e,t,n,h,this.compareMinX),l=t;l<=n;l+=h)for(u=Math.min(l+h-1,n),g(e,l,u,p,this.compareMinY),c=l;c<=u;c+=p)d=Math.min(c+p-1,u),a.children.push(this._build(e,c,d,i-1));return s(a,this.toBBox),a;},_chooseSubtree:function(e,t,n,i){for(var a,s,r,o,l,c,d,h;;){if(i.push(t),t.leaf||i.length-1===n)break;for(d=h=1/0,a=0,s=t.children.length;a<s;a++)r=t.children[a],l=u(r),c=p(e,r)-l,c<h?(h=c,d=l<d?l:d,o=r):c===h&&l<d&&(d=l,o=r);t=o||t.children[0];}return t;},_insert:function(e,t,n){let i=this.toBBox,a=n?e:i(e),s=[],r=this._chooseSubtree(a,this.data,t,s);for(r.children.push(e),o(r,a);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(a,s,t);},_split:function(e,t){let n=e[t],i=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,i);let r=this._chooseSplitIndex(n,a,i),o=y(n.children.splice(r,n.children.length-r));o.height=n.height,o.leaf=n.leaf,s(n,this.toBBox),s(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o);},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,s(this.data,this.toBBox);},_chooseSplitIndex:function(e,t,n){let i,a,s,o,l,c,d,p;for(c=d=1/0,i=t;i<=n-t;i++)a=r(e,0,i,this.toBBox),s=r(e,i,n,this.toBBox),o=h(a,s),l=u(a)+u(s),o<c?(c=o,p=i,d=l<d?l:d):o===c&&l<d&&(d=l,p=i);return p;},_chooseSplitAxis:function(e,t,n){let i=e.leaf?this.compareMinX:l,a=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,a)&&e.children.sort(i);},_allDistMargin:function(e,t,n,i){e.children.sort(i);let a,s,l=this.toBBox,c=r(e,0,t,l),u=r(e,n-t,n,l),p=d(c)+d(u);for(a=t;a<n-t;a++)s=e.children[a],o(c,e.leaf?l(s):s),p+=d(c);for(a=n-t-1;a>=t;a--)s=e.children[a],o(u,e.leaf?l(s):s),p+=d(u);return p;},_adjustParentBBoxes:function(e,t,n){for(let i=n;i>=0;i--)o(t[i],e);},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():s(e[n],this.toBBox);},_initFormat:function(e){let t=['return a',' - b',';'];this.compareMinX=new Function('a','b',t.join(e[0])),this.compareMinY=new Function('a','b',t.join(e[1])),this.toBBox=new Function('a','return {minX: a'+e[0]+', minY: a'+e[1]+', maxX: a'+e[2]+', maxY: a'+e[3]+'};');} };},function(e,t){function n(e){let t;if('SELECT'===e.nodeName)e.focus(),t=e.value;else if('INPUT'===e.nodeName||'TEXTAREA'===e.nodeName){let n=e.hasAttribute('readonly');n||e.setAttribute('readonly',''),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute('readonly'),t=e.value;}else{e.hasAttribute('contenteditable')&&e.focus();let i=window.getSelection(),a=document.createRange();a.selectNodeContents(e),i.removeAllRanges(),i.addRange(a),t=i.toString();}return t;}e.exports=n;},function(e,t,n){'use strict';let i=n(19),a=n(35),s=n(44),r=n(45),o=n(220),l=i.call(Function.call,r());a(l,{ getPolyfill:r,implementation:s,shim:o }),e.exports=l;},function(e,t,n){'use strict';let i=n(35),a=n(45);e.exports=function(){let e=a();return i(String.prototype,{ trim:e },{ trim:function(){return String.prototype.trim!==e;} }),e;};},function(e,t,n){(function(e){let i,a,s;/*!
 * jquery-timepicker v1.11.9 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2016 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */
!function(r){'object'==typeof t&&t&&'object'==typeof e&&e&&e.exports===t?r(n(1)):(a=[n(1)],i=r,void 0!==(s='function'==typeof i?i.apply(t,a):i)&&(e.exports=s));}(function(e){function t(e){let t=e[0];return t.offsetWidth>0&&t.offsetHeight>0;}function n(t){if(t.minTime&&(t.minTime=w(t.minTime)),t.maxTime&&(t.maxTime=w(t.maxTime)),t.durationTime&&'function'!=typeof t.durationTime&&(t.durationTime=w(t.durationTime)),'now'==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(w(new Date),t);};else if(t.scrollDefault&&'function'!=typeof t.scrollDefault){let n=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(w(n),t);};}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t);});if('string'===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),!1===t.showOnFocus&&-1!=t.showOn.indexOf('focus')&&t.showOn.splice(t.showOn.indexOf('focus'),1),t.disableTimeRanges.length>0){for(var i in t.disableTimeRanges)t.disableTimeRanges[i]=[w(t.disableTimeRanges[i][0]),w(t.disableTimeRanges[i][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0];});for(var i=t.disableTimeRanges.length-1;i>0;i--)t.disableTimeRanges[i][0]<=t.disableTimeRanges[i-1][1]&&(t.disableTimeRanges[i-1]=[Math.min(t.disableTimeRanges[i][0],t.disableTimeRanges[i-1][0]),Math.max(t.disableTimeRanges[i][1],t.disableTimeRanges[i-1][1])],t.disableTimeRanges.splice(i,1));}return t;}function i(t){let n=t.data('timepicker-settings'),i=t.data('timepicker-list');if(i&&i.length&&(i.remove(),t.data('timepicker-list',!1)),n.useSelect){i=e('<select />',{ class:'ui-timepicker-select' });var r=i;}else{i=e('<ul />',{ class:'ui-timepicker-list' });var r=e('<div />',{ class:'ui-timepicker-wrapper',tabindex:-1 });r.css({ display:'none',position:'absolute' }).append(i);}if(n.noneOption)if(!0===n.noneOption&&(n.noneOption=n.useSelect?'Time...':'None'),e.isArray(n.noneOption)){for(var l in n.noneOption)if(parseInt(l,10)==l){var u=a(n.noneOption[l],n.useSelect);i.append(u);}}else{var u=a(n.noneOption,n.useSelect);i.append(u);}n.className&&r.addClass(n.className),null===n.minTime&&null===n.durationTime||!n.showDuration||('function'==typeof n.step||n.step,r.addClass('ui-timepicker-with-duration'),r.addClass('ui-timepicker-step-'+n.step));let d=n.minTime;'function'==typeof n.durationTime?d=w(n.durationTime()):null!==n.durationTime&&(d=n.durationTime);let h=null!==n.minTime?n.minTime:0,f=null!==n.maxTime?n.maxTime:h+b-1;h>f&&(f+=b),f===b-1&&'string'===e.type(n.timeFormat)&&n.show2400&&(f=b);let m=n.disableTimeRanges,C=0,k=m.length,T=n.step;'function'!=typeof T&&(T=function(){return n.step;});for(var l=h,M=0;f>=l;M++,l+=60*T(M)){let x=l,E=v(x,n);if(n.useSelect){var L=e('<option />',{ value:E });L.text(E);}else{var L=e('<li />');L.addClass(b/2>x%b?'ui-timepicker-am':'ui-timepicker-pm'),L.data('time',_(x,n)),L.text(E);}if((null!==n.minTime||null!==n.durationTime)&&n.showDuration){let D=g(l-d,n.step);if(n.useSelect)L.text(L.text()+' ('+D+')');else{let P=e('<span />',{ class:'ui-timepicker-duration' });P.text(' ('+D+')'),L.append(P);}}k>C&&(x>=m[C][1]&&(C+=1),m[C]&&x>=m[C][0]&&x<m[C][1]&&(n.useSelect?L.prop('disabled',!0):L.addClass('ui-timepicker-disabled'))),i.append(L);}if(r.data('timepicker-input',t),t.data('timepicker-list',r),n.useSelect)t.val()&&i.val(s(w(t.val()),n)),i.on('focus',function(){e(this).data('timepicker-input').trigger('showTimepicker');}),i.on('blur',function(){e(this).data('timepicker-input').trigger('hideTimepicker');}),i.on('change',function(){p(t,e(this).val(),'select');}),p(t,i.val(),'initial'),t.hide().after(i);else{let O=n.appendTo;'string'==typeof O?O=e(O):'function'==typeof O&&(O=O(t)),O.append(r),c(t,i),i.on('mousedown click','li',function(n){t.off('focus.timepicker'),t.on('focus.timepicker-ie-hack',function(){t.off('focus.timepicker-ie-hack'),t.on('focus.timepicker',S.show);}),o(t)||t[0].focus(),i.find('li').removeClass('ui-timepicker-selected'),e(this).addClass('ui-timepicker-selected'),y(t)&&(t.trigger('hideTimepicker'),i.on('mouseup.timepicker click.timepicker','li',function(e){i.off('mouseup.timepicker click.timepicker'),r.hide();}));});}}function a(t,n){let i,a,s;return'object'==typeof t?(i=t.label,a=t.className,s=t.value):'string'==typeof t?i=t:e.error('Invalid noneOption value'),n?e('<option />',{ value:s,class:a,text:i }):e('<li />',{ class:a,text:i }).data('time',String(s));}function s(e,t){return e=t.roundingFunction(e,t),null!==e?v(e,t):void 0;}function r(t){if(t.target!=window){let n=e(t.target);n.closest('.ui-timepicker-input').length||n.closest('.ui-timepicker-wrapper').length||(S.hide(),e(document).unbind('.ui-timepicker'),e(window).unbind('.ui-timepicker'));}}function o(e){let t=e.data('timepicker-settings');return(window.navigator.msMaxTouchPoints||'ontouchstart'in document)&&t.disableTouchKeyboard;}function l(t,n,i){if(!i&&0!==i)return!1;var a=t.data('timepicker-settings'),s=!1,i=a.roundingFunction(i,a);return n.find('li').each(function(t,n){let a=e(n);if('number'==typeof a.data('time'))return a.data('time')==i?(s=a,!1):void 0;}),s;}function c(e,t){t.find('li').removeClass('ui-timepicker-selected');let n=w(d(e),e.data('timepicker-settings'));if(null!==n){let i=l(e,t,n);if(i){let a=i.offset().top-t.offset().top;(a+i.outerHeight()>t.outerHeight()||0>a)&&t.scrollTop(t.scrollTop()+i.position().top-i.outerHeight()),i.addClass('ui-timepicker-selected');}}}function u(t,n){if(''!==this.value&&'timepicker'!=n){let i=e(this);if(!i.is(':focus')||t&&'change'==t.type){let a=i.data('timepicker-settings'),s=w(this.value,a);if(null===s)return void i.trigger('timeFormatError');let r=!1;if(null!==a.minTime&&null!==a.maxTime&&(s<a.minTime||s>a.maxTime)&&(r=!0),e.each(a.disableTimeRanges,function(){return s>=this[0]&&s<this[1]?(r=!0,!1):void 0;}),a.forceRoundTime){let o=a.roundingFunction(s,a);o!=s&&(s=o,n=null);}let l=v(s,a);r?(p(i,l,'error')||t&&'change'==t.type)&&i.trigger('timeRangeError'):p(i,l,n);}}}function d(e){return e.is('input')?e.val():e.data('ui-timepicker-value');}function p(e,t,n){if(e.is('input')){e.val(t);let i=e.data('timepicker-settings');i.useSelect&&'select'!=n&&'initial'!=n&&e.data('timepicker-list').val(s(w(t),i));}return e.data('ui-timepicker-value')!=t?(e.data('ui-timepicker-value',t),'select'==n?e.trigger('selectTime').trigger('changeTime').trigger('change','timepicker'):-1==['error','initial'].indexOf(n)&&e.trigger('changeTime'),!0):(e.trigger('selectTime'),!1);}function h(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault();}}function f(n){let i=e(this),a=i.data('timepicker-list');if(!a||!t(a)){if(40!=n.keyCode)return!0;S.show.call(i.get(0)),a=i.data('timepicker-list'),o(i)||i.focus();}switch(n.keyCode){case 13:return y(i)&&(u.call(i.get(0),{ type:'change' }),S.hide.apply(this)),n.preventDefault(),!1;case 38:var s=a.find('.ui-timepicker-selected');return s.length?s.is(':first-child')||(s.removeClass('ui-timepicker-selected'),s.prev().addClass('ui-timepicker-selected'),s.prev().position().top<s.outerHeight()&&a.scrollTop(a.scrollTop()-s.outerHeight())):(a.find('li').each(function(t,n){return e(n).position().top>0?(s=e(n),!1):void 0;}),s.addClass('ui-timepicker-selected')),!1;case 40:return s=a.find('.ui-timepicker-selected'),0===s.length?(a.find('li').each(function(t,n){return e(n).position().top>0?(s=e(n),!1):void 0;}),s.addClass('ui-timepicker-selected')):s.is(':last-child')||(s.removeClass('ui-timepicker-selected'),s.next().addClass('ui-timepicker-selected'),s.next().position().top+2*s.outerHeight()>a.outerHeight()&&a.scrollTop(a.scrollTop()+s.outerHeight())),!1;case 27:a.find('li').removeClass('ui-timepicker-selected'),S.hide();break;case 9:S.hide();break;default:return!0;}}function m(n){let i=e(this),a=i.data('timepicker-list'),s=i.data('timepicker-settings');if(!a||!t(a)||s.disableTextInput)return!0;switch(n.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?c(i,a):a.hide();}}function y(e){let t=e.data('timepicker-settings'),n=e.data('timepicker-list'),i=null,a=n.find('.ui-timepicker-selected');return!a.hasClass('ui-timepicker-disabled')&&(a.length&&(i=a.data('time')),null!==i&&('string'!=typeof i&&(i=v(i,t)),p(e,i,'select')),!0);}function g(e,t){e=Math.abs(e);let n,i,a=Math.round(e/60),s=[];return 60>a?s=[a,C.mins]:(n=Math.floor(a/60),i=a%60,30==t&&30==i&&(n+=C.decimal+5),s.push(n),s.push(1==n?C.hr:C.hrs),30!=t&&i&&(s.push(i),s.push(C.mins))),s.join(' ');}function v(t,n){if('number'!=typeof t)return null;var i=parseInt(t%60),a=parseInt(t/60%60),s=parseInt(t/3600%24),r=new Date(1970,0,2,s,a,i,0);if(isNaN(r.getTime()))return null;if('function'===e.type(n.timeFormat))return n.timeFormat(r);for(var o,l,c='',u=0;u<n.timeFormat.length;u++)switch(l=n.timeFormat.charAt(u)){case'a':c+=r.getHours()>11?C.pm:C.am;break;case'A':c+=r.getHours()>11?C.PM:C.AM;break;case'g':o=r.getHours()%12,c+=0===o?'12':o;break;case'G':o=r.getHours(),t===b&&(o=n.show2400?24:0),c+=o;break;case'h':o=r.getHours()%12,0!==o&&10>o&&(o='0'+o),c+=0===o?'12':o;break;case'H':o=r.getHours(),t===b&&(o=n.show2400?24:0),c+=o>9?o:'0'+o;break;case'i':var a=r.getMinutes();c+=a>9?a:'0'+a;break;case's':i=r.getSeconds(),c+=i>9?i:'0'+i;break;case'\\':u++,c+=n.timeFormat.charAt(u);break;default:c+=l;}return c;}function w(e,t){if(''===e||null===e)return null;if('object'==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if('string'!=typeof e)return e;e=e.toLowerCase().replace(/[\s\.]/g,''),('a'==e.slice(-1)||'p'==e.slice(-1))&&(e+='m');let n='('+C.am.replace('.','')+'|'+C.pm.replace('.','')+'|'+C.AM.replace('.','')+'|'+C.PM.replace('.','')+')?',i=new RegExp('^'+n+'([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?'+n+'$'),a=e.match(i);if(!a)return null;let s=parseInt(1*a[2],10);if(s>24){if(t&&!1===t.wrapHours)return null;s%=24;}let r=a[1]||a[5],o=s;if(12>=s&&r){let l=r==C.pm||r==C.PM;o=12==s?l?12:0:s+(l?12:0);}let c=1*a[3]||0,u=1*a[4]||0,d=3600*o+60*c+u;if(12>s&&!r&&t&&t._twelveHourTime&&t.scrollDefault){let p=d-t.scrollDefault();0>p&&p>=b/-2&&(d=(d+b/2)%b);}return d;}function _(e,t){return e==b&&t.show2400?e:e%b;}var b=86400,C={ am:'am',pm:'pm',AM:'AM',PM:'PM',decimal:'.',mins:'mins',hr:'hr',hrs:'hrs' },S={ init:function(t){return this.each(function(){let a=e(this),s=[];for(let r in e.fn.timepicker.defaults)a.data(r)&&(s[r]=a.data(r));let o=e.extend({},e.fn.timepicker.defaults,t,s);if(o.lang&&(C=e.extend(C,o.lang)),o=n(o),a.data('timepicker-settings',o),a.addClass('ui-timepicker-input'),o.useSelect)i(a);else{if(a.prop('autocomplete','off'),o.showOn)for(let l in o.showOn)a.on(o.showOn[l]+'.timepicker',S.show);a.on('change.timepicker',u),a.on('keydown.timepicker',f),a.on('keyup.timepicker',m),o.disableTextInput&&a.on('keydown.timepicker',h),u.call(a.get(0),null,'initial');}});},show:function(n){let a=e(this),s=a.data('timepicker-settings');if(n&&n.preventDefault(),s.useSelect)return void a.data('timepicker-list').focus();o(a)&&a.blur();let u=a.data('timepicker-list');if(!a.prop('readonly')&&(u&&0!==u.length&&'function'!=typeof s.durationTime||(i(a),u=a.data('timepicker-list')),!t(u))){a.data('ui-timepicker-value',a.val()),c(a,u),S.hide(),u.show();let p={};s.orientation.match(/r/)?p.left=a.offset().left+a.outerWidth()-u.outerWidth()+parseInt(u.css('marginLeft').replace('px',''),10):p.left=a.offset().left+parseInt(u.css('marginLeft').replace('px',''),10);let h;h=s.orientation.match(/t/)?'t':s.orientation.match(/b/)?'b':a.offset().top+a.outerHeight(!0)+u.outerHeight()>e(window).height()+e(window).scrollTop()?'t':'b','t'==h?(u.addClass('ui-timepicker-positioned-top'),p.top=a.offset().top-u.outerHeight()+parseInt(u.css('marginTop').replace('px',''),10)):(u.removeClass('ui-timepicker-positioned-top'),p.top=a.offset().top+a.outerHeight()+parseInt(u.css('marginTop').replace('px',''),10)),u.offset(p);let f=u.find('.ui-timepicker-selected');if(!f.length){let m=w(d(a));null!==m?f=l(a,u,m):s.scrollDefault&&(f=l(a,u,s.scrollDefault()));}if(f&&f.length){let y=u.scrollTop()+f.position().top-f.outerHeight();u.scrollTop(y);}else u.scrollTop(0);return s.stopScrollPropagation&&e(document).on('wheel.ui-timepicker','.ui-timepicker-wrapper',function(t){t.preventDefault();let n=e(this).scrollTop();e(this).scrollTop(n+t.originalEvent.deltaY);}),e(document).on('touchstart.ui-timepicker mousedown.ui-timepicker',r),e(window).on('resize.ui-timepicker',r),s.closeOnWindowScroll&&e(document).on('scroll.ui-timepicker',r),a.trigger('showTimepicker'),this;}},hide:function(n){let i=e(this),a=i.data('timepicker-settings');return a&&a.useSelect&&i.blur(),e('.ui-timepicker-wrapper').each(function(){let n=e(this);if(t(n)){let i=n.data('timepicker-input'),a=i.data('timepicker-settings');a&&a.selectOnBlur&&y(i),n.hide(),i.trigger('hideTimepicker');}}),this;},option:function(t,a){return'string'==typeof t&&void 0===a?e(this).data('timepicker-settings')[t]:this.each(function(){let s=e(this),r=s.data('timepicker-settings'),o=s.data('timepicker-list');'object'==typeof t?r=e.extend(r,t):'string'==typeof t&&(r[t]=a),r=n(r),s.data('timepicker-settings',r),u.call(s.get(0),{ type:'change' },'initial'),o&&(o.remove(),s.data('timepicker-list',!1)),r.useSelect&&i(s);});},getSecondsFromMidnight:function(){return w(d(this));},getTime:function(e){let t=this,n=d(t);if(!n)return null;let i=w(n);if(null===i)return null;e||(e=new Date);let a=new Date(e);return a.setHours(i/3600),a.setMinutes(i%3600/60),a.setSeconds(i%60),a.setMilliseconds(0),a;},isVisible:function(){let e=this,n=e.data('timepicker-list');return!(!n||!t(n));},setTime:function(e){let t=this,n=t.data('timepicker-settings');if(n.forceRoundTime)var i=s(w(e),n);else var i=v(w(e),n);return e&&null===i&&n.noneOption&&(i=e),p(t,i),t.data('timepicker-list')&&c(t,t.data('timepicker-list')),this;},remove:function(){let e=this;if(e.hasClass('ui-timepicker-input')){let t=e.data('timepicker-settings');return e.removeAttr('autocomplete','off'),e.removeClass('ui-timepicker-input'),e.removeData('timepicker-settings'),e.off('.timepicker'),e.data('timepicker-list')&&e.data('timepicker-list').remove(),t.useSelect&&e.show(),e.removeData('timepicker-list'),this;}} };e.fn.timepicker=function(t){return this.length?S[t]?this.hasClass('ui-timepicker-input')?S[t].apply(this,Array.prototype.slice.call(arguments,1)):this:'object'!=typeof t&&t?void e.error('Method '+t+' does not exist on jQuery.timepicker'):S.init.apply(this,arguments):this;},e.fn.timepicker.defaults={ appendTo:'body',className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:'l',roundingFunction:function(e,t){if(null===e)return null;if('number'!=typeof t.step)return e;let n=e%(60*t.step);return n-=(t.minTime||0)%(60*t.step),n>=30*t.step?e+=60*t.step-n:e-=n,_(e,t);},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:['click','focus'],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:'g:ia',typeaheadHighlight:!0,useSelect:!1,wrapHours:!0 };});}).call(t,n(47)(e));},function(e,t){function n(){}n.prototype={ on:function(e,t,n){let i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({ fn:t,ctx:n }),this;},once:function(e,t,n){function i(){a.off(e,i),t.apply(n,arguments);}var a=this;return i._=t,this.on(e,i,n);},emit:function(e){let t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,a=n.length;for(i;i<a;i++)n[i].fn.apply(n[i].ctx,t);return this;},off:function(e,t){let n=this.e||(this.e={}),i=n[e],a=[];if(i&&t)for(let s=0,r=i.length;s<r;s++)i[s].fn!==t&&i[s].fn._!==t&&a.push(i[s]);return a.length?n[e]=a:delete n[e],this;} },e.exports=n;},function(e,t,n){'use strict';(function(t){let n=function(){};'production'!==t.env.NODE_ENV&&(n=function(e,t,n){let i=arguments.length;n=new Array(i>2?i-2:0);for(let a=2;a<i;a++)n[a-2]=arguments[a];if(void 0===t)throw new Error('`warning(condition, format, ...args)` requires a warning message argument');if(t.length<10||/^[s\W]*$/.test(t))throw new Error('The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: '+t);if(!e){let s=0,r='Warning: '+t.replace(/%s/g,function(){return n[s++];});'undefined'!=typeof console&&console.error(r);try{throw new Error(r);}catch(e){}}}),e.exports=n;}).call(t,n(215));},function(e,t,n){function i(e){return n(a(e));}function a(e){let t=s[e];if(!(t+1))throw new Error('Cannot find module \''+e+'\'.');return t;}var s={ './en.json':32,'./es.json':171,'./fr.json':172 };i.keys=function(){return Object.keys(s);},i.resolve=a,e.exports=i,i.id=224;},function(e,t,n){function i(e){return n(a(e));}function a(e){let t=s[e];if(!(t+1))throw new Error('Cannot find module \''+e+'\'.');return t;}var s={ './config.json':33,'./locales/en.json':173,'./stations.json':34 };i.keys=function(){return Object.keys(s);},i.resolve=a,e.exports=i,i.id=225;}]);});